var _R=Object.defineProperty;var vR=(n,t,e)=>t in n?_R(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var lu=(n,t,e)=>vR(n,typeof t!="symbol"?t+"":t,e);import{r as q,c as K,u as S,g as di,i as Ft,a as Ji,s as Lo,w as mR,b as Ef,n as jn,o as vn,d as yR,e as bR,f as Gt,h as wR,j as Mo,k as rv,l as xR,N as Ya,m as ot,p as G,q as ht,t as kt,v as Ii,x as st,y as ln,z as vy,A as xr,B as ER,C as Sf,D as Tt,F as es,E as yt,G as xt,H as lt,I as On,J as vt,K as ns,L as Er,M as Bi,O as Di,P as Xa,Q as my,T as yy,R as Mn,S as Cf,U as SR,V as by,W as wy,X as CR,Y as TR,Z as RR,_ as OR,$ as PR,a0 as LR,a1 as kR,a2 as IR,a3 as De,a4 as xy,a5 as Fa,a6 as sv,a7 as as,a8 as BR,a9 as AR,aa as ks}from"./index-BHkkhNC2.js";const MR=Symbol(),Nh="el",DR="is-",bs=(n,t,e,i,s)=>{let a=`${n}-${t}`;return e&&(a+=`-${e}`),i&&(a+=`__${i}`),s&&(a+=`--${s}`),a},$R=Symbol("namespaceContextKey"),Tf=n=>{const t=di()?Ft($R,q(Nh)):q(Nh);return K(()=>S(t)||Nh)},xe=(n,t)=>{const e=Tf();return{namespace:e,b:(x="")=>bs(e.value,n,x,"",""),e:x=>x?bs(e.value,n,"",x,""):"",m:x=>x?bs(e.value,n,"","",x):"",be:(x,R)=>x&&R?bs(e.value,n,x,R,""):"",em:(x,R)=>x&&R?bs(e.value,n,"",x,R):"",bm:(x,R)=>x&&R?bs(e.value,n,x,"",R):"",bem:(x,R,C)=>x&&R&&C?bs(e.value,n,x,R,C):"",is:(x,...R)=>{const C=R.length>=1?R[0]:!0;return x&&C?`${DR}${x}`:""},cssVar:x=>{const R={};for(const C in x)x[C]&&(R[`--${e.value}-${C}`]=x[C]);return R},cssVarName:x=>`--${e.value}-${x}`,cssVarBlock:x=>{const R={};for(const C in x)x[C]&&(R[`--${e.value}-${n}-${C}`]=x[C]);return R},cssVarBlockName:x=>`--${e.value}-${n}-${x}`}};var FR=typeof global=="object"&&global&&global.Object===Object&&global,NR=typeof self=="object"&&self&&self.Object===Object&&self,Rf=FR||NR||Function("return this")(),rs=Rf.Symbol,Ey=Object.prototype,WR=Ey.hasOwnProperty,zR=Ey.toString,ga=rs?rs.toStringTag:void 0;function HR(n){var t=WR.call(n,ga),e=n[ga];try{n[ga]=void 0;var i=!0}catch{}var s=zR.call(n);return i&&(t?n[ga]=e:delete n[ga]),s}var VR=Object.prototype,UR=VR.toString;function GR(n){return UR.call(n)}var KR="[object Null]",jR="[object Undefined]",ov=rs?rs.toStringTag:void 0;function Of(n){return n==null?n===void 0?jR:KR:ov&&ov in Object(n)?HR(n):GR(n)}function Pf(n){return n!=null&&typeof n=="object"}var YR="[object Symbol]";function Lf(n){return typeof n=="symbol"||Pf(n)&&Of(n)==YR}function XR(n,t){for(var e=-1,i=n==null?0:n.length,s=Array(i);++e<i;)s[e]=t(n[e],e,n);return s}var jo=Array.isArray,ZR=1/0,av=rs?rs.prototype:void 0,lv=av?av.toString:void 0;function Sy(n){if(typeof n=="string")return n;if(jo(n))return XR(n,Sy)+"";if(Lf(n))return lv?lv.call(n):"";var t=n+"";return t=="0"&&1/n==-ZR?"-0":t}function ju(n){var t=typeof n;return n!=null&&(t=="object"||t=="function")}function qR(n){return n}var JR="[object AsyncFunction]",QR="[object Function]",tO="[object GeneratorFunction]",eO="[object Proxy]";function nO(n){if(!ju(n))return!1;var t=Of(n);return t==QR||t==tO||t==JR||t==eO}var Wh=Rf["__core-js_shared__"],uv=function(){var n=/[^.]+$/.exec(Wh&&Wh.keys&&Wh.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function iO(n){return!!uv&&uv in n}var rO=Function.prototype,sO=rO.toString;function oO(n){if(n!=null){try{return sO.call(n)}catch{}try{return n+""}catch{}}return""}var aO=/[\\^$.*+?()[\]{}|]/g,lO=/^\[object .+?Constructor\]$/,uO=Function.prototype,cO=Object.prototype,hO=uO.toString,dO=cO.hasOwnProperty,fO=RegExp("^"+hO.call(dO).replace(aO,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function pO(n){if(!ju(n)||iO(n))return!1;var t=nO(n)?fO:lO;return t.test(oO(n))}function gO(n,t){return n==null?void 0:n[t]}function kf(n,t){var e=gO(n,t);return pO(e)?e:void 0}function _O(n,t,e){switch(e.length){case 0:return n.call(t);case 1:return n.call(t,e[0]);case 2:return n.call(t,e[0],e[1]);case 3:return n.call(t,e[0],e[1],e[2])}return n.apply(t,e)}var vO=800,mO=16,yO=Date.now;function bO(n){var t=0,e=0;return function(){var i=yO(),s=mO-(i-e);if(e=i,s>0){if(++t>=vO)return arguments[0]}else t=0;return n.apply(void 0,arguments)}}function wO(n){return function(){return n}}var Yu=function(){try{var n=kf(Object,"defineProperty");return n({},"",{}),n}catch{}}(),xO=Yu?function(n,t){return Yu(n,"toString",{configurable:!0,enumerable:!1,value:wO(t),writable:!0})}:qR,EO=bO(xO),SO=9007199254740991,CO=/^(?:0|[1-9]\d*)$/;function Cy(n,t){var e=typeof n;return t=t??SO,!!t&&(e=="number"||e!="symbol"&&CO.test(n))&&n>-1&&n%1==0&&n<t}function TO(n,t,e){t=="__proto__"&&Yu?Yu(n,t,{configurable:!0,enumerable:!0,value:e,writable:!0}):n[t]=e}function Ty(n,t){return n===t||n!==n&&t!==t}var RO=Object.prototype,OO=RO.hasOwnProperty;function PO(n,t,e){var i=n[t];(!(OO.call(n,t)&&Ty(i,e))||e===void 0&&!(t in n))&&TO(n,t,e)}var cv=Math.max;function LO(n,t,e){return t=cv(t===void 0?n.length-1:t,0),function(){for(var i=arguments,s=-1,a=cv(i.length-t,0),l=Array(a);++s<a;)l[s]=i[t+s];s=-1;for(var u=Array(t+1);++s<t;)u[s]=i[s];return u[t]=e(l),_O(n,this,u)}}var kO=9007199254740991;function IO(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=kO}var BO="[object Arguments]";function hv(n){return Pf(n)&&Of(n)==BO}var Ry=Object.prototype,AO=Ry.hasOwnProperty,MO=Ry.propertyIsEnumerable,Oy=hv(function(){return arguments}())?hv:function(n){return Pf(n)&&AO.call(n,"callee")&&!MO.call(n,"callee")},DO=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,$O=/^\w*$/;function FO(n,t){if(jo(n))return!1;var e=typeof n;return e=="number"||e=="symbol"||e=="boolean"||n==null||Lf(n)?!0:$O.test(n)||!DO.test(n)||t!=null&&n in Object(t)}var Za=kf(Object,"create");function NO(){this.__data__=Za?Za(null):{},this.size=0}function WO(n){var t=this.has(n)&&delete this.__data__[n];return this.size-=t?1:0,t}var zO="__lodash_hash_undefined__",HO=Object.prototype,VO=HO.hasOwnProperty;function UO(n){var t=this.__data__;if(Za){var e=t[n];return e===zO?void 0:e}return VO.call(t,n)?t[n]:void 0}var GO=Object.prototype,KO=GO.hasOwnProperty;function jO(n){var t=this.__data__;return Za?t[n]!==void 0:KO.call(t,n)}var YO="__lodash_hash_undefined__";function XO(n,t){var e=this.__data__;return this.size+=this.has(n)?0:1,e[n]=Za&&t===void 0?YO:t,this}function Fs(n){var t=-1,e=n==null?0:n.length;for(this.clear();++t<e;){var i=n[t];this.set(i[0],i[1])}}Fs.prototype.clear=NO;Fs.prototype.delete=WO;Fs.prototype.get=UO;Fs.prototype.has=jO;Fs.prototype.set=XO;function ZO(){this.__data__=[],this.size=0}function sc(n,t){for(var e=n.length;e--;)if(Ty(n[e][0],t))return e;return-1}var qO=Array.prototype,JO=qO.splice;function QO(n){var t=this.__data__,e=sc(t,n);if(e<0)return!1;var i=t.length-1;return e==i?t.pop():JO.call(t,e,1),--this.size,!0}function tP(n){var t=this.__data__,e=sc(t,n);return e<0?void 0:t[e][1]}function eP(n){return sc(this.__data__,n)>-1}function nP(n,t){var e=this.__data__,i=sc(e,n);return i<0?(++this.size,e.push([n,t])):e[i][1]=t,this}function Yo(n){var t=-1,e=n==null?0:n.length;for(this.clear();++t<e;){var i=n[t];this.set(i[0],i[1])}}Yo.prototype.clear=ZO;Yo.prototype.delete=QO;Yo.prototype.get=tP;Yo.prototype.has=eP;Yo.prototype.set=nP;var iP=kf(Rf,"Map");function rP(){this.size=0,this.__data__={hash:new Fs,map:new(iP||Yo),string:new Fs}}function sP(n){var t=typeof n;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?n!=="__proto__":n===null}function oc(n,t){var e=n.__data__;return sP(t)?e[typeof t=="string"?"string":"hash"]:e.map}function oP(n){var t=oc(this,n).delete(n);return this.size-=t?1:0,t}function aP(n){return oc(this,n).get(n)}function lP(n){return oc(this,n).has(n)}function uP(n,t){var e=oc(this,n),i=e.size;return e.set(n,t),this.size+=e.size==i?0:1,this}function Us(n){var t=-1,e=n==null?0:n.length;for(this.clear();++t<e;){var i=n[t];this.set(i[0],i[1])}}Us.prototype.clear=rP;Us.prototype.delete=oP;Us.prototype.get=aP;Us.prototype.has=lP;Us.prototype.set=uP;var cP="Expected a function";function If(n,t){if(typeof n!="function"||t!=null&&typeof t!="function")throw new TypeError(cP);var e=function(){var i=arguments,s=t?t.apply(this,i):i[0],a=e.cache;if(a.has(s))return a.get(s);var l=n.apply(this,i);return e.cache=a.set(s,l)||a,l};return e.cache=new(If.Cache||Us),e}If.Cache=Us;var hP=500;function dP(n){var t=If(n,function(i){return e.size===hP&&e.clear(),i}),e=t.cache;return t}var fP=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,pP=/\\(\\)?/g,gP=dP(function(n){var t=[];return n.charCodeAt(0)===46&&t.push(""),n.replace(fP,function(e,i,s,a){t.push(s?a.replace(pP,"$1"):i||e)}),t});function _P(n){return n==null?"":Sy(n)}function ac(n,t){return jo(n)?n:FO(n,t)?[n]:gP(_P(n))}var vP=1/0;function Bf(n){if(typeof n=="string"||Lf(n))return n;var t=n+"";return t=="0"&&1/n==-vP?"-0":t}function Py(n,t){t=ac(t,n);for(var e=0,i=t.length;n!=null&&e<i;)n=n[Bf(t[e++])];return e&&e==i?n:void 0}function mP(n,t,e){var i=n==null?void 0:Py(n,t);return i===void 0?e:i}function yP(n,t){for(var e=-1,i=t.length,s=n.length;++e<i;)n[s+e]=t[e];return n}var dv=rs?rs.isConcatSpreadable:void 0;function bP(n){return jo(n)||Oy(n)||!!(dv&&n&&n[dv])}function wP(n,t,e,i,s){var a=-1,l=n.length;for(e||(e=bP),s||(s=[]);++a<l;){var u=n[a];e(u)?yP(s,u):s[s.length]=u}return s}function xP(n){var t=n==null?0:n.length;return t?wP(n):[]}function EP(n){return EO(LO(n,void 0,xP),n+"")}function SP(){if(!arguments.length)return[];var n=arguments[0];return jo(n)?n:[n]}function CP(n,t){return n!=null&&t in Object(n)}function TP(n,t,e){t=ac(t,n);for(var i=-1,s=t.length,a=!1;++i<s;){var l=Bf(t[i]);if(!(a=n!=null&&e(n,l)))break;n=n[l]}return a||++i!=s?a:(s=n==null?0:n.length,!!s&&IO(s)&&Cy(l,s)&&(jo(n)||Oy(n)))}function RP(n,t){return n!=null&&TP(n,t,CP)}function Xu(n){for(var t=-1,e=n==null?0:n.length,i={};++t<e;){var s=n[t];i[s[0]]=s[1]}return i}function Cr(n){return n==null}function OP(n){return n===void 0}function PP(n,t,e,i){if(!ju(n))return n;t=ac(t,n);for(var s=-1,a=t.length,l=a-1,u=n;u!=null&&++s<a;){var h=Bf(t[s]),d=e;if(h==="__proto__"||h==="constructor"||h==="prototype")return n;if(s!=l){var p=u[h];d=void 0,d===void 0&&(d=ju(p)?p:Cy(t[s+1])?[]:{})}PO(u,h,d),u=u[h]}return n}function LP(n,t,e){for(var i=-1,s=t.length,a={};++i<s;){var l=t[i],u=Py(n,l);e(u,l)&&PP(a,ac(l,n),u)}return a}function kP(n,t){return LP(n,t,function(e,i){return RP(n,i)})}var IP=EP(function(n,t){return n==null?{}:kP(n,t)});const Na=n=>n===void 0,ko=n=>typeof n=="boolean",ye=n=>typeof n=="number",za=n=>typeof Element>"u"?!1:n instanceof Element,BP=n=>Ji(n)?!Number.isNaN(Number(n)):!1;var AP=Object.defineProperty,MP=Object.defineProperties,DP=Object.getOwnPropertyDescriptors,fv=Object.getOwnPropertySymbols,$P=Object.prototype.hasOwnProperty,FP=Object.prototype.propertyIsEnumerable,pv=(n,t,e)=>t in n?AP(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,NP=(n,t)=>{for(var e in t||(t={}))$P.call(t,e)&&pv(n,e,t[e]);if(fv)for(var e of fv(t))FP.call(t,e)&&pv(n,e,t[e]);return n},WP=(n,t)=>MP(n,DP(t));function zP(n,t){var e;const i=Lo();return mR(()=>{i.value=n()},WP(NP({},t),{flush:(e=void 0)!=null?e:"sync"})),Ef(i)}var gv;const Yn=typeof window<"u",HP=n=>typeof n=="string",Ly=()=>{},VP=Yn&&((gv=window==null?void 0:window.navigator)==null?void 0:gv.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function ky(n){return typeof n=="function"?n():S(n)}function UP(n){return n}function Af(n){return yR()?(bR(n),!0):!1}function GP(n,t=!0){di()?vn(n):t?n():jn(n)}function Qr(n){var t;const e=ky(n);return(t=e==null?void 0:e.$el)!=null?t:e}const Mf=Yn?window:void 0;function Qi(...n){let t,e,i,s;if(HP(n[0])||Array.isArray(n[0])?([e,i,s]=n,t=Mf):[t,e,i,s]=n,!t)return Ly;Array.isArray(e)||(e=[e]),Array.isArray(i)||(i=[i]);const a=[],l=()=>{a.forEach(p=>p()),a.length=0},u=(p,v,b,_)=>(p.addEventListener(v,b,_),()=>p.removeEventListener(v,b,_)),h=Gt(()=>[Qr(t),ky(s)],([p,v])=>{l(),p&&a.push(...e.flatMap(b=>i.map(_=>u(p,b,_,v))))},{immediate:!0,flush:"post"}),d=()=>{h(),l()};return Af(d),d}let _v=!1;function KP(n,t,e={}){const{window:i=Mf,ignore:s=[],capture:a=!0,detectIframe:l=!1}=e;if(!i)return;VP&&!_v&&(_v=!0,Array.from(i.document.body.children).forEach(b=>b.addEventListener("click",Ly)));let u=!0;const h=b=>s.some(_=>{if(typeof _=="string")return Array.from(i.document.querySelectorAll(_)).some(m=>m===b.target||b.composedPath().includes(m));{const m=Qr(_);return m&&(b.target===m||b.composedPath().includes(m))}}),p=[Qi(i,"click",b=>{const _=Qr(n);if(!(!_||_===b.target||b.composedPath().includes(_))){if(b.detail===0&&(u=!h(b)),!u){u=!0;return}t(b)}},{passive:!0,capture:a}),Qi(i,"pointerdown",b=>{const _=Qr(n);_&&(u=!b.composedPath().includes(_)&&!h(b))},{passive:!0}),l&&Qi(i,"blur",b=>{var _;const m=Qr(n);((_=i.document.activeElement)==null?void 0:_.tagName)==="IFRAME"&&!(m!=null&&m.contains(i.document.activeElement))&&t(b)})].filter(Boolean);return()=>p.forEach(b=>b())}function jP(n,t=!1){const e=q(),i=()=>e.value=!!n();return i(),GP(i,t),e}const vv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},mv="__vueuse_ssr_handlers__";vv[mv]=vv[mv]||{};var yv=Object.getOwnPropertySymbols,YP=Object.prototype.hasOwnProperty,XP=Object.prototype.propertyIsEnumerable,ZP=(n,t)=>{var e={};for(var i in n)YP.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&yv)for(var i of yv(n))t.indexOf(i)<0&&XP.call(n,i)&&(e[i]=n[i]);return e};function Iy(n,t,e={}){const i=e,{window:s=Mf}=i,a=ZP(i,["window"]);let l;const u=jP(()=>s&&"ResizeObserver"in s),h=()=>{l&&(l.disconnect(),l=void 0)},d=Gt(()=>Qr(n),v=>{h(),u.value&&s&&v&&(l=new ResizeObserver(t),l.observe(v,a))},{immediate:!0,flush:"post"}),p=()=>{h(),d()};return Af(p),{isSupported:u,stop:p}}var bv;(function(n){n.UP="UP",n.RIGHT="RIGHT",n.DOWN="DOWN",n.LEFT="LEFT",n.NONE="NONE"})(bv||(bv={}));var qP=Object.defineProperty,wv=Object.getOwnPropertySymbols,JP=Object.prototype.hasOwnProperty,QP=Object.prototype.propertyIsEnumerable,xv=(n,t,e)=>t in n?qP(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,tL=(n,t)=>{for(var e in t||(t={}))JP.call(t,e)&&xv(n,e,t[e]);if(wv)for(var e of wv(t))QP.call(t,e)&&xv(n,e,t[e]);return n};const eL={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};tL({linear:UP},eL);class nL extends Error{constructor(t){super(t),this.name="ElementPlusError"}}function Df(n,t){throw new nL(`[${n}] ${t}`)}const Ev={current:0},Sv=q(0),iL=2e3,Cv=Symbol("elZIndexContextKey"),rL=Symbol("zIndexContextKey"),sL=n=>{const t=di()?Ft(Cv,Ev):Ev,e=di()?Ft(rL,void 0):void 0,i=K(()=>{const l=S(e);return ye(l)?l:iL}),s=K(()=>i.value+Sv.value),a=()=>(t.current++,Sv.value=t.current,s.value);return!Yn&&Ft(Cv),{initialZIndex:i,currentZIndex:s,nextZIndex:a}};var oL={name:"en",el:{breadcrumb:{label:"Breadcrumb"},colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color.",alphaLabel:"pick alpha value"},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},mention:{loading:"Loading"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",page:"Page",prev:"Go to previous page",next:"Go to next page",currentPage:"page {pager}",prevPages:"Previous {pager} pages",nextPages:"Next {pager} pages",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tour:{next:"Next",previous:"Previous",finish:"Finish"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"},carousel:{leftArrow:"Carousel arrow left",rightArrow:"Carousel arrow right",indicator:"Carousel switch to index {index}"}}};const aL=n=>(t,e)=>lL(t,e,S(n)),lL=(n,t,e)=>mP(e,n,n).replace(/\{(\w+)\}/g,(i,s)=>{var a;return`${(a=t==null?void 0:t[s])!=null?a:`{${s}}`}`}),uL=n=>{const t=K(()=>S(n).name),e=wR(n)?n:q(n);return{lang:t,locale:e,t:aL(n)}},cL=Symbol("localeContextKey"),By=n=>{const t=Ft(cL,q());return uL(K(()=>t.value||oL))},Ay="__epPropKey",Lt=n=>n,hL=n=>Mo(n)&&!!n[Ay],lc=(n,t)=>{if(!Mo(n)||hL(n))return n;const{values:e,required:i,default:s,type:a,validator:l}=n,h={type:a,required:!!i,validator:e||l?d=>{let p=!1,v=[];if(e&&(v=Array.from(e),rv(n,"default")&&v.push(s),p||(p=v.includes(d))),l&&(p||(p=l(d))),!p&&v.length>0){const b=[...new Set(v)].map(_=>JSON.stringify(_)).join(", ");xR(`Invalid prop: validation failed${t?` for prop "${t}"`:""}. Expected one of [${b}], got value ${JSON.stringify(d)}.`)}return p}:void 0,[Ay]:!0};return rv(n,"default")&&(h.default=s),h},Ee=n=>Xu(Object.entries(n).map(([t,e])=>[t,lc(e,t)])),My=["","default","small","large"],$f=lc({type:String,values:My,required:!1}),dL=Symbol("size"),fL=()=>{const n=Ft(dL,{});return K(()=>S(n.size)||"")},Tv=q();function pL(n,t=void 0){const e=di()?Ft(MR,Tv):Tv;return K(()=>{var i,s;return(s=(i=e.value)==null?void 0:i[n])!=null?s:t})}const ui="update:modelValue",qa="change",As="input";var Kt=(n,t)=>{const e=n.__vccOpts||n;for(const[i,s]of t)e[i]=s;return e};function Ja(n,t="px"){if(!n)return"";if(ye(n)||BP(n))return`${n}${t}`;if(Ji(n))return n}const $i=(n,t)=>{if(n.install=e=>{for(const i of[n,...Object.values(t??{})])e.component(i.name,i)},t)for(const[e,i]of Object.entries(t))n[e]=i;return n},Gs=n=>(n.install=Ya,n),gL=Ee({size:{type:Lt([Number,String])},color:{type:String}}),_L=ot({name:"ElIcon",inheritAttrs:!1}),vL=ot({..._L,props:gL,setup(n){const t=n,e=xe("icon"),i=K(()=>{const{size:s,color:a}=t;return!s&&!a?{}:{fontSize:Na(s)?void 0:Ja(s),"--color":a}});return(s,a)=>(G(),ht("i",Ii({class:S(e).b(),style:S(i)},s.$attrs),[kt(s.$slots,"default")],16))}});var mL=Kt(vL,[["__file","icon.vue"]]);const en=$i(mL);/*! Element Plus Icons Vue v2.3.1 */var yL=ot({name:"ArrowDown",__name:"arrow-down",setup(n){return(t,e)=>(G(),ht("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[st("path",{fill:"currentColor",d:"M831.872 340.864 512 652.672 192.128 340.864a30.592 30.592 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.592 30.592 0 0 0-42.752 0z"})]))}}),Dy=yL,bL=ot({name:"ArrowUp",__name:"arrow-up",setup(n){return(t,e)=>(G(),ht("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[st("path",{fill:"currentColor",d:"m488.832 344.32-339.84 356.672a32 32 0 0 0 0 44.16l.384.384a29.44 29.44 0 0 0 42.688 0l320-335.872 319.872 335.872a29.44 29.44 0 0 0 42.688 0l.384-.384a32 32 0 0 0 0-44.16L535.168 344.32a32 32 0 0 0-46.336 0"})]))}}),wL=bL,xL=ot({name:"CircleCheck",__name:"circle-check",setup(n){return(t,e)=>(G(),ht("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[st("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),st("path",{fill:"currentColor",d:"M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752l265.344-265.408z"})]))}}),EL=xL,SL=ot({name:"CircleClose",__name:"circle-close",setup(n){return(t,e)=>(G(),ht("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[st("path",{fill:"currentColor",d:"m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248z"}),st("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"})]))}}),$y=SL,CL=ot({name:"Hide",__name:"hide",setup(n){return(t,e)=>(G(),ht("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[st("path",{fill:"currentColor",d:"M876.8 156.8c0-9.6-3.2-16-9.6-22.4-6.4-6.4-12.8-9.6-22.4-9.6-9.6 0-16 3.2-22.4 9.6L736 220.8c-64-32-137.6-51.2-224-60.8-160 16-288 73.6-377.6 176C44.8 438.4 0 496 0 512s48 73.6 134.4 176c22.4 25.6 44.8 48 73.6 67.2l-86.4 89.6c-6.4 6.4-9.6 12.8-9.6 22.4 0 9.6 3.2 16 9.6 22.4 6.4 6.4 12.8 9.6 22.4 9.6 9.6 0 16-3.2 22.4-9.6l704-710.4c3.2-6.4 6.4-12.8 6.4-22.4Zm-646.4 528c-76.8-70.4-128-128-153.6-172.8 28.8-48 80-105.6 153.6-172.8C304 272 400 230.4 512 224c64 3.2 124.8 19.2 176 44.8l-54.4 54.4C598.4 300.8 560 288 512 288c-64 0-115.2 22.4-160 64s-64 96-64 160c0 48 12.8 89.6 35.2 124.8L256 707.2c-9.6-6.4-19.2-16-25.6-22.4Zm140.8-96c-12.8-22.4-19.2-48-19.2-76.8 0-44.8 16-83.2 48-112 32-28.8 67.2-48 112-48 28.8 0 54.4 6.4 73.6 19.2zM889.599 336c-12.8-16-28.8-28.8-41.6-41.6l-48 48c73.6 67.2 124.8 124.8 150.4 169.6-28.8 48-80 105.6-153.6 172.8-73.6 67.2-172.8 108.8-284.8 115.2-51.2-3.2-99.2-12.8-140.8-28.8l-48 48c57.6 22.4 118.4 38.4 188.8 44.8 160-16 288-73.6 377.6-176C979.199 585.6 1024 528 1024 512s-48.001-73.6-134.401-176Z"}),st("path",{fill:"currentColor",d:"M511.998 672c-12.8 0-25.6-3.2-38.4-6.4l-51.2 51.2c28.8 12.8 57.6 19.2 89.6 19.2 64 0 115.2-22.4 160-64 41.6-41.6 64-96 64-160 0-32-6.4-64-19.2-89.6l-51.2 51.2c3.2 12.8 6.4 25.6 6.4 38.4 0 44.8-16 83.2-48 112-32 28.8-67.2 48-112 48Z"})]))}}),TL=CL,RL=ot({name:"Loading",__name:"loading",setup(n){return(t,e)=>(G(),ht("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[st("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32m0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32m448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32m-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32M195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248zM828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0m-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0z"})]))}}),Ff=RL,OL=ot({name:"Minus",__name:"minus",setup(n){return(t,e)=>(G(),ht("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[st("path",{fill:"currentColor",d:"M128 544h768a32 32 0 1 0 0-64H128a32 32 0 0 0 0 64"})]))}}),PL=OL,LL=ot({name:"Plus",__name:"plus",setup(n){return(t,e)=>(G(),ht("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[st("path",{fill:"currentColor",d:"M480 480V128a32 32 0 0 1 64 0v352h352a32 32 0 1 1 0 64H544v352a32 32 0 1 1-64 0V544H128a32 32 0 0 1 0-64z"})]))}}),kL=LL,IL=ot({name:"View",__name:"view",setup(n){return(t,e)=>(G(),ht("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[st("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352m0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448m0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160"})]))}}),BL=IL;const Sr=Lt([String,Object,Function]),AL={validating:Ff,success:EL,error:$y},Fy=()=>Yn&&/firefox/i.test(window.navigator.userAgent);let wi;const ML=`
  height:0 !important;
  visibility:hidden !important;
  ${Fy()?"":"overflow:hidden !important;"}
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,DL=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function $L(n){const t=window.getComputedStyle(n),e=t.getPropertyValue("box-sizing"),i=Number.parseFloat(t.getPropertyValue("padding-bottom"))+Number.parseFloat(t.getPropertyValue("padding-top")),s=Number.parseFloat(t.getPropertyValue("border-bottom-width"))+Number.parseFloat(t.getPropertyValue("border-top-width"));return{contextStyle:DL.map(l=>`${l}:${t.getPropertyValue(l)}`).join(";"),paddingSize:i,borderSize:s,boxSizing:e}}function Rv(n,t=1,e){var i;wi||(wi=document.createElement("textarea"),document.body.appendChild(wi));const{paddingSize:s,borderSize:a,boxSizing:l,contextStyle:u}=$L(n);wi.setAttribute("style",`${u};${ML}`),wi.value=n.value||n.placeholder||"";let h=wi.scrollHeight;const d={};l==="border-box"?h=h+a:l==="content-box"&&(h=h-s),wi.value="";const p=wi.scrollHeight-s;if(ye(t)){let v=p*t;l==="border-box"&&(v=v+s+a),h=Math.max(v,h),d.minHeight=`${v}px`}if(ye(e)){let v=p*e;l==="border-box"&&(v=v+s+a),h=Math.min(v,h)}return d.height=`${h}px`,(i=wi.parentNode)==null||i.removeChild(wi),wi=void 0,d}const FL=n=>n,NL=Ee({ariaLabel:String,ariaOrientation:{type:String,values:["horizontal","vertical","undefined"]},ariaControls:String}),Xo=n=>IP(NL,n),WL=Ee({id:{type:String,default:void 0},size:$f,disabled:Boolean,modelValue:{type:Lt([String,Number,Object]),default:""},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:Lt([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:Boolean,clearable:Boolean,showPassword:Boolean,showWordLimit:Boolean,suffixIcon:{type:Sr},prefixIcon:{type:Sr},containerRole:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:Lt([Object,Array,String]),default:()=>FL({})},autofocus:Boolean,rows:{type:Number,default:2},...Xo(["ariaLabel"])}),zL={[ui]:n=>Ji(n),input:n=>Ji(n),change:n=>Ji(n),focus:n=>n instanceof FocusEvent,blur:n=>n instanceof FocusEvent,clear:()=>!0,mouseleave:n=>n instanceof MouseEvent,mouseenter:n=>n instanceof MouseEvent,keydown:n=>n instanceof Event,compositionstart:n=>n instanceof CompositionEvent,compositionupdate:n=>n instanceof CompositionEvent,compositionend:n=>n instanceof CompositionEvent},HL=["class","style"],VL=/^on[A-Z]/,UL=(n={})=>{const{excludeListeners:t=!1,excludeKeys:e}=n,i=K(()=>((e==null?void 0:e.value)||[]).concat(HL)),s=di();return s?K(()=>{var a;return Xu(Object.entries((a=s.proxy)==null?void 0:a.$attrs).filter(([l])=>!i.value.includes(l)&&!(t&&VL.test(l))))}):K(()=>({}))},Nf=Symbol("formContextKey"),Zu=Symbol("formItemContextKey"),Ov={prefix:Math.floor(Math.random()*1e4),current:0},GL=Symbol("elIdInjection"),Ny=()=>di()?Ft(GL,Ov):Ov,uc=n=>{const t=Ny(),e=Tf();return zP(()=>S(n)||`${e.value}-id-${t.prefix}-${t.current++}`)},cc=()=>{const n=Ft(Nf,void 0),t=Ft(Zu,void 0);return{form:n,formItem:t}},Wy=(n,{formItemContext:t,disableIdGeneration:e,disableIdManagement:i})=>{e||(e=q(!1)),i||(i=q(!1));const s=q();let a;const l=K(()=>{var u;return!!(!(n.label||n.ariaLabel)&&t&&t.inputIds&&((u=t.inputIds)==null?void 0:u.length)<=1)});return vn(()=>{a=Gt([ln(n,"id"),e],([u,h])=>{const d=u??(h?void 0:uc().value);d!==s.value&&(t!=null&&t.removeInputId&&(s.value&&t.removeInputId(s.value),!(i!=null&&i.value)&&!h&&d&&t.addInputId(d)),s.value=d)},{immediate:!0})}),vy(()=>{a&&a(),t!=null&&t.removeInputId&&s.value&&t.removeInputId(s.value)}),{isLabeledByFormItem:l,inputId:s}},zy=n=>{const t=di();return K(()=>{var e,i;return(i=(e=t==null?void 0:t.proxy)==null?void 0:e.$props)==null?void 0:i[n]})},al=(n,t={})=>{const e=q(void 0),i=t.prop?e:zy("size"),s=t.global?e:fL(),a=t.form?{size:void 0}:Ft(Nf,void 0),l=t.formItem?{size:void 0}:Ft(Zu,void 0);return K(()=>i.value||S(n)||(l==null?void 0:l.size)||(a==null?void 0:a.size)||s.value||"")},ll=n=>{const t=zy("disabled"),e=Ft(Nf,void 0);return K(()=>t.value||S(n)||(e==null?void 0:e.disabled)||!1)};function KL(n,{beforeFocus:t,afterFocus:e,beforeBlur:i,afterBlur:s}={}){const a=di(),{emit:l}=a,u=Lo(),h=q(!1),d=b=>{xr(t)&&t(b)||h.value||(h.value=!0,l("focus",b),e==null||e())},p=b=>{var _;xr(i)&&i(b)||b.relatedTarget&&((_=u.value)!=null&&_.contains(b.relatedTarget))||(h.value=!1,l("blur",b),s==null||s())},v=()=>{var b,_;(b=u.value)!=null&&b.contains(document.activeElement)&&u.value!==document.activeElement||(_=n.value)==null||_.focus()};return Gt(u,b=>{b&&b.setAttribute("tabindex","-1")}),Qi(u,"focus",d,!0),Qi(u,"blur",p,!0),Qi(u,"click",v,!0),{isFocused:h,wrapperRef:u,handleFocus:d,handleBlur:p}}const jL=n=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(n);function YL({afterComposition:n,emit:t}){const e=q(!1),i=u=>{t==null||t("compositionstart",u),e.value=!0},s=u=>{var h;t==null||t("compositionupdate",u);const d=(h=u.target)==null?void 0:h.value,p=d[d.length-1]||"";e.value=!jL(p)},a=u=>{t==null||t("compositionend",u),e.value&&(e.value=!1,jn(()=>n(u)))};return{isComposing:e,handleComposition:u=>{u.type==="compositionend"?a(u):s(u)},handleCompositionStart:i,handleCompositionUpdate:s,handleCompositionEnd:a}}function XL(n){let t;function e(){if(n.value==null)return;const{selectionStart:s,selectionEnd:a,value:l}=n.value;if(s==null||a==null)return;const u=l.slice(0,Math.max(0,s)),h=l.slice(Math.max(0,a));t={selectionStart:s,selectionEnd:a,value:l,beforeTxt:u,afterTxt:h}}function i(){if(n.value==null||t==null)return;const{value:s}=n.value,{beforeTxt:a,afterTxt:l,selectionStart:u}=t;if(a==null||l==null||u==null)return;let h=s.length;if(s.endsWith(l))h=s.length-l.length;else if(s.startsWith(a))h=a.length;else{const d=a[u-1],p=s.indexOf(d,u-1);p!==-1&&(h=p+1)}n.value.setSelectionRange(h,h)}return[e,i]}const ZL=ot({name:"ElInput",inheritAttrs:!1}),qL=ot({...ZL,props:WL,emits:zL,setup(n,{expose:t,emit:e}){const i=n,s=ER(),a=UL(),l=Sf(),u=K(()=>[i.type==="textarea"?x.b():m.b(),m.m(b.value),m.is("disabled",_.value),m.is("exceed",he.value),{[m.b("group")]:l.prepend||l.append,[m.m("prefix")]:l.prefix||i.prefixIcon,[m.m("suffix")]:l.suffix||i.suffixIcon||i.clearable||i.showPassword,[m.bm("suffix","password-clear")]:et.value&&pt.value,[m.b("hidden")]:i.type==="hidden"},s.class]),h=K(()=>[m.e("wrapper"),m.is("focus",U.value)]),{form:d,formItem:p}=cc(),{inputId:v}=Wy(i,{formItemContext:p}),b=al(),_=ll(),m=xe("input"),x=xe("textarea"),R=Lo(),C=Lo(),L=q(!1),A=q(!1),O=q(),E=Lo(i.inputStyle),M=K(()=>R.value||C.value),{wrapperRef:I,isFocused:U,handleFocus:tt,handleBlur:Z}=KL(M,{beforeFocus(){return _.value},afterBlur(){var X;i.validateEvent&&((X=p==null?void 0:p.validate)==null||X.call(p,"blur").catch(Vt=>void 0))}}),J=K(()=>{var X;return(X=d==null?void 0:d.statusIcon)!=null?X:!1}),Y=K(()=>(p==null?void 0:p.validateState)||""),it=K(()=>Y.value&&AL[Y.value]),Pt=K(()=>A.value?BL:TL),F=K(()=>[s.style]),W=K(()=>[i.inputStyle,E.value,{resize:i.resize}]),z=K(()=>Cr(i.modelValue)?"":String(i.modelValue)),et=K(()=>i.clearable&&!_.value&&!i.readonly&&!!z.value&&(U.value||L.value)),pt=K(()=>i.showPassword&&!_.value&&!!z.value&&(!!z.value||U.value)),Wt=K(()=>i.showWordLimit&&!!i.maxlength&&(i.type==="text"||i.type==="textarea")&&!_.value&&!i.readonly&&!i.showPassword),$t=K(()=>z.value.length),he=K(()=>!!Wt.value&&$t.value>Number(i.maxlength)),oe=K(()=>!!l.suffix||!!i.suffixIcon||et.value||i.showPassword||Wt.value||!!Y.value&&J.value),[Ye,Le]=XL(R);Iy(C,X=>{if(Ze(),!Wt.value||i.resize!=="both")return;const Vt=X[0],{width:yn}=Vt.contentRect;O.value={right:`calc(100% - ${yn+15+6}px)`}});const Xe=()=>{const{type:X,autosize:Vt}=i;if(!(!Yn||X!=="textarea"||!C.value))if(Vt){const yn=Mo(Vt)?Vt.minRows:void 0,bn=Mo(Vt)?Vt.maxRows:void 0,Yt=Rv(C.value,yn,bn);E.value={overflowY:"hidden",...Yt},jn(()=>{C.value.offsetHeight,E.value=Yt})}else E.value={minHeight:Rv(C.value).minHeight}},Ze=(X=>{let Vt=!1;return()=>{var yn;if(Vt||!i.autosize)return;((yn=C.value)==null?void 0:yn.offsetParent)===null||(X(),Vt=!0)}})(Xe),rt=()=>{const X=M.value,Vt=i.formatter?i.formatter(z.value):z.value;!X||X.value===Vt||(X.value=Vt)},Mt=async X=>{Ye();let{value:Vt}=X.target;if(i.formatter&&(Vt=i.parser?i.parser(Vt):Vt),!Ae.value){if(Vt===z.value){rt();return}e(ui,Vt),e("input",Vt),await jn(),rt(),Le()}},Ht=X=>{e("change",X.target.value)},{isComposing:Ae,handleCompositionStart:sn,handleCompositionUpdate:be,handleCompositionEnd:qe}=YL({emit:e,afterComposition:Mt}),Me=()=>{Ye(),A.value=!A.value,setTimeout(Le)},Rt=()=>{var X;return(X=M.value)==null?void 0:X.focus()},We=()=>{var X;return(X=M.value)==null?void 0:X.blur()},Dn=X=>{L.value=!1,e("mouseleave",X)},de=X=>{L.value=!0,e("mouseenter",X)},ee=X=>{e("keydown",X)},Je=()=>{var X;(X=M.value)==null||X.select()},$n=()=>{e(ui,""),e("change",""),e("clear"),e("input","")};return Gt(()=>i.modelValue,()=>{var X;jn(()=>Xe()),i.validateEvent&&((X=p==null?void 0:p.validate)==null||X.call(p,"change").catch(Vt=>void 0))}),Gt(z,()=>rt()),Gt(()=>i.type,async()=>{await jn(),rt(),Xe()}),vn(()=>{!i.formatter&&i.parser,rt(),jn(Xe)}),t({input:R,textarea:C,ref:M,textareaStyle:W,autosize:ln(i,"autosize"),isComposing:Ae,focus:Rt,blur:We,select:Je,clear:$n,resizeTextarea:Xe}),(X,Vt)=>(G(),ht("div",{class:yt([S(u),{[S(m).bm("group","append")]:X.$slots.append,[S(m).bm("group","prepend")]:X.$slots.prepend}]),style:Bi(S(F)),onMouseenter:de,onMouseleave:Dn},[Tt(" input "),X.type!=="textarea"?(G(),ht(es,{key:0},[Tt(" prepend slot "),X.$slots.prepend?(G(),ht("div",{key:0,class:yt(S(m).be("group","prepend"))},[kt(X.$slots,"prepend")],2)):Tt("v-if",!0),st("div",{ref_key:"wrapperRef",ref:I,class:yt(S(h))},[Tt(" prefix slot "),X.$slots.prefix||X.prefixIcon?(G(),ht("span",{key:0,class:yt(S(m).e("prefix"))},[st("span",{class:yt(S(m).e("prefix-inner"))},[kt(X.$slots,"prefix"),X.prefixIcon?(G(),xt(S(en),{key:0,class:yt(S(m).e("icon"))},{default:lt(()=>[(G(),xt(On(X.prefixIcon)))]),_:1},8,["class"])):Tt("v-if",!0)],2)],2)):Tt("v-if",!0),st("input",Ii({id:S(v),ref_key:"input",ref:R,class:S(m).e("inner")},S(a),{minlength:X.minlength,maxlength:X.maxlength,type:X.showPassword?A.value?"text":"password":X.type,disabled:S(_),readonly:X.readonly,autocomplete:X.autocomplete,tabindex:X.tabindex,"aria-label":X.ariaLabel,placeholder:X.placeholder,style:X.inputStyle,form:X.form,autofocus:X.autofocus,role:X.containerRole,onCompositionstart:S(sn),onCompositionupdate:S(be),onCompositionend:S(qe),onInput:Mt,onChange:Ht,onKeydown:ee}),null,16,["id","minlength","maxlength","type","disabled","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus","role","onCompositionstart","onCompositionupdate","onCompositionend"]),Tt(" suffix slot "),S(oe)?(G(),ht("span",{key:1,class:yt(S(m).e("suffix"))},[st("span",{class:yt(S(m).e("suffix-inner"))},[!S(et)||!S(pt)||!S(Wt)?(G(),ht(es,{key:0},[kt(X.$slots,"suffix"),X.suffixIcon?(G(),xt(S(en),{key:0,class:yt(S(m).e("icon"))},{default:lt(()=>[(G(),xt(On(X.suffixIcon)))]),_:1},8,["class"])):Tt("v-if",!0)],64)):Tt("v-if",!0),S(et)?(G(),xt(S(en),{key:1,class:yt([S(m).e("icon"),S(m).e("clear")]),onMousedown:ns(S(Ya),["prevent"]),onClick:$n},{default:lt(()=>[vt(S($y))]),_:1},8,["class","onMousedown"])):Tt("v-if",!0),S(pt)?(G(),xt(S(en),{key:2,class:yt([S(m).e("icon"),S(m).e("password")]),onClick:Me},{default:lt(()=>[(G(),xt(On(S(Pt))))]),_:1},8,["class"])):Tt("v-if",!0),S(Wt)?(G(),ht("span",{key:3,class:yt(S(m).e("count"))},[st("span",{class:yt(S(m).e("count-inner"))},Er(S($t))+" / "+Er(X.maxlength),3)],2)):Tt("v-if",!0),S(Y)&&S(it)&&S(J)?(G(),xt(S(en),{key:4,class:yt([S(m).e("icon"),S(m).e("validateIcon"),S(m).is("loading",S(Y)==="validating")])},{default:lt(()=>[(G(),xt(On(S(it))))]),_:1},8,["class"])):Tt("v-if",!0)],2)],2)):Tt("v-if",!0)],2),Tt(" append slot "),X.$slots.append?(G(),ht("div",{key:1,class:yt(S(m).be("group","append"))},[kt(X.$slots,"append")],2)):Tt("v-if",!0)],64)):(G(),ht(es,{key:1},[Tt(" textarea "),st("textarea",Ii({id:S(v),ref_key:"textarea",ref:C,class:[S(x).e("inner"),S(m).is("focus",S(U))]},S(a),{minlength:X.minlength,maxlength:X.maxlength,tabindex:X.tabindex,disabled:S(_),readonly:X.readonly,autocomplete:X.autocomplete,style:S(W),"aria-label":X.ariaLabel,placeholder:X.placeholder,form:X.form,autofocus:X.autofocus,rows:X.rows,role:X.containerRole,onCompositionstart:S(sn),onCompositionupdate:S(be),onCompositionend:S(qe),onInput:Mt,onFocus:S(tt),onBlur:S(Z),onChange:Ht,onKeydown:ee}),null,16,["id","minlength","maxlength","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus","rows","role","onCompositionstart","onCompositionupdate","onCompositionend","onFocus","onBlur"]),S(Wt)?(G(),ht("span",{key:0,style:Bi(O.value),class:yt(S(m).e("count"))},Er(S($t))+" / "+Er(X.maxlength),7)):Tt("v-if",!0)],64))],38))}});var JL=Kt(qL,[["__file","input.vue"]]);const Hy=$i(JL),uo=4,QL={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},tk=({move:n,size:t,bar:e})=>({[e.size]:t,transform:`translate${e.axis}(${n}%)`}),Wf=Symbol("scrollbarContextKey"),ek=Ee({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),nk="Thumb",ik=ot({__name:"thumb",props:ek,setup(n){const t=n,e=Ft(Wf),i=xe("scrollbar");e||Df(nk,"can not inject scrollbar context");const s=q(),a=q(),l=q({}),u=q(!1);let h=!1,d=!1,p=Yn?document.onselectstart:null;const v=K(()=>QL[t.vertical?"vertical":"horizontal"]),b=K(()=>tk({size:t.size,move:t.move,bar:v.value})),_=K(()=>s.value[v.value.offset]**2/e.wrapElement[v.value.scrollSize]/t.ratio/a.value[v.value.offset]),m=M=>{var I;if(M.stopPropagation(),M.ctrlKey||[1,2].includes(M.button))return;(I=window.getSelection())==null||I.removeAllRanges(),R(M);const U=M.currentTarget;U&&(l.value[v.value.axis]=U[v.value.offset]-(M[v.value.client]-U.getBoundingClientRect()[v.value.direction]))},x=M=>{if(!a.value||!s.value||!e.wrapElement)return;const I=Math.abs(M.target.getBoundingClientRect()[v.value.direction]-M[v.value.client]),U=a.value[v.value.offset]/2,tt=(I-U)*100*_.value/s.value[v.value.offset];e.wrapElement[v.value.scroll]=tt*e.wrapElement[v.value.scrollSize]/100},R=M=>{M.stopImmediatePropagation(),h=!0,document.addEventListener("mousemove",C),document.addEventListener("mouseup",L),p=document.onselectstart,document.onselectstart=()=>!1},C=M=>{if(!s.value||!a.value||h===!1)return;const I=l.value[v.value.axis];if(!I)return;const U=(s.value.getBoundingClientRect()[v.value.direction]-M[v.value.client])*-1,tt=a.value[v.value.offset]-I,Z=(U-tt)*100*_.value/s.value[v.value.offset];e.wrapElement[v.value.scroll]=Z*e.wrapElement[v.value.scrollSize]/100},L=()=>{h=!1,l.value[v.value.axis]=0,document.removeEventListener("mousemove",C),document.removeEventListener("mouseup",L),E(),d&&(u.value=!1)},A=()=>{d=!1,u.value=!!t.size},O=()=>{d=!0,u.value=h};Di(()=>{E(),document.removeEventListener("mouseup",L)});const E=()=>{document.onselectstart!==p&&(document.onselectstart=p)};return Qi(ln(e,"scrollbarElement"),"mousemove",A),Qi(ln(e,"scrollbarElement"),"mouseleave",O),(M,I)=>(G(),xt(yy,{name:S(i).b("fade"),persisted:""},{default:lt(()=>[Xa(st("div",{ref_key:"instance",ref:s,class:yt([S(i).e("bar"),S(i).is(S(v).key)]),onMousedown:x},[st("div",{ref_key:"thumb",ref:a,class:yt(S(i).e("thumb")),style:Bi(S(b)),onMousedown:m},null,38)],34),[[my,M.always||u.value]])]),_:1},8,["name"]))}});var Pv=Kt(ik,[["__file","thumb.vue"]]);const rk=Ee({always:{type:Boolean,default:!0},minSize:{type:Number,required:!0}}),sk=ot({__name:"bar",props:rk,setup(n,{expose:t}){const e=n,i=Ft(Wf),s=q(0),a=q(0),l=q(""),u=q(""),h=q(1),d=q(1);return t({handleScroll:b=>{if(b){const _=b.offsetHeight-uo,m=b.offsetWidth-uo;a.value=b.scrollTop*100/_*h.value,s.value=b.scrollLeft*100/m*d.value}},update:()=>{const b=i==null?void 0:i.wrapElement;if(!b)return;const _=b.offsetHeight-uo,m=b.offsetWidth-uo,x=_**2/b.scrollHeight,R=m**2/b.scrollWidth,C=Math.max(x,e.minSize),L=Math.max(R,e.minSize);h.value=x/(_-x)/(C/(_-C)),d.value=R/(m-R)/(L/(m-L)),u.value=C+uo<_?`${C}px`:"",l.value=L+uo<m?`${L}px`:""}}),(b,_)=>(G(),ht(es,null,[vt(Pv,{move:s.value,ratio:d.value,size:l.value,always:b.always},null,8,["move","ratio","size","always"]),vt(Pv,{move:a.value,ratio:h.value,size:u.value,vertical:"",always:b.always},null,8,["move","ratio","size","always"])],64))}});var ok=Kt(sk,[["__file","bar.vue"]]);const ak=Ee({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:Lt([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20},tabindex:{type:[String,Number],default:void 0},id:String,role:String,...Xo(["ariaLabel","ariaOrientation"])}),lk={scroll:({scrollTop:n,scrollLeft:t})=>[n,t].every(ye)},uk="ElScrollbar",ck=ot({name:uk}),hk=ot({...ck,props:ak,emits:lk,setup(n,{expose:t,emit:e}){const i=n,s=xe("scrollbar");let a,l,u=0,h=0;const d=q(),p=q(),v=q(),b=q(),_=K(()=>{const E={};return i.height&&(E.height=Ja(i.height)),i.maxHeight&&(E.maxHeight=Ja(i.maxHeight)),[i.wrapStyle,E]}),m=K(()=>[i.wrapClass,s.e("wrap"),{[s.em("wrap","hidden-default")]:!i.native}]),x=K(()=>[s.e("view"),i.viewClass]),R=()=>{var E;p.value&&((E=b.value)==null||E.handleScroll(p.value),u=p.value.scrollTop,h=p.value.scrollLeft,e("scroll",{scrollTop:p.value.scrollTop,scrollLeft:p.value.scrollLeft}))};function C(E,M){Mo(E)?p.value.scrollTo(E):ye(E)&&ye(M)&&p.value.scrollTo(E,M)}const L=E=>{ye(E)&&(p.value.scrollTop=E)},A=E=>{ye(E)&&(p.value.scrollLeft=E)},O=()=>{var E;(E=b.value)==null||E.update()};return Gt(()=>i.noresize,E=>{E?(a==null||a(),l==null||l()):({stop:a}=Iy(v,O),l=Qi("resize",O))},{immediate:!0}),Gt(()=>[i.maxHeight,i.height],()=>{i.native||jn(()=>{var E;O(),p.value&&((E=b.value)==null||E.handleScroll(p.value))})}),Mn(Wf,Cf({scrollbarElement:d,wrapElement:p})),SR(()=>{p.value&&(p.value.scrollTop=u,p.value.scrollLeft=h)}),vn(()=>{i.native||jn(()=>{O()})}),by(()=>O()),t({wrapRef:p,update:O,scrollTo:C,setScrollTop:L,setScrollLeft:A,handleScroll:R}),(E,M)=>(G(),ht("div",{ref_key:"scrollbarRef",ref:d,class:yt(S(s).b())},[st("div",{ref_key:"wrapRef",ref:p,class:yt(S(m)),style:Bi(S(_)),tabindex:E.tabindex,onScroll:R},[(G(),xt(On(E.tag),{id:E.id,ref_key:"resizeRef",ref:v,class:yt(S(x)),style:Bi(E.viewStyle),role:E.role,"aria-label":E.ariaLabel,"aria-orientation":E.ariaOrientation},{default:lt(()=>[kt(E.$slots,"default")]),_:3},8,["id","class","style","role","aria-label","aria-orientation"]))],46,["tabindex"]),E.native?Tt("v-if",!0):(G(),xt(ok,{key:0,ref_key:"barRef",ref:b,always:E.always,"min-size":E.minSize},null,8,["always","min-size"]))],2))}});var dk=Kt(hk,[["__file","scrollbar.vue"]]);const fk=$i(dk),zf=Symbol("popper"),Vy=Symbol("popperContent"),pk=["dialog","grid","group","listbox","menu","navigation","tooltip","tree"],Uy=Ee({role:{type:String,values:pk,default:"tooltip"}}),gk=ot({name:"ElPopper",inheritAttrs:!1}),_k=ot({...gk,props:Uy,setup(n,{expose:t}){const e=n,i=q(),s=q(),a=q(),l=q(),u=K(()=>e.role),h={triggerRef:i,popperInstanceRef:s,contentRef:a,referenceRef:l,role:u};return t(h),Mn(zf,h),(d,p)=>kt(d.$slots,"default")}});var vk=Kt(_k,[["__file","popper.vue"]]);const Gy=Ee({arrowOffset:{type:Number,default:5}}),mk=ot({name:"ElPopperArrow",inheritAttrs:!1}),yk=ot({...mk,props:Gy,setup(n,{expose:t}){const e=n,i=xe("popper"),{arrowOffset:s,arrowRef:a,arrowStyle:l}=Ft(Vy,void 0);return Gt(()=>e.arrowOffset,u=>{s.value=u}),Di(()=>{a.value=void 0}),t({arrowRef:a}),(u,h)=>(G(),ht("span",{ref_key:"arrowRef",ref:a,class:yt(S(i).e("arrow")),style:Bi(S(l)),"data-popper-arrow":""},null,6))}});var bk=Kt(yk,[["__file","arrow.vue"]]);const Ky=Ee({virtualRef:{type:Lt(Object)},virtualTriggering:Boolean,onMouseenter:{type:Lt(Function)},onMouseleave:{type:Lt(Function)},onClick:{type:Lt(Function)},onKeydown:{type:Lt(Function)},onFocus:{type:Lt(Function)},onBlur:{type:Lt(Function)},onContextmenu:{type:Lt(Function)},id:String,open:Boolean}),jy=Symbol("elForwardRef"),wk=n=>{Mn(jy,{setForwardRef:e=>{n.value=e}})},xk=n=>({mounted(t){n(t)},updated(t){n(t)},unmounted(){n(null)}}),Lv=n=>{if(n.tabIndex>0||n.tabIndex===0&&n.getAttribute("tabIndex")!==null)return!0;if(n.tabIndex<0||n.hasAttribute("disabled")||n.getAttribute("aria-disabled")==="true")return!1;switch(n.nodeName){case"A":return!!n.href&&n.rel!=="ignore";case"INPUT":return!(n.type==="hidden"||n.type==="file");case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}},Ek="ElOnlyChild",Yy=ot({name:Ek,setup(n,{slots:t,attrs:e}){var i;const s=Ft(jy),a=xk((i=s==null?void 0:s.setForwardRef)!=null?i:Ya);return()=>{var l;const u=(l=t.default)==null?void 0:l.call(t,e);if(!u||u.length>1)return null;const h=Xy(u);return h?Xa(TR(h,e),[[a]]):null}}});function Xy(n){if(!n)return null;const t=n;for(const e of t){if(Mo(e))switch(e.type){case CR:continue;case wy:case"svg":return kv(e);case es:return Xy(e.children);default:return e}return kv(e)}return null}function kv(n){const t=xe("only-child");return vt("span",{class:t.e("content")},[n])}const Sk=ot({name:"ElPopperTrigger",inheritAttrs:!1}),Ck=ot({...Sk,props:Ky,setup(n,{expose:t}){const e=n,{role:i,triggerRef:s}=Ft(zf,void 0);wk(s);const a=K(()=>u.value?e.id:void 0),l=K(()=>{if(i&&i.value==="tooltip")return e.open&&e.id?e.id:void 0}),u=K(()=>{if(i&&i.value!=="tooltip")return i.value}),h=K(()=>u.value?`${e.open}`:void 0);let d;const p=["onMouseenter","onMouseleave","onClick","onKeydown","onFocus","onBlur","onContextmenu"];return vn(()=>{Gt(()=>e.virtualRef,v=>{v&&(s.value=Qr(v))},{immediate:!0}),Gt(s,(v,b)=>{d==null||d(),d=void 0,za(v)&&(p.forEach(_=>{var m;const x=e[_];x&&(v.addEventListener(_.slice(2).toLowerCase(),x),(m=b==null?void 0:b.removeEventListener)==null||m.call(b,_.slice(2).toLowerCase(),x))}),Lv(v)&&(d=Gt([a,l,u,h],_=>{["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach((m,x)=>{Cr(_[x])?v.removeAttribute(m):v.setAttribute(m,_[x])})},{immediate:!0}))),za(b)&&Lv(b)&&["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach(_=>b.removeAttribute(_))},{immediate:!0})}),Di(()=>{if(d==null||d(),d=void 0,s.value&&za(s.value)){const v=s.value;p.forEach(b=>{const _=e[b];_&&v.removeEventListener(b.slice(2).toLowerCase(),_)}),s.value=void 0}}),t({triggerRef:s}),(v,b)=>v.virtualTriggering?Tt("v-if",!0):(G(),xt(S(Yy),Ii({key:0},v.$attrs,{"aria-controls":S(a),"aria-describedby":S(l),"aria-expanded":S(h),"aria-haspopup":S(u)}),{default:lt(()=>[kt(v.$slots,"default")]),_:3},16,["aria-controls","aria-describedby","aria-expanded","aria-haspopup"]))}});var Tk=Kt(Ck,[["__file","trigger.vue"]]);const zh="focus-trap.focus-after-trapped",Hh="focus-trap.focus-after-released",Rk="focus-trap.focusout-prevented",Iv={cancelable:!0,bubbles:!1},Ok={cancelable:!0,bubbles:!1},Bv="focusAfterTrapped",Av="focusAfterReleased",Zy=Symbol("elFocusTrap"),Hf=q(),hc=q(0),Vf=q(0);let uu=0;const qy=n=>{const t=[],e=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const s=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||s?NodeFilter.FILTER_SKIP:i.tabIndex>=0||i===document.activeElement?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;e.nextNode();)t.push(e.currentNode);return t},Mv=(n,t)=>{for(const e of n)if(!Pk(e,t))return e},Pk=(n,t)=>{if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(t&&n===t)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1},Lk=n=>{const t=qy(n),e=Mv(t,n),i=Mv(t.reverse(),n);return[e,i]},kk=n=>n instanceof HTMLInputElement&&"select"in n,Jr=(n,t)=>{if(n&&n.focus){const e=document.activeElement;n.focus({preventScroll:!0}),Vf.value=window.performance.now(),n!==e&&kk(n)&&t&&n.select()}};function Dv(n,t){const e=[...n],i=n.indexOf(t);return i!==-1&&e.splice(i,1),e}const Ik=()=>{let n=[];return{push:i=>{const s=n[0];s&&i!==s&&s.pause(),n=Dv(n,i),n.unshift(i)},remove:i=>{var s,a;n=Dv(n,i),(a=(s=n[0])==null?void 0:s.resume)==null||a.call(s)}}},Bk=(n,t=!1)=>{const e=document.activeElement;for(const i of n)if(Jr(i,t),document.activeElement!==e)return},$v=Ik(),Ak=()=>hc.value>Vf.value,cu=()=>{Hf.value="pointer",hc.value=window.performance.now()},Fv=()=>{Hf.value="keyboard",hc.value=window.performance.now()},Mk=()=>(vn(()=>{uu===0&&(document.addEventListener("mousedown",cu),document.addEventListener("touchstart",cu),document.addEventListener("keydown",Fv)),uu++}),Di(()=>{uu--,uu<=0&&(document.removeEventListener("mousedown",cu),document.removeEventListener("touchstart",cu),document.removeEventListener("keydown",Fv))}),{focusReason:Hf,lastUserFocusTimestamp:hc,lastAutomatedFocusTimestamp:Vf}),hu=n=>new CustomEvent(Rk,{...Ok,detail:n}),Fe={tab:"Tab",enter:"Enter",space:"Space",up:"ArrowUp",down:"ArrowDown",esc:"Escape",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"};let Co=[];const Nv=n=>{n.code===Fe.esc&&Co.forEach(t=>t(n))},Dk=n=>{vn(()=>{Co.length===0&&document.addEventListener("keydown",Nv),Yn&&Co.push(n)}),Di(()=>{Co=Co.filter(t=>t!==n),Co.length===0&&Yn&&document.removeEventListener("keydown",Nv)})},$k=ot({name:"ElFocusTrap",inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean,focusTrapEl:Object,focusStartEl:{type:[Object,String],default:"first"}},emits:[Bv,Av,"focusin","focusout","focusout-prevented","release-requested"],setup(n,{emit:t}){const e=q();let i,s;const{focusReason:a}=Mk();Dk(m=>{n.trapped&&!l.paused&&t("release-requested",m)});const l={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},u=m=>{if(!n.loop&&!n.trapped||l.paused)return;const{code:x,altKey:R,ctrlKey:C,metaKey:L,currentTarget:A,shiftKey:O}=m,{loop:E}=n,M=x===Fe.tab&&!R&&!C&&!L,I=document.activeElement;if(M&&I){const U=A,[tt,Z]=Lk(U);if(tt&&Z){if(!O&&I===Z){const Y=hu({focusReason:a.value});t("focusout-prevented",Y),Y.defaultPrevented||(m.preventDefault(),E&&Jr(tt,!0))}else if(O&&[tt,U].includes(I)){const Y=hu({focusReason:a.value});t("focusout-prevented",Y),Y.defaultPrevented||(m.preventDefault(),E&&Jr(Z,!0))}}else if(I===U){const Y=hu({focusReason:a.value});t("focusout-prevented",Y),Y.defaultPrevented||m.preventDefault()}}};Mn(Zy,{focusTrapRef:e,onKeydown:u}),Gt(()=>n.focusTrapEl,m=>{m&&(e.value=m)},{immediate:!0}),Gt([e],([m],[x])=>{m&&(m.addEventListener("keydown",u),m.addEventListener("focusin",p),m.addEventListener("focusout",v)),x&&(x.removeEventListener("keydown",u),x.removeEventListener("focusin",p),x.removeEventListener("focusout",v))});const h=m=>{t(Bv,m)},d=m=>t(Av,m),p=m=>{const x=S(e);if(!x)return;const R=m.target,C=m.relatedTarget,L=R&&x.contains(R);n.trapped||C&&x.contains(C)||(i=C),L&&t("focusin",m),!l.paused&&n.trapped&&(L?s=R:Jr(s,!0))},v=m=>{const x=S(e);if(!(l.paused||!x))if(n.trapped){const R=m.relatedTarget;!Cr(R)&&!x.contains(R)&&setTimeout(()=>{if(!l.paused&&n.trapped){const C=hu({focusReason:a.value});t("focusout-prevented",C),C.defaultPrevented||Jr(s,!0)}},0)}else{const R=m.target;R&&x.contains(R)||t("focusout",m)}};async function b(){await jn();const m=S(e);if(m){$v.push(l);const x=m.contains(document.activeElement)?i:document.activeElement;if(i=x,!m.contains(x)){const C=new Event(zh,Iv);m.addEventListener(zh,h),m.dispatchEvent(C),C.defaultPrevented||jn(()=>{let L=n.focusStartEl;Ji(L)||(Jr(L),document.activeElement!==L&&(L="first")),L==="first"&&Bk(qy(m),!0),(document.activeElement===x||L==="container")&&Jr(m)})}}}function _(){const m=S(e);if(m){m.removeEventListener(zh,h);const x=new CustomEvent(Hh,{...Iv,detail:{focusReason:a.value}});m.addEventListener(Hh,d),m.dispatchEvent(x),!x.defaultPrevented&&(a.value=="keyboard"||!Ak()||m.contains(document.activeElement))&&Jr(i??document.body),m.removeEventListener(Hh,d),$v.remove(l)}}return vn(()=>{n.trapped&&b(),Gt(()=>n.trapped,m=>{m?b():_()})}),Di(()=>{n.trapped&&_(),e.value&&(e.value.removeEventListener("keydown",u),e.value.removeEventListener("focusin",p),e.value.removeEventListener("focusout",v),e.value=void 0)}),{onKeydown:u}}});function Fk(n,t,e,i,s,a){return kt(n.$slots,"default",{handleKeydown:n.onKeydown})}var Nk=Kt($k,[["render",Fk],["__file","focus-trap.vue"]]),Ln="top",fi="bottom",pi="right",kn="left",Uf="auto",ul=[Ln,fi,pi,kn],Do="start",Qa="end",Wk="clippingParents",Jy="viewport",_a="popper",zk="reference",Wv=ul.reduce(function(n,t){return n.concat([t+"-"+Do,t+"-"+Qa])},[]),Gf=[].concat(ul,[Uf]).reduce(function(n,t){return n.concat([t,t+"-"+Do,t+"-"+Qa])},[]),Hk="beforeRead",Vk="read",Uk="afterRead",Gk="beforeMain",Kk="main",jk="afterMain",Yk="beforeWrite",Xk="write",Zk="afterWrite",qk=[Hk,Vk,Uk,Gk,Kk,jk,Yk,Xk,Zk];function er(n){return n?(n.nodeName||"").toLowerCase():null}function Fi(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var t=n.ownerDocument;return t&&t.defaultView||window}return n}function $o(n){var t=Fi(n).Element;return n instanceof t||n instanceof Element}function hi(n){var t=Fi(n).HTMLElement;return n instanceof t||n instanceof HTMLElement}function Kf(n){if(typeof ShadowRoot>"u")return!1;var t=Fi(n).ShadowRoot;return n instanceof t||n instanceof ShadowRoot}function Jk(n){var t=n.state;Object.keys(t.elements).forEach(function(e){var i=t.styles[e]||{},s=t.attributes[e]||{},a=t.elements[e];!hi(a)||!er(a)||(Object.assign(a.style,i),Object.keys(s).forEach(function(l){var u=s[l];u===!1?a.removeAttribute(l):a.setAttribute(l,u===!0?"":u)}))})}function Qk(n){var t=n.state,e={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,e.popper),t.styles=e,t.elements.arrow&&Object.assign(t.elements.arrow.style,e.arrow),function(){Object.keys(t.elements).forEach(function(i){var s=t.elements[i],a=t.attributes[i]||{},l=Object.keys(t.styles.hasOwnProperty(i)?t.styles[i]:e[i]),u=l.reduce(function(h,d){return h[d]="",h},{});!hi(s)||!er(s)||(Object.assign(s.style,u),Object.keys(a).forEach(function(h){s.removeAttribute(h)}))})}}var Qy={name:"applyStyles",enabled:!0,phase:"write",fn:Jk,effect:Qk,requires:["computeStyles"]};function tr(n){return n.split("-")[0]}var Ms=Math.max,qu=Math.min,Fo=Math.round;function No(n,t){t===void 0&&(t=!1);var e=n.getBoundingClientRect(),i=1,s=1;if(hi(n)&&t){var a=n.offsetHeight,l=n.offsetWidth;l>0&&(i=Fo(e.width)/l||1),a>0&&(s=Fo(e.height)/a||1)}return{width:e.width/i,height:e.height/s,top:e.top/s,right:e.right/i,bottom:e.bottom/s,left:e.left/i,x:e.left/i,y:e.top/s}}function jf(n){var t=No(n),e=n.offsetWidth,i=n.offsetHeight;return Math.abs(t.width-e)<=1&&(e=t.width),Math.abs(t.height-i)<=1&&(i=t.height),{x:n.offsetLeft,y:n.offsetTop,width:e,height:i}}function tb(n,t){var e=t.getRootNode&&t.getRootNode();if(n.contains(t))return!0;if(e&&Kf(e)){var i=t;do{if(i&&n.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function Rr(n){return Fi(n).getComputedStyle(n)}function tI(n){return["table","td","th"].indexOf(er(n))>=0}function ls(n){return(($o(n)?n.ownerDocument:n.document)||window.document).documentElement}function dc(n){return er(n)==="html"?n:n.assignedSlot||n.parentNode||(Kf(n)?n.host:null)||ls(n)}function zv(n){return!hi(n)||Rr(n).position==="fixed"?null:n.offsetParent}function eI(n){var t=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,e=navigator.userAgent.indexOf("Trident")!==-1;if(e&&hi(n)){var i=Rr(n);if(i.position==="fixed")return null}var s=dc(n);for(Kf(s)&&(s=s.host);hi(s)&&["html","body"].indexOf(er(s))<0;){var a=Rr(s);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||t&&a.willChange==="filter"||t&&a.filter&&a.filter!=="none")return s;s=s.parentNode}return null}function cl(n){for(var t=Fi(n),e=zv(n);e&&tI(e)&&Rr(e).position==="static";)e=zv(e);return e&&(er(e)==="html"||er(e)==="body"&&Rr(e).position==="static")?t:e||eI(n)||t}function Yf(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function Ha(n,t,e){return Ms(n,qu(t,e))}function nI(n,t,e){var i=Ha(n,t,e);return i>e?e:i}function eb(){return{top:0,right:0,bottom:0,left:0}}function nb(n){return Object.assign({},eb(),n)}function ib(n,t){return t.reduce(function(e,i){return e[i]=n,e},{})}var iI=function(n,t){return n=typeof n=="function"?n(Object.assign({},t.rects,{placement:t.placement})):n,nb(typeof n!="number"?n:ib(n,ul))};function rI(n){var t,e=n.state,i=n.name,s=n.options,a=e.elements.arrow,l=e.modifiersData.popperOffsets,u=tr(e.placement),h=Yf(u),d=[kn,pi].indexOf(u)>=0,p=d?"height":"width";if(!(!a||!l)){var v=iI(s.padding,e),b=jf(a),_=h==="y"?Ln:kn,m=h==="y"?fi:pi,x=e.rects.reference[p]+e.rects.reference[h]-l[h]-e.rects.popper[p],R=l[h]-e.rects.reference[h],C=cl(a),L=C?h==="y"?C.clientHeight||0:C.clientWidth||0:0,A=x/2-R/2,O=v[_],E=L-b[p]-v[m],M=L/2-b[p]/2+A,I=Ha(O,M,E),U=h;e.modifiersData[i]=(t={},t[U]=I,t.centerOffset=I-M,t)}}function sI(n){var t=n.state,e=n.options,i=e.element,s=i===void 0?"[data-popper-arrow]":i;s!=null&&(typeof s=="string"&&(s=t.elements.popper.querySelector(s),!s)||!tb(t.elements.popper,s)||(t.elements.arrow=s))}var oI={name:"arrow",enabled:!0,phase:"main",fn:rI,effect:sI,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Wo(n){return n.split("-")[1]}var aI={top:"auto",right:"auto",bottom:"auto",left:"auto"};function lI(n){var t=n.x,e=n.y,i=window,s=i.devicePixelRatio||1;return{x:Fo(t*s)/s||0,y:Fo(e*s)/s||0}}function Hv(n){var t,e=n.popper,i=n.popperRect,s=n.placement,a=n.variation,l=n.offsets,u=n.position,h=n.gpuAcceleration,d=n.adaptive,p=n.roundOffsets,v=n.isFixed,b=l.x,_=b===void 0?0:b,m=l.y,x=m===void 0?0:m,R=typeof p=="function"?p({x:_,y:x}):{x:_,y:x};_=R.x,x=R.y;var C=l.hasOwnProperty("x"),L=l.hasOwnProperty("y"),A=kn,O=Ln,E=window;if(d){var M=cl(e),I="clientHeight",U="clientWidth";if(M===Fi(e)&&(M=ls(e),Rr(M).position!=="static"&&u==="absolute"&&(I="scrollHeight",U="scrollWidth")),M=M,s===Ln||(s===kn||s===pi)&&a===Qa){O=fi;var tt=v&&M===E&&E.visualViewport?E.visualViewport.height:M[I];x-=tt-i.height,x*=h?1:-1}if(s===kn||(s===Ln||s===fi)&&a===Qa){A=pi;var Z=v&&M===E&&E.visualViewport?E.visualViewport.width:M[U];_-=Z-i.width,_*=h?1:-1}}var J=Object.assign({position:u},d&&aI),Y=p===!0?lI({x:_,y:x}):{x:_,y:x};if(_=Y.x,x=Y.y,h){var it;return Object.assign({},J,(it={},it[O]=L?"0":"",it[A]=C?"0":"",it.transform=(E.devicePixelRatio||1)<=1?"translate("+_+"px, "+x+"px)":"translate3d("+_+"px, "+x+"px, 0)",it))}return Object.assign({},J,(t={},t[O]=L?x+"px":"",t[A]=C?_+"px":"",t.transform="",t))}function uI(n){var t=n.state,e=n.options,i=e.gpuAcceleration,s=i===void 0?!0:i,a=e.adaptive,l=a===void 0?!0:a,u=e.roundOffsets,h=u===void 0?!0:u,d={placement:tr(t.placement),variation:Wo(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:s,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,Hv(Object.assign({},d,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:l,roundOffsets:h})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,Hv(Object.assign({},d,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:h})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var rb={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:uI,data:{}},du={passive:!0};function cI(n){var t=n.state,e=n.instance,i=n.options,s=i.scroll,a=s===void 0?!0:s,l=i.resize,u=l===void 0?!0:l,h=Fi(t.elements.popper),d=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&d.forEach(function(p){p.addEventListener("scroll",e.update,du)}),u&&h.addEventListener("resize",e.update,du),function(){a&&d.forEach(function(p){p.removeEventListener("scroll",e.update,du)}),u&&h.removeEventListener("resize",e.update,du)}}var sb={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:cI,data:{}},hI={left:"right",right:"left",bottom:"top",top:"bottom"};function Wu(n){return n.replace(/left|right|bottom|top/g,function(t){return hI[t]})}var dI={start:"end",end:"start"};function Vv(n){return n.replace(/start|end/g,function(t){return dI[t]})}function Xf(n){var t=Fi(n),e=t.pageXOffset,i=t.pageYOffset;return{scrollLeft:e,scrollTop:i}}function Zf(n){return No(ls(n)).left+Xf(n).scrollLeft}function fI(n){var t=Fi(n),e=ls(n),i=t.visualViewport,s=e.clientWidth,a=e.clientHeight,l=0,u=0;return i&&(s=i.width,a=i.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(l=i.offsetLeft,u=i.offsetTop)),{width:s,height:a,x:l+Zf(n),y:u}}function pI(n){var t,e=ls(n),i=Xf(n),s=(t=n.ownerDocument)==null?void 0:t.body,a=Ms(e.scrollWidth,e.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),l=Ms(e.scrollHeight,e.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),u=-i.scrollLeft+Zf(n),h=-i.scrollTop;return Rr(s||e).direction==="rtl"&&(u+=Ms(e.clientWidth,s?s.clientWidth:0)-a),{width:a,height:l,x:u,y:h}}function qf(n){var t=Rr(n),e=t.overflow,i=t.overflowX,s=t.overflowY;return/auto|scroll|overlay|hidden/.test(e+s+i)}function ob(n){return["html","body","#document"].indexOf(er(n))>=0?n.ownerDocument.body:hi(n)&&qf(n)?n:ob(dc(n))}function Va(n,t){var e;t===void 0&&(t=[]);var i=ob(n),s=i===((e=n.ownerDocument)==null?void 0:e.body),a=Fi(i),l=s?[a].concat(a.visualViewport||[],qf(i)?i:[]):i,u=t.concat(l);return s?u:u.concat(Va(dc(l)))}function ef(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function gI(n){var t=No(n);return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}function Uv(n,t){return t===Jy?ef(fI(n)):$o(t)?gI(t):ef(pI(ls(n)))}function _I(n){var t=Va(dc(n)),e=["absolute","fixed"].indexOf(Rr(n).position)>=0,i=e&&hi(n)?cl(n):n;return $o(i)?t.filter(function(s){return $o(s)&&tb(s,i)&&er(s)!=="body"}):[]}function vI(n,t,e){var i=t==="clippingParents"?_I(n):[].concat(t),s=[].concat(i,[e]),a=s[0],l=s.reduce(function(u,h){var d=Uv(n,h);return u.top=Ms(d.top,u.top),u.right=qu(d.right,u.right),u.bottom=qu(d.bottom,u.bottom),u.left=Ms(d.left,u.left),u},Uv(n,a));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function ab(n){var t=n.reference,e=n.element,i=n.placement,s=i?tr(i):null,a=i?Wo(i):null,l=t.x+t.width/2-e.width/2,u=t.y+t.height/2-e.height/2,h;switch(s){case Ln:h={x:l,y:t.y-e.height};break;case fi:h={x:l,y:t.y+t.height};break;case pi:h={x:t.x+t.width,y:u};break;case kn:h={x:t.x-e.width,y:u};break;default:h={x:t.x,y:t.y}}var d=s?Yf(s):null;if(d!=null){var p=d==="y"?"height":"width";switch(a){case Do:h[d]=h[d]-(t[p]/2-e[p]/2);break;case Qa:h[d]=h[d]+(t[p]/2-e[p]/2);break}}return h}function tl(n,t){t===void 0&&(t={});var e=t,i=e.placement,s=i===void 0?n.placement:i,a=e.boundary,l=a===void 0?Wk:a,u=e.rootBoundary,h=u===void 0?Jy:u,d=e.elementContext,p=d===void 0?_a:d,v=e.altBoundary,b=v===void 0?!1:v,_=e.padding,m=_===void 0?0:_,x=nb(typeof m!="number"?m:ib(m,ul)),R=p===_a?zk:_a,C=n.rects.popper,L=n.elements[b?R:p],A=vI($o(L)?L:L.contextElement||ls(n.elements.popper),l,h),O=No(n.elements.reference),E=ab({reference:O,element:C,placement:s}),M=ef(Object.assign({},C,E)),I=p===_a?M:O,U={top:A.top-I.top+x.top,bottom:I.bottom-A.bottom+x.bottom,left:A.left-I.left+x.left,right:I.right-A.right+x.right},tt=n.modifiersData.offset;if(p===_a&&tt){var Z=tt[s];Object.keys(U).forEach(function(J){var Y=[pi,fi].indexOf(J)>=0?1:-1,it=[Ln,fi].indexOf(J)>=0?"y":"x";U[J]+=Z[it]*Y})}return U}function mI(n,t){t===void 0&&(t={});var e=t,i=e.placement,s=e.boundary,a=e.rootBoundary,l=e.padding,u=e.flipVariations,h=e.allowedAutoPlacements,d=h===void 0?Gf:h,p=Wo(i),v=p?u?Wv:Wv.filter(function(m){return Wo(m)===p}):ul,b=v.filter(function(m){return d.indexOf(m)>=0});b.length===0&&(b=v);var _=b.reduce(function(m,x){return m[x]=tl(n,{placement:x,boundary:s,rootBoundary:a,padding:l})[tr(x)],m},{});return Object.keys(_).sort(function(m,x){return _[m]-_[x]})}function yI(n){if(tr(n)===Uf)return[];var t=Wu(n);return[Vv(n),t,Vv(t)]}function bI(n){var t=n.state,e=n.options,i=n.name;if(!t.modifiersData[i]._skip){for(var s=e.mainAxis,a=s===void 0?!0:s,l=e.altAxis,u=l===void 0?!0:l,h=e.fallbackPlacements,d=e.padding,p=e.boundary,v=e.rootBoundary,b=e.altBoundary,_=e.flipVariations,m=_===void 0?!0:_,x=e.allowedAutoPlacements,R=t.options.placement,C=tr(R),L=C===R,A=h||(L||!m?[Wu(R)]:yI(R)),O=[R].concat(A).reduce(function(Ye,Le){return Ye.concat(tr(Le)===Uf?mI(t,{placement:Le,boundary:p,rootBoundary:v,padding:d,flipVariations:m,allowedAutoPlacements:x}):Le)},[]),E=t.rects.reference,M=t.rects.popper,I=new Map,U=!0,tt=O[0],Z=0;Z<O.length;Z++){var J=O[Z],Y=tr(J),it=Wo(J)===Do,Pt=[Ln,fi].indexOf(Y)>=0,F=Pt?"width":"height",W=tl(t,{placement:J,boundary:p,rootBoundary:v,altBoundary:b,padding:d}),z=Pt?it?pi:kn:it?fi:Ln;E[F]>M[F]&&(z=Wu(z));var et=Wu(z),pt=[];if(a&&pt.push(W[Y]<=0),u&&pt.push(W[z]<=0,W[et]<=0),pt.every(function(Ye){return Ye})){tt=J,U=!1;break}I.set(J,pt)}if(U)for(var Wt=m?3:1,$t=function(Ye){var Le=O.find(function(Xe){var zi=I.get(Xe);if(zi)return zi.slice(0,Ye).every(function(Ze){return Ze})});if(Le)return tt=Le,"break"},he=Wt;he>0;he--){var oe=$t(he);if(oe==="break")break}t.placement!==tt&&(t.modifiersData[i]._skip=!0,t.placement=tt,t.reset=!0)}}var wI={name:"flip",enabled:!0,phase:"main",fn:bI,requiresIfExists:["offset"],data:{_skip:!1}};function Gv(n,t,e){return e===void 0&&(e={x:0,y:0}),{top:n.top-t.height-e.y,right:n.right-t.width+e.x,bottom:n.bottom-t.height+e.y,left:n.left-t.width-e.x}}function Kv(n){return[Ln,pi,fi,kn].some(function(t){return n[t]>=0})}function xI(n){var t=n.state,e=n.name,i=t.rects.reference,s=t.rects.popper,a=t.modifiersData.preventOverflow,l=tl(t,{elementContext:"reference"}),u=tl(t,{altBoundary:!0}),h=Gv(l,i),d=Gv(u,s,a),p=Kv(h),v=Kv(d);t.modifiersData[e]={referenceClippingOffsets:h,popperEscapeOffsets:d,isReferenceHidden:p,hasPopperEscaped:v},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":p,"data-popper-escaped":v})}var EI={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:xI};function SI(n,t,e){var i=tr(n),s=[kn,Ln].indexOf(i)>=0?-1:1,a=typeof e=="function"?e(Object.assign({},t,{placement:n})):e,l=a[0],u=a[1];return l=l||0,u=(u||0)*s,[kn,pi].indexOf(i)>=0?{x:u,y:l}:{x:l,y:u}}function CI(n){var t=n.state,e=n.options,i=n.name,s=e.offset,a=s===void 0?[0,0]:s,l=Gf.reduce(function(p,v){return p[v]=SI(v,t.rects,a),p},{}),u=l[t.placement],h=u.x,d=u.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=h,t.modifiersData.popperOffsets.y+=d),t.modifiersData[i]=l}var TI={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:CI};function RI(n){var t=n.state,e=n.name;t.modifiersData[e]=ab({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}var lb={name:"popperOffsets",enabled:!0,phase:"read",fn:RI,data:{}};function OI(n){return n==="x"?"y":"x"}function PI(n){var t=n.state,e=n.options,i=n.name,s=e.mainAxis,a=s===void 0?!0:s,l=e.altAxis,u=l===void 0?!1:l,h=e.boundary,d=e.rootBoundary,p=e.altBoundary,v=e.padding,b=e.tether,_=b===void 0?!0:b,m=e.tetherOffset,x=m===void 0?0:m,R=tl(t,{boundary:h,rootBoundary:d,padding:v,altBoundary:p}),C=tr(t.placement),L=Wo(t.placement),A=!L,O=Yf(C),E=OI(O),M=t.modifiersData.popperOffsets,I=t.rects.reference,U=t.rects.popper,tt=typeof x=="function"?x(Object.assign({},t.rects,{placement:t.placement})):x,Z=typeof tt=="number"?{mainAxis:tt,altAxis:tt}:Object.assign({mainAxis:0,altAxis:0},tt),J=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,Y={x:0,y:0};if(M){if(a){var it,Pt=O==="y"?Ln:kn,F=O==="y"?fi:pi,W=O==="y"?"height":"width",z=M[O],et=z+R[Pt],pt=z-R[F],Wt=_?-U[W]/2:0,$t=L===Do?I[W]:U[W],he=L===Do?-U[W]:-I[W],oe=t.elements.arrow,Ye=_&&oe?jf(oe):{width:0,height:0},Le=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:eb(),Xe=Le[Pt],zi=Le[F],Ze=Ha(0,I[W],Ye[W]),rt=A?I[W]/2-Wt-Ze-Xe-Z.mainAxis:$t-Ze-Xe-Z.mainAxis,Mt=A?-I[W]/2+Wt+Ze+zi+Z.mainAxis:he+Ze+zi+Z.mainAxis,Ht=t.elements.arrow&&cl(t.elements.arrow),Ae=Ht?O==="y"?Ht.clientTop||0:Ht.clientLeft||0:0,sn=(it=J==null?void 0:J[O])!=null?it:0,be=z+rt-sn-Ae,qe=z+Mt-sn,Me=Ha(_?qu(et,be):et,z,_?Ms(pt,qe):pt);M[O]=Me,Y[O]=Me-z}if(u){var Rt,We=O==="x"?Ln:kn,Dn=O==="x"?fi:pi,de=M[E],ee=E==="y"?"height":"width",Je=de+R[We],$n=de-R[Dn],X=[Ln,kn].indexOf(C)!==-1,Vt=(Rt=J==null?void 0:J[E])!=null?Rt:0,yn=X?Je:de-I[ee]-U[ee]-Vt+Z.altAxis,bn=X?de+I[ee]+U[ee]-Vt-Z.altAxis:$n,Yt=_&&X?nI(yn,de,bn):Ha(_?yn:Je,de,_?bn:$n);M[E]=Yt,Y[E]=Yt-de}t.modifiersData[i]=Y}}var LI={name:"preventOverflow",enabled:!0,phase:"main",fn:PI,requiresIfExists:["offset"]};function kI(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function II(n){return n===Fi(n)||!hi(n)?Xf(n):kI(n)}function BI(n){var t=n.getBoundingClientRect(),e=Fo(t.width)/n.offsetWidth||1,i=Fo(t.height)/n.offsetHeight||1;return e!==1||i!==1}function AI(n,t,e){e===void 0&&(e=!1);var i=hi(t),s=hi(t)&&BI(t),a=ls(t),l=No(n,s),u={scrollLeft:0,scrollTop:0},h={x:0,y:0};return(i||!i&&!e)&&((er(t)!=="body"||qf(a))&&(u=II(t)),hi(t)?(h=No(t,!0),h.x+=t.clientLeft,h.y+=t.clientTop):a&&(h.x=Zf(a))),{x:l.left+u.scrollLeft-h.x,y:l.top+u.scrollTop-h.y,width:l.width,height:l.height}}function MI(n){var t=new Map,e=new Set,i=[];n.forEach(function(a){t.set(a.name,a)});function s(a){e.add(a.name);var l=[].concat(a.requires||[],a.requiresIfExists||[]);l.forEach(function(u){if(!e.has(u)){var h=t.get(u);h&&s(h)}}),i.push(a)}return n.forEach(function(a){e.has(a.name)||s(a)}),i}function DI(n){var t=MI(n);return qk.reduce(function(e,i){return e.concat(t.filter(function(s){return s.phase===i}))},[])}function $I(n){var t;return function(){return t||(t=new Promise(function(e){Promise.resolve().then(function(){t=void 0,e(n())})})),t}}function FI(n){var t=n.reduce(function(e,i){var s=e[i.name];return e[i.name]=s?Object.assign({},s,i,{options:Object.assign({},s.options,i.options),data:Object.assign({},s.data,i.data)}):i,e},{});return Object.keys(t).map(function(e){return t[e]})}var jv={placement:"bottom",modifiers:[],strategy:"absolute"};function Yv(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];return!t.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function Jf(n){n===void 0&&(n={});var t=n,e=t.defaultModifiers,i=e===void 0?[]:e,s=t.defaultOptions,a=s===void 0?jv:s;return function(l,u,h){h===void 0&&(h=a);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},jv,a),modifiersData:{},elements:{reference:l,popper:u},attributes:{},styles:{}},p=[],v=!1,b={state:d,setOptions:function(x){var R=typeof x=="function"?x(d.options):x;m(),d.options=Object.assign({},a,d.options,R),d.scrollParents={reference:$o(l)?Va(l):l.contextElement?Va(l.contextElement):[],popper:Va(u)};var C=DI(FI([].concat(i,d.options.modifiers)));return d.orderedModifiers=C.filter(function(L){return L.enabled}),_(),b.update()},forceUpdate:function(){if(!v){var x=d.elements,R=x.reference,C=x.popper;if(Yv(R,C)){d.rects={reference:AI(R,cl(C),d.options.strategy==="fixed"),popper:jf(C)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(U){return d.modifiersData[U.name]=Object.assign({},U.data)});for(var L=0;L<d.orderedModifiers.length;L++){if(d.reset===!0){d.reset=!1,L=-1;continue}var A=d.orderedModifiers[L],O=A.fn,E=A.options,M=E===void 0?{}:E,I=A.name;typeof O=="function"&&(d=O({state:d,options:M,name:I,instance:b})||d)}}}},update:$I(function(){return new Promise(function(x){b.forceUpdate(),x(d)})}),destroy:function(){m(),v=!0}};if(!Yv(l,u))return b;b.setOptions(h).then(function(x){!v&&h.onFirstUpdate&&h.onFirstUpdate(x)});function _(){d.orderedModifiers.forEach(function(x){var R=x.name,C=x.options,L=C===void 0?{}:C,A=x.effect;if(typeof A=="function"){var O=A({state:d,name:R,instance:b,options:L}),E=function(){};p.push(O||E)}})}function m(){p.forEach(function(x){return x()}),p=[]}return b}}Jf();var NI=[sb,lb,rb,Qy];Jf({defaultModifiers:NI});var WI=[sb,lb,rb,Qy,TI,wI,LI,oI,EI],zI=Jf({defaultModifiers:WI});const HI=["fixed","absolute"],VI=Ee({boundariesPadding:{type:Number,default:0},fallbackPlacements:{type:Lt(Array),default:void 0},gpuAcceleration:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:String,values:Gf,default:"bottom"},popperOptions:{type:Lt(Object),default:()=>({})},strategy:{type:String,values:HI,default:"absolute"}}),ub=Ee({...VI,id:String,style:{type:Lt([String,Array,Object])},className:{type:Lt([String,Array,Object])},effect:{type:Lt(String),default:"dark"},visible:Boolean,enterable:{type:Boolean,default:!0},pure:Boolean,focusOnShow:{type:Boolean,default:!1},trapping:{type:Boolean,default:!1},popperClass:{type:Lt([String,Array,Object])},popperStyle:{type:Lt([String,Array,Object])},referenceEl:{type:Lt(Object)},triggerTargetEl:{type:Lt(Object)},stopPopperMouseEvent:{type:Boolean,default:!0},virtualTriggering:Boolean,zIndex:Number,...Xo(["ariaLabel"])}),UI={mouseenter:n=>n instanceof MouseEvent,mouseleave:n=>n instanceof MouseEvent,focus:()=>!0,blur:()=>!0,close:()=>!0},GI=(n,t)=>{const e=q(!1),i=q();return{focusStartRef:i,trapped:e,onFocusAfterReleased:d=>{var p;((p=d.detail)==null?void 0:p.focusReason)!=="pointer"&&(i.value="first",t("blur"))},onFocusAfterTrapped:()=>{t("focus")},onFocusInTrap:d=>{n.visible&&!e.value&&(d.target&&(i.value=d.target),e.value=!0)},onFocusoutPrevented:d=>{n.trapping||(d.detail.focusReason==="pointer"&&d.preventDefault(),e.value=!1)},onReleaseRequested:()=>{e.value=!1,t("close")}}},KI=(n,t=[])=>{const{placement:e,strategy:i,popperOptions:s}=n,a={placement:e,strategy:i,...s,modifiers:[...YI(n),...t]};return XI(a,s==null?void 0:s.modifiers),a},jI=n=>{if(Yn)return Qr(n)};function YI(n){const{offset:t,gpuAcceleration:e,fallbackPlacements:i}=n;return[{name:"offset",options:{offset:[0,t??12]}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5,fallbackPlacements:i}},{name:"computeStyles",options:{gpuAcceleration:e}}]}function XI(n,t){t&&(n.modifiers=[...n.modifiers,...t??[]])}const ZI=(n,t,e={})=>{const i={name:"updateState",enabled:!0,phase:"write",fn:({state:h})=>{const d=qI(h);Object.assign(l.value,d)},requires:["computeStyles"]},s=K(()=>{const{onFirstUpdate:h,placement:d,strategy:p,modifiers:v}=S(e);return{onFirstUpdate:h,placement:d||"bottom",strategy:p||"absolute",modifiers:[...v||[],i,{name:"applyStyles",enabled:!1}]}}),a=Lo(),l=q({styles:{popper:{position:S(s).strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),u=()=>{a.value&&(a.value.destroy(),a.value=void 0)};return Gt(s,h=>{const d=S(a);d&&d.setOptions(h)},{deep:!0}),Gt([n,t],([h,d])=>{u(),!(!h||!d)&&(a.value=zI(h,d,S(s)))}),Di(()=>{u()}),{state:K(()=>{var h;return{...((h=S(a))==null?void 0:h.state)||{}}}),styles:K(()=>S(l).styles),attributes:K(()=>S(l).attributes),update:()=>{var h;return(h=S(a))==null?void 0:h.update()},forceUpdate:()=>{var h;return(h=S(a))==null?void 0:h.forceUpdate()},instanceRef:K(()=>S(a))}};function qI(n){const t=Object.keys(n.elements),e=Xu(t.map(s=>[s,n.styles[s]||{}])),i=Xu(t.map(s=>[s,n.attributes[s]]));return{styles:e,attributes:i}}const JI=0,QI=n=>{const{popperInstanceRef:t,contentRef:e,triggerRef:i,role:s}=Ft(zf,void 0),a=q(),l=q(),u=K(()=>({name:"eventListeners",enabled:!!n.visible})),h=K(()=>{var C;const L=S(a),A=(C=S(l))!=null?C:JI;return{name:"arrow",enabled:!OP(L),options:{element:L,padding:A}}}),d=K(()=>({onFirstUpdate:()=>{m()},...KI(n,[S(h),S(u)])})),p=K(()=>jI(n.referenceEl)||S(i)),{attributes:v,state:b,styles:_,update:m,forceUpdate:x,instanceRef:R}=ZI(p,e,d);return Gt(R,C=>t.value=C),vn(()=>{Gt(()=>{var C;return(C=S(p))==null?void 0:C.getBoundingClientRect()},()=>{m()})}),{attributes:v,arrowRef:a,contentRef:e,instanceRef:R,state:b,styles:_,role:s,forceUpdate:x,update:m}},tB=(n,{attributes:t,styles:e,role:i})=>{const{nextZIndex:s}=sL(),a=xe("popper"),l=K(()=>S(t).popper),u=q(ye(n.zIndex)?n.zIndex:s()),h=K(()=>[a.b(),a.is("pure",n.pure),a.is(n.effect),n.popperClass]),d=K(()=>[{zIndex:S(u)},S(e).popper,n.popperStyle||{}]),p=K(()=>i.value==="dialog"?"false":void 0),v=K(()=>S(e).arrow||{});return{ariaModal:p,arrowStyle:v,contentAttrs:l,contentClass:h,contentStyle:d,contentZIndex:u,updateZIndex:()=>{u.value=ye(n.zIndex)?n.zIndex:s()}}},eB=ot({name:"ElPopperContent"}),nB=ot({...eB,props:ub,emits:UI,setup(n,{expose:t,emit:e}){const i=n,{focusStartRef:s,trapped:a,onFocusAfterReleased:l,onFocusAfterTrapped:u,onFocusInTrap:h,onFocusoutPrevented:d,onReleaseRequested:p}=GI(i,e),{attributes:v,arrowRef:b,contentRef:_,styles:m,instanceRef:x,role:R,update:C}=QI(i),{ariaModal:L,arrowStyle:A,contentAttrs:O,contentClass:E,contentStyle:M,updateZIndex:I}=tB(i,{styles:m,attributes:v,role:R}),U=Ft(Zu,void 0),tt=q();Mn(Vy,{arrowStyle:A,arrowRef:b,arrowOffset:tt}),U&&Mn(Zu,{...U,addInputId:Ya,removeInputId:Ya});let Z;const J=(it=!0)=>{C(),it&&I()},Y=()=>{J(!1),i.visible&&i.focusOnShow?a.value=!0:i.visible===!1&&(a.value=!1)};return vn(()=>{Gt(()=>i.triggerTargetEl,(it,Pt)=>{Z==null||Z(),Z=void 0;const F=S(it||_.value),W=S(Pt||_.value);za(F)&&(Z=Gt([R,()=>i.ariaLabel,L,()=>i.id],z=>{["role","aria-label","aria-modal","id"].forEach((et,pt)=>{Cr(z[pt])?F.removeAttribute(et):F.setAttribute(et,z[pt])})},{immediate:!0})),W!==F&&za(W)&&["role","aria-label","aria-modal","id"].forEach(z=>{W.removeAttribute(z)})},{immediate:!0}),Gt(()=>i.visible,Y,{immediate:!0})}),Di(()=>{Z==null||Z(),Z=void 0}),t({popperContentRef:_,popperInstanceRef:x,updatePopper:J,contentStyle:M}),(it,Pt)=>(G(),ht("div",Ii({ref_key:"contentRef",ref:_},S(O),{style:S(M),class:S(E),tabindex:"-1",onMouseenter:F=>it.$emit("mouseenter",F),onMouseleave:F=>it.$emit("mouseleave",F)}),[vt(S(Nk),{trapped:S(a),"trap-on-focus-in":!0,"focus-trap-el":S(_),"focus-start-el":S(s),onFocusAfterTrapped:S(u),onFocusAfterReleased:S(l),onFocusin:S(h),onFocusoutPrevented:S(d),onReleaseRequested:S(p)},{default:lt(()=>[kt(it.$slots,"default")]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusin","onFocusoutPrevented","onReleaseRequested"])],16,["onMouseenter","onMouseleave"]))}});var iB=Kt(nB,[["__file","content.vue"]]);const rB=$i(vk),Qf=Symbol("elTooltip");function Xv(){let n;const t=(i,s)=>{e(),n=window.setTimeout(i,s)},e=()=>window.clearTimeout(n);return Af(()=>e()),{registerTimeout:t,cancelTimeout:e}}const sB=Ee({showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0}}),oB=({showAfter:n,hideAfter:t,autoClose:e,open:i,close:s})=>{const{registerTimeout:a}=Xv(),{registerTimeout:l,cancelTimeout:u}=Xv();return{onOpen:p=>{a(()=>{i(p);const v=S(e);ye(v)&&v>0&&l(()=>{s(p)},v)},S(n))},onClose:p=>{u(),a(()=>{s(p)},S(t))}}},Ju=Ee({...sB,...ub,appendTo:{type:Lt([String,Object])},content:{type:String,default:""},rawContent:Boolean,persistent:Boolean,visible:{type:Lt(Boolean),default:null},transition:String,teleported:{type:Boolean,default:!0},disabled:Boolean,...Xo(["ariaLabel"])}),tp=Ee({...Ky,disabled:Boolean,trigger:{type:Lt([String,Array]),default:"hover"},triggerKeys:{type:Lt(Array),default:()=>[Fe.enter,Fe.numpadEnter,Fe.space]}}),aB=lc({type:Lt(Boolean),default:null}),lB=lc({type:Lt(Function)}),uB=n=>{const t=`update:${n}`,e=`onUpdate:${n}`,i=[t],s={[n]:aB,[e]:lB};return{useModelToggle:({indicator:l,toggleReason:u,shouldHideWhenRouteChanges:h,shouldProceed:d,onShow:p,onHide:v})=>{const b=di(),{emit:_}=b,m=b.props,x=K(()=>xr(m[e])),R=K(()=>m[n]===null),C=I=>{l.value!==!0&&(l.value=!0,u&&(u.value=I),xr(p)&&p(I))},L=I=>{l.value!==!1&&(l.value=!1,u&&(u.value=I),xr(v)&&v(I))},A=I=>{if(m.disabled===!0||xr(d)&&!d())return;const U=x.value&&Yn;U&&_(t,!0),(R.value||!U)&&C(I)},O=I=>{if(m.disabled===!0||!Yn)return;const U=x.value&&Yn;U&&_(t,!1),(R.value||!U)&&L(I)},E=I=>{ko(I)&&(m.disabled&&I?x.value&&_(t,!1):l.value!==I&&(I?C():L()))},M=()=>{l.value?O():A()};return Gt(()=>m[n],E),h&&b.appContext.config.globalProperties.$route!==void 0&&Gt(()=>({...b.proxy.$route}),()=>{h.value&&l.value&&O()}),vn(()=>{E(m[n])}),{hide:O,show:A,toggle:M,hasUpdateHandler:x}},useModelToggleProps:s,useModelToggleEmits:i}},{useModelToggleProps:cB,useModelToggleEmits:hB,useModelToggle:dB}=uB("visible"),fB=Ee({...Uy,...cB,...Ju,...tp,...Gy,showArrow:{type:Boolean,default:!0}}),pB=[...hB,"before-show","before-hide","show","hide","open","close"],gB=(n,t)=>RR(n)?n.includes(t):n===t,co=(n,t,e)=>i=>{gB(S(n),t)&&e(i)},$e=(n,t,{checkForDefaultPrevented:e=!0}={})=>s=>{const a=n==null?void 0:n(s);if(e===!1||!a)return t==null?void 0:t(s)},Zv=n=>t=>t.pointerType==="mouse"?n(t):void 0,_B=ot({name:"ElTooltipTrigger"}),vB=ot({..._B,props:tp,setup(n,{expose:t}){const e=n,i=xe("tooltip"),{controlled:s,id:a,open:l,onOpen:u,onClose:h,onToggle:d}=Ft(Qf,void 0),p=q(null),v=()=>{if(S(s)||e.disabled)return!0},b=ln(e,"trigger"),_=$e(v,co(b,"hover",u)),m=$e(v,co(b,"hover",h)),x=$e(v,co(b,"click",O=>{O.button===0&&d(O)})),R=$e(v,co(b,"focus",u)),C=$e(v,co(b,"focus",h)),L=$e(v,co(b,"contextmenu",O=>{O.preventDefault(),d(O)})),A=$e(v,O=>{const{code:E}=O;e.triggerKeys.includes(E)&&(O.preventDefault(),d(O))});return t({triggerRef:p}),(O,E)=>(G(),xt(S(Tk),{id:S(a),"virtual-ref":O.virtualRef,open:S(l),"virtual-triggering":O.virtualTriggering,class:yt(S(i).e("trigger")),onBlur:S(C),onClick:S(x),onContextmenu:S(L),onFocus:S(R),onMouseenter:S(_),onMouseleave:S(m),onKeydown:S(A)},{default:lt(()=>[kt(O.$slots,"default")]),_:3},8,["id","virtual-ref","open","virtual-triggering","class","onBlur","onClick","onContextmenu","onFocus","onMouseenter","onMouseleave","onKeydown"]))}});var mB=Kt(vB,[["__file","trigger.vue"]]);const yB=Ee({to:{type:Lt([String,Object]),required:!0},disabled:Boolean}),bB=ot({__name:"teleport",props:yB,setup(n){return(t,e)=>t.disabled?kt(t.$slots,"default",{key:0}):(G(),xt(OR,{key:1,to:t.to},[kt(t.$slots,"default")],8,["to"]))}});var wB=Kt(bB,[["__file","teleport.vue"]]);const xB=$i(wB),cb=()=>{const n=Tf(),t=Ny(),e=K(()=>`${n.value}-popper-container-${t.prefix}`),i=K(()=>`#${e.value}`);return{id:e,selector:i}},EB=n=>{const t=document.createElement("div");return t.id=n,document.body.appendChild(t),t},SB=()=>{const{id:n,selector:t}=cb();return PR(()=>{Yn&&(document.body.querySelector(t.value)||EB(n.value))}),{id:n,selector:t}},CB=ot({name:"ElTooltipContent",inheritAttrs:!1}),TB=ot({...CB,props:Ju,setup(n,{expose:t}){const e=n,{selector:i}=cb(),s=xe("tooltip"),a=q();let l;const{controlled:u,id:h,open:d,trigger:p,onClose:v,onOpen:b,onShow:_,onHide:m,onBeforeShow:x,onBeforeHide:R}=Ft(Qf,void 0),C=K(()=>e.transition||`${s.namespace.value}-fade-in-linear`),L=K(()=>e.persistent);Di(()=>{l==null||l()});const A=K(()=>S(L)?!0:S(d)),O=K(()=>e.disabled?!1:S(d)),E=K(()=>e.appendTo||i.value),M=K(()=>{var W;return(W=e.style)!=null?W:{}}),I=q(!0),U=()=>{m(),I.value=!0},tt=()=>{if(S(u))return!0},Z=$e(tt,()=>{e.enterable&&S(p)==="hover"&&b()}),J=$e(tt,()=>{S(p)==="hover"&&v()}),Y=()=>{var W,z;(z=(W=a.value)==null?void 0:W.updatePopper)==null||z.call(W),x==null||x()},it=()=>{R==null||R()},Pt=()=>{_(),l=KP(K(()=>{var W;return(W=a.value)==null?void 0:W.popperContentRef}),()=>{if(S(u))return;S(p)!=="hover"&&v()})},F=()=>{e.virtualTriggering||v()};return Gt(()=>S(d),W=>{W?I.value=!1:l==null||l()},{flush:"post"}),Gt(()=>e.content,()=>{var W,z;(z=(W=a.value)==null?void 0:W.updatePopper)==null||z.call(W)}),t({contentRef:a}),(W,z)=>(G(),xt(S(xB),{disabled:!W.teleported,to:S(E)},{default:lt(()=>[vt(yy,{name:S(C),onAfterLeave:U,onBeforeEnter:Y,onAfterEnter:Pt,onBeforeLeave:it},{default:lt(()=>[S(A)?Xa((G(),xt(S(iB),Ii({key:0,id:S(h),ref_key:"contentRef",ref:a},W.$attrs,{"aria-label":W.ariaLabel,"aria-hidden":I.value,"boundaries-padding":W.boundariesPadding,"fallback-placements":W.fallbackPlacements,"gpu-acceleration":W.gpuAcceleration,offset:W.offset,placement:W.placement,"popper-options":W.popperOptions,strategy:W.strategy,effect:W.effect,enterable:W.enterable,pure:W.pure,"popper-class":W.popperClass,"popper-style":[W.popperStyle,S(M)],"reference-el":W.referenceEl,"trigger-target-el":W.triggerTargetEl,visible:S(O),"z-index":W.zIndex,onMouseenter:S(Z),onMouseleave:S(J),onBlur:F,onClose:S(v)}),{default:lt(()=>[kt(W.$slots,"default")]),_:3},16,["id","aria-label","aria-hidden","boundaries-padding","fallback-placements","gpu-acceleration","offset","placement","popper-options","strategy","effect","enterable","pure","popper-class","popper-style","reference-el","trigger-target-el","visible","z-index","onMouseenter","onMouseleave","onClose"])),[[my,S(O)]]):Tt("v-if",!0)]),_:3},8,["name"])]),_:3},8,["disabled","to"]))}});var RB=Kt(TB,[["__file","content.vue"]]);const OB=ot({name:"ElTooltip"}),PB=ot({...OB,props:fB,emits:pB,setup(n,{expose:t,emit:e}){const i=n;SB();const s=uc(),a=q(),l=q(),u=()=>{var C;const L=S(a);L&&((C=L.popperInstanceRef)==null||C.update())},h=q(!1),d=q(),{show:p,hide:v,hasUpdateHandler:b}=dB({indicator:h,toggleReason:d}),{onOpen:_,onClose:m}=oB({showAfter:ln(i,"showAfter"),hideAfter:ln(i,"hideAfter"),autoClose:ln(i,"autoClose"),open:p,close:v}),x=K(()=>ko(i.visible)&&!b.value);Mn(Qf,{controlled:x,id:s,open:Ef(h),trigger:ln(i,"trigger"),onOpen:C=>{_(C)},onClose:C=>{m(C)},onToggle:C=>{S(h)?m(C):_(C)},onShow:()=>{e("show",d.value)},onHide:()=>{e("hide",d.value)},onBeforeShow:()=>{e("before-show",d.value)},onBeforeHide:()=>{e("before-hide",d.value)},updatePopper:u}),Gt(()=>i.disabled,C=>{C&&h.value&&(h.value=!1)});const R=C=>{var L,A;const O=(A=(L=l.value)==null?void 0:L.contentRef)==null?void 0:A.popperContentRef,E=(C==null?void 0:C.relatedTarget)||document.activeElement;return O&&O.contains(E)};return LR(()=>h.value&&v()),t({popperRef:a,contentRef:l,isFocusInsideContent:R,updatePopper:u,onOpen:_,onClose:m,hide:v}),(C,L)=>(G(),xt(S(rB),{ref_key:"popperRef",ref:a,role:C.role},{default:lt(()=>[vt(mB,{disabled:C.disabled,trigger:C.trigger,"trigger-keys":C.triggerKeys,"virtual-ref":C.virtualRef,"virtual-triggering":C.virtualTriggering},{default:lt(()=>[C.$slots.default?kt(C.$slots,"default",{key:0}):Tt("v-if",!0)]),_:3},8,["disabled","trigger","trigger-keys","virtual-ref","virtual-triggering"]),vt(RB,{ref_key:"contentRef",ref:l,"aria-label":C.ariaLabel,"boundaries-padding":C.boundariesPadding,content:C.content,disabled:C.disabled,effect:C.effect,enterable:C.enterable,"fallback-placements":C.fallbackPlacements,"hide-after":C.hideAfter,"gpu-acceleration":C.gpuAcceleration,offset:C.offset,persistent:C.persistent,"popper-class":C.popperClass,"popper-style":C.popperStyle,placement:C.placement,"popper-options":C.popperOptions,pure:C.pure,"raw-content":C.rawContent,"reference-el":C.referenceEl,"trigger-target-el":C.triggerTargetEl,"show-after":C.showAfter,strategy:C.strategy,teleported:C.teleported,transition:C.transition,"virtual-triggering":C.virtualTriggering,"z-index":C.zIndex,"append-to":C.appendTo},{default:lt(()=>[kt(C.$slots,"content",{},()=>[C.rawContent?(G(),ht("span",{key:0,innerHTML:C.content},null,8,["innerHTML"])):(G(),ht("span",{key:1},Er(C.content),1))]),C.showArrow?(G(),xt(S(bk),{key:0,"arrow-offset":C.arrowOffset},null,8,["arrow-offset"])):Tt("v-if",!0)]),_:3},8,["aria-label","boundaries-padding","content","disabled","effect","enterable","fallback-placements","hide-after","gpu-acceleration","offset","persistent","popper-class","popper-style","placement","popper-options","pure","raw-content","reference-el","trigger-target-el","show-after","strategy","teleported","transition","virtual-triggering","z-index","append-to"])]),_:3},8,["role"]))}});var LB=Kt(PB,[["__file","tooltip.vue"]]);const hb=$i(LB),db=Symbol("buttonGroupContextKey"),kB=({from:n,replacement:t,scope:e,version:i,ref:s,type:a="API"},l)=>{Gt(()=>S(l),u=>{},{immediate:!0})},IB=(n,t)=>{kB({from:"type.text",replacement:"link",version:"3.0.0",scope:"props",ref:"https://element-plus.org/en-US/component/button.html#button-attributes"},K(()=>n.type==="text"));const e=Ft(db,void 0),i=pL("button"),{form:s}=cc(),a=al(K(()=>e==null?void 0:e.size)),l=ll(),u=q(),h=Sf(),d=K(()=>n.type||(e==null?void 0:e.type)||""),p=K(()=>{var m,x,R;return(R=(x=n.autoInsertSpace)!=null?x:(m=i.value)==null?void 0:m.autoInsertSpace)!=null?R:!1}),v=K(()=>n.tag==="button"?{ariaDisabled:l.value||n.loading,disabled:l.value||n.loading,autofocus:n.autofocus,type:n.nativeType}:{}),b=K(()=>{var m;const x=(m=h.default)==null?void 0:m.call(h);if(p.value&&(x==null?void 0:x.length)===1){const R=x[0];if((R==null?void 0:R.type)===wy){const C=R.children;return new RegExp("^\\p{Unified_Ideograph}{2}$","u").test(C.trim())}}return!1});return{_disabled:l,_size:a,_type:d,_ref:u,_props:v,shouldAddSpace:b,handleClick:m=>{if(l.value||n.loading){m.stopPropagation();return}n.nativeType==="reset"&&(s==null||s.resetFields()),t("click",m)}}},BB=["default","primary","success","warning","info","danger","text",""],AB=["button","submit","reset"],nf=Ee({size:$f,disabled:Boolean,type:{type:String,values:BB,default:""},icon:{type:Sr},nativeType:{type:String,values:AB,default:"button"},loading:Boolean,loadingIcon:{type:Sr,default:()=>Ff},plain:Boolean,text:Boolean,link:Boolean,bg:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean,color:String,dark:Boolean,autoInsertSpace:{type:Boolean,default:void 0},tag:{type:Lt([String,Object]),default:"button"}}),MB={click:n=>n instanceof MouseEvent};function nn(n,t){DB(n)&&(n="100%");var e=$B(n);return n=t===360?n:Math.min(t,Math.max(0,parseFloat(n))),e&&(n=parseInt(String(n*t),10)/100),Math.abs(n-t)<1e-6?1:(t===360?n=(n<0?n%t+t:n%t)/parseFloat(String(t)):n=n%t/parseFloat(String(t)),n)}function fu(n){return Math.min(1,Math.max(0,n))}function DB(n){return typeof n=="string"&&n.indexOf(".")!==-1&&parseFloat(n)===1}function $B(n){return typeof n=="string"&&n.indexOf("%")!==-1}function fb(n){return n=parseFloat(n),(isNaN(n)||n<0||n>1)&&(n=1),n}function pu(n){return n<=1?"".concat(Number(n)*100,"%"):n}function Bs(n){return n.length===1?"0"+n:String(n)}function FB(n,t,e){return{r:nn(n,255)*255,g:nn(t,255)*255,b:nn(e,255)*255}}function qv(n,t,e){n=nn(n,255),t=nn(t,255),e=nn(e,255);var i=Math.max(n,t,e),s=Math.min(n,t,e),a=0,l=0,u=(i+s)/2;if(i===s)l=0,a=0;else{var h=i-s;switch(l=u>.5?h/(2-i-s):h/(i+s),i){case n:a=(t-e)/h+(t<e?6:0);break;case t:a=(e-n)/h+2;break;case e:a=(n-t)/h+4;break}a/=6}return{h:a,s:l,l:u}}function Vh(n,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?n+(t-n)*(6*e):e<1/2?t:e<2/3?n+(t-n)*(2/3-e)*6:n}function NB(n,t,e){var i,s,a;if(n=nn(n,360),t=nn(t,100),e=nn(e,100),t===0)s=e,a=e,i=e;else{var l=e<.5?e*(1+t):e+t-e*t,u=2*e-l;i=Vh(u,l,n+1/3),s=Vh(u,l,n),a=Vh(u,l,n-1/3)}return{r:i*255,g:s*255,b:a*255}}function Jv(n,t,e){n=nn(n,255),t=nn(t,255),e=nn(e,255);var i=Math.max(n,t,e),s=Math.min(n,t,e),a=0,l=i,u=i-s,h=i===0?0:u/i;if(i===s)a=0;else{switch(i){case n:a=(t-e)/u+(t<e?6:0);break;case t:a=(e-n)/u+2;break;case e:a=(n-t)/u+4;break}a/=6}return{h:a,s:h,v:l}}function WB(n,t,e){n=nn(n,360)*6,t=nn(t,100),e=nn(e,100);var i=Math.floor(n),s=n-i,a=e*(1-t),l=e*(1-s*t),u=e*(1-(1-s)*t),h=i%6,d=[e,l,a,a,u,e][h],p=[u,e,e,l,a,a][h],v=[a,a,u,e,e,l][h];return{r:d*255,g:p*255,b:v*255}}function Qv(n,t,e,i){var s=[Bs(Math.round(n).toString(16)),Bs(Math.round(t).toString(16)),Bs(Math.round(e).toString(16))];return i&&s[0].startsWith(s[0].charAt(1))&&s[1].startsWith(s[1].charAt(1))&&s[2].startsWith(s[2].charAt(1))?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0):s.join("")}function zB(n,t,e,i,s){var a=[Bs(Math.round(n).toString(16)),Bs(Math.round(t).toString(16)),Bs(Math.round(e).toString(16)),Bs(HB(i))];return s&&a[0].startsWith(a[0].charAt(1))&&a[1].startsWith(a[1].charAt(1))&&a[2].startsWith(a[2].charAt(1))&&a[3].startsWith(a[3].charAt(1))?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}function HB(n){return Math.round(parseFloat(n)*255).toString(16)}function t0(n){return Kn(n)/255}function Kn(n){return parseInt(n,16)}function VB(n){return{r:n>>16,g:(n&65280)>>8,b:n&255}}var rf={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function UB(n){var t={r:0,g:0,b:0},e=1,i=null,s=null,a=null,l=!1,u=!1;return typeof n=="string"&&(n=jB(n)),typeof n=="object"&&(pr(n.r)&&pr(n.g)&&pr(n.b)?(t=FB(n.r,n.g,n.b),l=!0,u=String(n.r).substr(-1)==="%"?"prgb":"rgb"):pr(n.h)&&pr(n.s)&&pr(n.v)?(i=pu(n.s),s=pu(n.v),t=WB(n.h,i,s),l=!0,u="hsv"):pr(n.h)&&pr(n.s)&&pr(n.l)&&(i=pu(n.s),a=pu(n.l),t=NB(n.h,i,a),l=!0,u="hsl"),Object.prototype.hasOwnProperty.call(n,"a")&&(e=n.a)),e=fb(e),{ok:l,format:n.format||u,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:e}}var GB="[-\\+]?\\d+%?",KB="[-\\+]?\\d*\\.\\d+%?",ts="(?:".concat(KB,")|(?:").concat(GB,")"),Uh="[\\s|\\(]+(".concat(ts,")[,|\\s]+(").concat(ts,")[,|\\s]+(").concat(ts,")\\s*\\)?"),Gh="[\\s|\\(]+(".concat(ts,")[,|\\s]+(").concat(ts,")[,|\\s]+(").concat(ts,")[,|\\s]+(").concat(ts,")\\s*\\)?"),Si={CSS_UNIT:new RegExp(ts),rgb:new RegExp("rgb"+Uh),rgba:new RegExp("rgba"+Gh),hsl:new RegExp("hsl"+Uh),hsla:new RegExp("hsla"+Gh),hsv:new RegExp("hsv"+Uh),hsva:new RegExp("hsva"+Gh),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function jB(n){if(n=n.trim().toLowerCase(),n.length===0)return!1;var t=!1;if(rf[n])n=rf[n],t=!0;else if(n==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var e=Si.rgb.exec(n);return e?{r:e[1],g:e[2],b:e[3]}:(e=Si.rgba.exec(n),e?{r:e[1],g:e[2],b:e[3],a:e[4]}:(e=Si.hsl.exec(n),e?{h:e[1],s:e[2],l:e[3]}:(e=Si.hsla.exec(n),e?{h:e[1],s:e[2],l:e[3],a:e[4]}:(e=Si.hsv.exec(n),e?{h:e[1],s:e[2],v:e[3]}:(e=Si.hsva.exec(n),e?{h:e[1],s:e[2],v:e[3],a:e[4]}:(e=Si.hex8.exec(n),e?{r:Kn(e[1]),g:Kn(e[2]),b:Kn(e[3]),a:t0(e[4]),format:t?"name":"hex8"}:(e=Si.hex6.exec(n),e?{r:Kn(e[1]),g:Kn(e[2]),b:Kn(e[3]),format:t?"name":"hex"}:(e=Si.hex4.exec(n),e?{r:Kn(e[1]+e[1]),g:Kn(e[2]+e[2]),b:Kn(e[3]+e[3]),a:t0(e[4]+e[4]),format:t?"name":"hex8"}:(e=Si.hex3.exec(n),e?{r:Kn(e[1]+e[1]),g:Kn(e[2]+e[2]),b:Kn(e[3]+e[3]),format:t?"name":"hex"}:!1)))))))))}function pr(n){return!!Si.CSS_UNIT.exec(String(n))}var YB=function(){function n(t,e){t===void 0&&(t=""),e===void 0&&(e={});var i;if(t instanceof n)return t;typeof t=="number"&&(t=VB(t)),this.originalInput=t;var s=UB(t);this.originalInput=t,this.r=s.r,this.g=s.g,this.b=s.b,this.a=s.a,this.roundA=Math.round(100*this.a)/100,this.format=(i=e.format)!==null&&i!==void 0?i:s.format,this.gradientType=e.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=s.ok}return n.prototype.isDark=function(){return this.getBrightness()<128},n.prototype.isLight=function(){return!this.isDark()},n.prototype.getBrightness=function(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},n.prototype.getLuminance=function(){var t=this.toRgb(),e,i,s,a=t.r/255,l=t.g/255,u=t.b/255;return a<=.03928?e=a/12.92:e=Math.pow((a+.055)/1.055,2.4),l<=.03928?i=l/12.92:i=Math.pow((l+.055)/1.055,2.4),u<=.03928?s=u/12.92:s=Math.pow((u+.055)/1.055,2.4),.2126*e+.7152*i+.0722*s},n.prototype.getAlpha=function(){return this.a},n.prototype.setAlpha=function(t){return this.a=fb(t),this.roundA=Math.round(100*this.a)/100,this},n.prototype.isMonochrome=function(){var t=this.toHsl().s;return t===0},n.prototype.toHsv=function(){var t=Jv(this.r,this.g,this.b);return{h:t.h*360,s:t.s,v:t.v,a:this.a}},n.prototype.toHsvString=function(){var t=Jv(this.r,this.g,this.b),e=Math.round(t.h*360),i=Math.round(t.s*100),s=Math.round(t.v*100);return this.a===1?"hsv(".concat(e,", ").concat(i,"%, ").concat(s,"%)"):"hsva(".concat(e,", ").concat(i,"%, ").concat(s,"%, ").concat(this.roundA,")")},n.prototype.toHsl=function(){var t=qv(this.r,this.g,this.b);return{h:t.h*360,s:t.s,l:t.l,a:this.a}},n.prototype.toHslString=function(){var t=qv(this.r,this.g,this.b),e=Math.round(t.h*360),i=Math.round(t.s*100),s=Math.round(t.l*100);return this.a===1?"hsl(".concat(e,", ").concat(i,"%, ").concat(s,"%)"):"hsla(".concat(e,", ").concat(i,"%, ").concat(s,"%, ").concat(this.roundA,")")},n.prototype.toHex=function(t){return t===void 0&&(t=!1),Qv(this.r,this.g,this.b,t)},n.prototype.toHexString=function(t){return t===void 0&&(t=!1),"#"+this.toHex(t)},n.prototype.toHex8=function(t){return t===void 0&&(t=!1),zB(this.r,this.g,this.b,this.a,t)},n.prototype.toHex8String=function(t){return t===void 0&&(t=!1),"#"+this.toHex8(t)},n.prototype.toHexShortString=function(t){return t===void 0&&(t=!1),this.a===1?this.toHexString(t):this.toHex8String(t)},n.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},n.prototype.toRgbString=function(){var t=Math.round(this.r),e=Math.round(this.g),i=Math.round(this.b);return this.a===1?"rgb(".concat(t,", ").concat(e,", ").concat(i,")"):"rgba(".concat(t,", ").concat(e,", ").concat(i,", ").concat(this.roundA,")")},n.prototype.toPercentageRgb=function(){var t=function(e){return"".concat(Math.round(nn(e,255)*100),"%")};return{r:t(this.r),g:t(this.g),b:t(this.b),a:this.a}},n.prototype.toPercentageRgbString=function(){var t=function(e){return Math.round(nn(e,255)*100)};return this.a===1?"rgb(".concat(t(this.r),"%, ").concat(t(this.g),"%, ").concat(t(this.b),"%)"):"rgba(".concat(t(this.r),"%, ").concat(t(this.g),"%, ").concat(t(this.b),"%, ").concat(this.roundA,")")},n.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var t="#"+Qv(this.r,this.g,this.b,!1),e=0,i=Object.entries(rf);e<i.length;e++){var s=i[e],a=s[0],l=s[1];if(t===l)return a}return!1},n.prototype.toString=function(t){var e=!!t;t=t??this.format;var i=!1,s=this.a<1&&this.a>=0,a=!e&&s&&(t.startsWith("hex")||t==="name");return a?t==="name"&&this.a===0?this.toName():this.toRgbString():(t==="rgb"&&(i=this.toRgbString()),t==="prgb"&&(i=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(i=this.toHexString()),t==="hex3"&&(i=this.toHexString(!0)),t==="hex4"&&(i=this.toHex8String(!0)),t==="hex8"&&(i=this.toHex8String()),t==="name"&&(i=this.toName()),t==="hsl"&&(i=this.toHslString()),t==="hsv"&&(i=this.toHsvString()),i||this.toHexString())},n.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},n.prototype.clone=function(){return new n(this.toString())},n.prototype.lighten=function(t){t===void 0&&(t=10);var e=this.toHsl();return e.l+=t/100,e.l=fu(e.l),new n(e)},n.prototype.brighten=function(t){t===void 0&&(t=10);var e=this.toRgb();return e.r=Math.max(0,Math.min(255,e.r-Math.round(255*-(t/100)))),e.g=Math.max(0,Math.min(255,e.g-Math.round(255*-(t/100)))),e.b=Math.max(0,Math.min(255,e.b-Math.round(255*-(t/100)))),new n(e)},n.prototype.darken=function(t){t===void 0&&(t=10);var e=this.toHsl();return e.l-=t/100,e.l=fu(e.l),new n(e)},n.prototype.tint=function(t){return t===void 0&&(t=10),this.mix("white",t)},n.prototype.shade=function(t){return t===void 0&&(t=10),this.mix("black",t)},n.prototype.desaturate=function(t){t===void 0&&(t=10);var e=this.toHsl();return e.s-=t/100,e.s=fu(e.s),new n(e)},n.prototype.saturate=function(t){t===void 0&&(t=10);var e=this.toHsl();return e.s+=t/100,e.s=fu(e.s),new n(e)},n.prototype.greyscale=function(){return this.desaturate(100)},n.prototype.spin=function(t){var e=this.toHsl(),i=(e.h+t)%360;return e.h=i<0?360+i:i,new n(e)},n.prototype.mix=function(t,e){e===void 0&&(e=50);var i=this.toRgb(),s=new n(t).toRgb(),a=e/100,l={r:(s.r-i.r)*a+i.r,g:(s.g-i.g)*a+i.g,b:(s.b-i.b)*a+i.b,a:(s.a-i.a)*a+i.a};return new n(l)},n.prototype.analogous=function(t,e){t===void 0&&(t=6),e===void 0&&(e=30);var i=this.toHsl(),s=360/e,a=[this];for(i.h=(i.h-(s*t>>1)+720)%360;--t;)i.h=(i.h+s)%360,a.push(new n(i));return a},n.prototype.complement=function(){var t=this.toHsl();return t.h=(t.h+180)%360,new n(t)},n.prototype.monochromatic=function(t){t===void 0&&(t=6);for(var e=this.toHsv(),i=e.h,s=e.s,a=e.v,l=[],u=1/t;t--;)l.push(new n({h:i,s,v:a})),a=(a+u)%1;return l},n.prototype.splitcomplement=function(){var t=this.toHsl(),e=t.h;return[this,new n({h:(e+72)%360,s:t.s,l:t.l}),new n({h:(e+216)%360,s:t.s,l:t.l})]},n.prototype.onBackground=function(t){var e=this.toRgb(),i=new n(t).toRgb(),s=e.a+i.a*(1-e.a);return new n({r:(e.r*e.a+i.r*i.a*(1-e.a))/s,g:(e.g*e.a+i.g*i.a*(1-e.a))/s,b:(e.b*e.a+i.b*i.a*(1-e.a))/s,a:s})},n.prototype.triad=function(){return this.polyad(3)},n.prototype.tetrad=function(){return this.polyad(4)},n.prototype.polyad=function(t){for(var e=this.toHsl(),i=e.h,s=[this],a=360/t,l=1;l<t;l++)s.push(new n({h:(i+l*a)%360,s:e.s,l:e.l}));return s},n.prototype.equals=function(t){return this.toRgbString()===new n(t).toRgbString()},n}();function Ur(n,t=20){return n.mix("#141414",t).toString()}function XB(n){const t=ll(),e=xe("button");return K(()=>{let i={},s=n.color;if(s){const a=s.match(/var\((.*?)\)/);a&&(s=window.getComputedStyle(window.document.documentElement).getPropertyValue(a[1]));const l=new YB(s),u=n.dark?l.tint(20).toString():Ur(l,20);if(n.plain)i=e.cssVarBlock({"bg-color":n.dark?Ur(l,90):l.tint(90).toString(),"text-color":s,"border-color":n.dark?Ur(l,50):l.tint(50).toString(),"hover-text-color":`var(${e.cssVarName("color-white")})`,"hover-bg-color":s,"hover-border-color":s,"active-bg-color":u,"active-text-color":`var(${e.cssVarName("color-white")})`,"active-border-color":u}),t.value&&(i[e.cssVarBlockName("disabled-bg-color")]=n.dark?Ur(l,90):l.tint(90).toString(),i[e.cssVarBlockName("disabled-text-color")]=n.dark?Ur(l,50):l.tint(50).toString(),i[e.cssVarBlockName("disabled-border-color")]=n.dark?Ur(l,80):l.tint(80).toString());else{const h=n.dark?Ur(l,30):l.tint(30).toString(),d=l.isDark()?`var(${e.cssVarName("color-white")})`:`var(${e.cssVarName("color-black")})`;if(i=e.cssVarBlock({"bg-color":s,"text-color":d,"border-color":s,"hover-bg-color":h,"hover-text-color":d,"hover-border-color":h,"active-bg-color":u,"active-border-color":u}),t.value){const p=n.dark?Ur(l,50):l.tint(50).toString();i[e.cssVarBlockName("disabled-bg-color")]=p,i[e.cssVarBlockName("disabled-text-color")]=n.dark?"rgba(255, 255, 255, 0.5)":`var(${e.cssVarName("color-white")})`,i[e.cssVarBlockName("disabled-border-color")]=p}}}return i})}const ZB=ot({name:"ElButton"}),qB=ot({...ZB,props:nf,emits:MB,setup(n,{expose:t,emit:e}){const i=n,s=XB(i),a=xe("button"),{_ref:l,_size:u,_type:h,_disabled:d,_props:p,shouldAddSpace:v,handleClick:b}=IB(i,e),_=K(()=>[a.b(),a.m(h.value),a.m(u.value),a.is("disabled",d.value),a.is("loading",i.loading),a.is("plain",i.plain),a.is("round",i.round),a.is("circle",i.circle),a.is("text",i.text),a.is("link",i.link),a.is("has-bg",i.bg)]);return t({ref:l,size:u,type:h,disabled:d,shouldAddSpace:v}),(m,x)=>(G(),xt(On(m.tag),Ii({ref_key:"_ref",ref:l},S(p),{class:S(_),style:S(s),onClick:S(b)}),{default:lt(()=>[m.loading?(G(),ht(es,{key:0},[m.$slots.loading?kt(m.$slots,"loading",{key:0}):(G(),xt(S(en),{key:1,class:yt(S(a).is("loading"))},{default:lt(()=>[(G(),xt(On(m.loadingIcon)))]),_:1},8,["class"]))],64)):m.icon||m.$slots.icon?(G(),xt(S(en),{key:1},{default:lt(()=>[m.icon?(G(),xt(On(m.icon),{key:0})):kt(m.$slots,"icon",{key:1})]),_:3})):Tt("v-if",!0),m.$slots.default?(G(),ht("span",{key:2,class:yt({[S(a).em("text","expand")]:S(v)})},[kt(m.$slots,"default")],2)):Tt("v-if",!0)]),_:3},16,["class","style","onClick"]))}});var JB=Kt(qB,[["__file","button.vue"]]);const QB={size:nf.size,type:nf.type},tA=ot({name:"ElButtonGroup"}),eA=ot({...tA,props:QB,setup(n){const t=n;Mn(db,Cf({size:ln(t,"size"),type:ln(t,"type")}));const e=xe("button");return(i,s)=>(G(),ht("div",{class:yt(S(e).b("group"))},[kt(i.$slots,"default")],2))}});var pb=Kt(eA,[["__file","button-group.vue"]]);const ep=$i(JB,{ButtonGroup:pb});Gs(pb);var va=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function nA(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}const iA=ot({name:"ElContainer"}),rA=ot({...iA,props:{direction:{type:String}},setup(n){const t=n,e=Sf(),i=xe("container"),s=K(()=>t.direction==="vertical"?!0:t.direction==="horizontal"?!1:e&&e.default?e.default().some(l=>{const u=l.type.name;return u==="ElHeader"||u==="ElFooter"}):!1);return(a,l)=>(G(),ht("section",{class:yt([S(i).b(),S(i).is("vertical",S(s))])},[kt(a.$slots,"default")],2))}});var sA=Kt(rA,[["__file","container.vue"]]);const oA=ot({name:"ElAside"}),aA=ot({...oA,props:{width:{type:String,default:null}},setup(n){const t=n,e=xe("aside"),i=K(()=>t.width?e.cssVarBlock({width:t.width}):{});return(s,a)=>(G(),ht("aside",{class:yt(S(e).b()),style:Bi(S(i))},[kt(s.$slots,"default")],6))}});var gb=Kt(aA,[["__file","aside.vue"]]);const lA=ot({name:"ElFooter"}),uA=ot({...lA,props:{height:{type:String,default:null}},setup(n){const t=n,e=xe("footer"),i=K(()=>t.height?e.cssVarBlock({height:t.height}):{});return(s,a)=>(G(),ht("footer",{class:yt(S(e).b()),style:Bi(S(i))},[kt(s.$slots,"default")],6))}});var _b=Kt(uA,[["__file","footer.vue"]]);const cA=ot({name:"ElHeader"}),hA=ot({...cA,props:{height:{type:String,default:null}},setup(n){const t=n,e=xe("header"),i=K(()=>t.height?e.cssVarBlock({height:t.height}):{});return(s,a)=>(G(),ht("header",{class:yt(S(e).b()),style:Bi(S(i))},[kt(s.$slots,"default")],6))}});var vb=Kt(hA,[["__file","header.vue"]]);const dA=ot({name:"ElMain"}),fA=ot({...dA,setup(n){const t=xe("main");return(e,i)=>(G(),ht("main",{class:yt(S(t).b())},[kt(e.$slots,"default")],2))}});var mb=Kt(fA,[["__file","main.vue"]]);const pA=$i(sA,{Aside:gb,Footer:_b,Header:vb,Main:mb}),gA=Gs(gb);Gs(_b);const _A=Gs(vb),vA=Gs(mb),mA=100,yA=600,e0={beforeMount(n,t){const e=t.value,{interval:i=mA,delay:s=yA}=xr(e)?{}:e;let a,l;const u=()=>xr(e)?e():e.handler(),h=()=>{l&&(clearTimeout(l),l=void 0),a&&(clearInterval(a),a=void 0)};n.addEventListener("mousedown",d=>{d.button===0&&(h(),u(),document.addEventListener("mouseup",()=>h(),{once:!0}),l=setTimeout(()=>{a=setInterval(()=>{u()},i)},s))})}},yb=(...n)=>t=>{n.forEach(e=>{xr(e)?e(t):e.value=t})},bA=ot({inheritAttrs:!1});function wA(n,t,e,i,s,a){return kt(n.$slots,"default")}var xA=Kt(bA,[["render",wA],["__file","collection.vue"]]);const EA=ot({name:"ElCollectionItem",inheritAttrs:!1});function SA(n,t,e,i,s,a){return kt(n.$slots,"default")}var CA=Kt(EA,[["render",SA],["__file","collection-item.vue"]]);const bb="data-el-collection-item",wb=n=>{const t=`El${n}Collection`,e=`${t}Item`,i=Symbol(t),s=Symbol(e),a={...xA,name:t,setup(){const u=q(null),h=new Map;Mn(i,{itemMap:h,getItems:()=>{const p=S(u);if(!p)return[];const v=Array.from(p.querySelectorAll(`[${bb}]`));return[...h.values()].sort((_,m)=>v.indexOf(_.ref)-v.indexOf(m.ref))},collectionRef:u})}},l={...CA,name:e,setup(u,{attrs:h}){const d=q(null),p=Ft(i,void 0);Mn(s,{collectionItemRef:d}),vn(()=>{const v=S(d);v&&p.itemMap.set(v,{ref:v,...h})}),Di(()=>{const v=S(d);p.itemMap.delete(v)})}};return{COLLECTION_INJECTION_KEY:i,COLLECTION_ITEM_INJECTION_KEY:s,ElCollection:a,ElCollectionItem:l}},TA=Ee({style:{type:Lt([String,Array,Object])},currentTabId:{type:Lt(String)},defaultCurrentTabId:String,loop:Boolean,dir:{type:String,values:["ltr","rtl"],default:"ltr"},orientation:{type:Lt(String)},onBlur:Function,onFocus:Function,onMousedown:Function}),{ElCollection:RA,ElCollectionItem:OA,COLLECTION_INJECTION_KEY:np,COLLECTION_ITEM_INJECTION_KEY:PA}=wb("RovingFocusGroup"),ip=Symbol("elRovingFocusGroup"),xb=Symbol("elRovingFocusGroupItem"),LA={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"},kA=(n,t)=>n,IA=(n,t,e)=>{const i=kA(n.code);return LA[i]},BA=(n,t)=>n.map((e,i)=>n[(i+t)%n.length]),rp=n=>{const{activeElement:t}=document;for(const e of n)if(e===t||(e.focus(),t!==document.activeElement))return},n0="currentTabIdChange",i0="rovingFocusGroup.entryFocus",AA={bubbles:!1,cancelable:!0},MA=ot({name:"ElRovingFocusGroupImpl",inheritAttrs:!1,props:TA,emits:[n0,"entryFocus"],setup(n,{emit:t}){var e;const i=q((e=n.currentTabId||n.defaultCurrentTabId)!=null?e:null),s=q(!1),a=q(!1),l=q(null),{getItems:u}=Ft(np,void 0),h=K(()=>[{outline:"none"},n.style]),d=x=>{t(n0,x)},p=()=>{s.value=!0},v=$e(x=>{var R;(R=n.onMousedown)==null||R.call(n,x)},()=>{a.value=!0}),b=$e(x=>{var R;(R=n.onFocus)==null||R.call(n,x)},x=>{const R=!S(a),{target:C,currentTarget:L}=x;if(C===L&&R&&!S(s)){const A=new Event(i0,AA);if(L==null||L.dispatchEvent(A),!A.defaultPrevented){const O=u().filter(tt=>tt.focusable),E=O.find(tt=>tt.active),M=O.find(tt=>tt.id===S(i)),U=[E,M,...O].filter(Boolean).map(tt=>tt.ref);rp(U)}}a.value=!1}),_=$e(x=>{var R;(R=n.onBlur)==null||R.call(n,x)},()=>{s.value=!1}),m=(...x)=>{t("entryFocus",...x)};Mn(ip,{currentTabbedId:Ef(i),loop:ln(n,"loop"),tabIndex:K(()=>S(s)?-1:0),rovingFocusGroupRef:l,rovingFocusGroupRootStyle:h,orientation:ln(n,"orientation"),dir:ln(n,"dir"),onItemFocus:d,onItemShiftTab:p,onBlur:_,onFocus:b,onMousedown:v}),Gt(()=>n.currentTabId,x=>{i.value=x??null}),Qi(l,i0,m)}});function DA(n,t,e,i,s,a){return kt(n.$slots,"default")}var $A=Kt(MA,[["render",DA],["__file","roving-focus-group-impl.vue"]]);const FA=ot({name:"ElRovingFocusGroup",components:{ElFocusGroupCollection:RA,ElRovingFocusGroupImpl:$A}});function NA(n,t,e,i,s,a){const l=De("el-roving-focus-group-impl"),u=De("el-focus-group-collection");return G(),xt(u,null,{default:lt(()=>[vt(l,kR(IR(n.$attrs)),{default:lt(()=>[kt(n.$slots,"default")]),_:3},16)]),_:3})}var WA=Kt(FA,[["render",NA],["__file","roving-focus-group.vue"]]);const zA=Ee({trigger:tp.trigger,effect:{...Ju.effect,default:"light"},type:{type:Lt(String)},placement:{type:Lt(String),default:"bottom"},popperOptions:{type:Lt(Object),default:()=>({})},id:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},loop:{type:Boolean,default:!0},showTimeout:{type:Number,default:150},hideTimeout:{type:Number,default:150},tabindex:{type:Lt([Number,String]),default:0},maxHeight:{type:Lt([Number,String]),default:""},popperClass:{type:String,default:""},disabled:Boolean,role:{type:String,default:"menu"},buttonProps:{type:Lt(Object)},teleported:Ju.teleported}),Eb=Ee({command:{type:[Object,String,Number],default:()=>({})},disabled:Boolean,divided:Boolean,textValue:String,icon:{type:Sr}}),HA=Ee({onKeydown:{type:Lt(Function)}}),VA=[Fe.down,Fe.pageDown,Fe.home],Sb=[Fe.up,Fe.pageUp,Fe.end],UA=[...VA,...Sb],{ElCollection:GA,ElCollectionItem:KA,COLLECTION_INJECTION_KEY:jA,COLLECTION_ITEM_INJECTION_KEY:YA}=wb("Dropdown"),fc=Symbol("elDropdown"),{ButtonGroup:XA}=ep,ZA=ot({name:"ElDropdown",components:{ElButton:ep,ElButtonGroup:XA,ElScrollbar:fk,ElDropdownCollection:GA,ElTooltip:hb,ElRovingFocusGroup:WA,ElOnlyChild:Yy,ElIcon:en,ArrowDown:Dy},props:zA,emits:["visible-change","click","command"],setup(n,{emit:t}){const e=di(),i=xe("dropdown"),{t:s}=By(),a=q(),l=q(),u=q(null),h=q(null),d=q(null),p=q(null),v=q(!1),b=[Fe.enter,Fe.numpadEnter,Fe.space,Fe.down],_=K(()=>({maxHeight:Ja(n.maxHeight)})),m=K(()=>[i.m(E.value)]),x=K(()=>SP(n.trigger)),R=uc().value,C=K(()=>n.id||R);Gt([a,x],([z,et],[pt])=>{var Wt,$t,he;(Wt=pt==null?void 0:pt.$el)!=null&&Wt.removeEventListener&&pt.$el.removeEventListener("pointerenter",I),($t=z==null?void 0:z.$el)!=null&&$t.removeEventListener&&z.$el.removeEventListener("pointerenter",I),(he=z==null?void 0:z.$el)!=null&&he.addEventListener&&et.includes("hover")&&z.$el.addEventListener("pointerenter",I)},{immediate:!0}),Di(()=>{var z,et;(et=(z=a.value)==null?void 0:z.$el)!=null&&et.removeEventListener&&a.value.$el.removeEventListener("pointerenter",I)});function L(){A()}function A(){var z;(z=u.value)==null||z.onClose()}function O(){var z;(z=u.value)==null||z.onOpen()}const E=al();function M(...z){t("command",...z)}function I(){var z,et;(et=(z=a.value)==null?void 0:z.$el)==null||et.focus()}function U(){}function tt(){const z=S(h);x.value.includes("hover")&&(z==null||z.focus()),p.value=null}function Z(z){p.value=z}function J(z){v.value||(z.preventDefault(),z.stopImmediatePropagation())}function Y(){t("visible-change",!0)}function it(z){(z==null?void 0:z.type)==="keydown"&&h.value.focus()}function Pt(){t("visible-change",!1)}return Mn(fc,{contentRef:h,role:K(()=>n.role),triggerId:C,isUsingKeyboard:v,onItemEnter:U,onItemLeave:tt}),Mn("elDropdown",{instance:e,dropdownSize:E,handleClick:L,commandHandler:M,trigger:ln(n,"trigger"),hideOnClick:ln(n,"hideOnClick")}),{t:s,ns:i,scrollbar:d,wrapStyle:_,dropdownTriggerKls:m,dropdownSize:E,triggerId:C,triggerKeys:b,currentTabId:p,handleCurrentTabIdChange:Z,handlerMainButtonClick:z=>{t("click",z)},handleEntryFocus:J,handleClose:A,handleOpen:O,handleBeforeShowTooltip:Y,handleShowTooltip:it,handleBeforeHideTooltip:Pt,onFocusAfterTrapped:z=>{var et,pt;z.preventDefault(),(pt=(et=h.value)==null?void 0:et.focus)==null||pt.call(et,{preventScroll:!0})},popperRef:u,contentRef:h,triggeringElementRef:a,referenceElementRef:l}}});function qA(n,t,e,i,s,a){var l;const u=De("el-dropdown-collection"),h=De("el-roving-focus-group"),d=De("el-scrollbar"),p=De("el-only-child"),v=De("el-tooltip"),b=De("el-button"),_=De("arrow-down"),m=De("el-icon"),x=De("el-button-group");return G(),ht("div",{class:yt([n.ns.b(),n.ns.is("disabled",n.disabled)])},[vt(v,{ref:"popperRef",role:n.role,effect:n.effect,"fallback-placements":["bottom","top"],"popper-options":n.popperOptions,"gpu-acceleration":!1,"hide-after":n.trigger==="hover"?n.hideTimeout:0,"manual-mode":!0,placement:n.placement,"popper-class":[n.ns.e("popper"),n.popperClass],"reference-element":(l=n.referenceElementRef)==null?void 0:l.$el,trigger:n.trigger,"trigger-keys":n.triggerKeys,"trigger-target-el":n.contentRef,"show-after":n.trigger==="hover"?n.showTimeout:0,"stop-popper-mouse-event":!1,"virtual-ref":n.triggeringElementRef,"virtual-triggering":n.splitButton,disabled:n.disabled,transition:`${n.ns.namespace.value}-zoom-in-top`,teleported:n.teleported,pure:"",persistent:"",onBeforeShow:n.handleBeforeShowTooltip,onShow:n.handleShowTooltip,onBeforeHide:n.handleBeforeHideTooltip},xy({content:lt(()=>[vt(d,{ref:"scrollbar","wrap-style":n.wrapStyle,tag:"div","view-class":n.ns.e("list")},{default:lt(()=>[vt(h,{loop:n.loop,"current-tab-id":n.currentTabId,orientation:"horizontal",onCurrentTabIdChange:n.handleCurrentTabIdChange,onEntryFocus:n.handleEntryFocus},{default:lt(()=>[vt(u,null,{default:lt(()=>[kt(n.$slots,"dropdown")]),_:3})]),_:3},8,["loop","current-tab-id","onCurrentTabIdChange","onEntryFocus"])]),_:3},8,["wrap-style","view-class"])]),_:2},[n.splitButton?void 0:{name:"default",fn:lt(()=>[vt(p,{id:n.triggerId,ref:"triggeringElementRef",role:"button",tabindex:n.tabindex},{default:lt(()=>[kt(n.$slots,"default")]),_:3},8,["id","tabindex"])])}]),1032,["role","effect","popper-options","hide-after","placement","popper-class","reference-element","trigger","trigger-keys","trigger-target-el","show-after","virtual-ref","virtual-triggering","disabled","transition","teleported","onBeforeShow","onShow","onBeforeHide"]),n.splitButton?(G(),xt(x,{key:0},{default:lt(()=>[vt(b,Ii({ref:"referenceElementRef"},n.buttonProps,{size:n.dropdownSize,type:n.type,disabled:n.disabled,tabindex:n.tabindex,onClick:n.handlerMainButtonClick}),{default:lt(()=>[kt(n.$slots,"default")]),_:3},16,["size","type","disabled","tabindex","onClick"]),vt(b,Ii({id:n.triggerId,ref:"triggeringElementRef"},n.buttonProps,{role:"button",size:n.dropdownSize,type:n.type,class:n.ns.e("caret-button"),disabled:n.disabled,tabindex:n.tabindex,"aria-label":n.t("el.dropdown.toggleDropdown")}),{default:lt(()=>[vt(m,{class:yt(n.ns.e("icon"))},{default:lt(()=>[vt(_)]),_:1},8,["class"])]),_:1},16,["id","size","type","class","disabled","tabindex","aria-label"])]),_:3})):Tt("v-if",!0)],2)}var JA=Kt(ZA,[["render",qA],["__file","dropdown.vue"]]);const QA=ot({components:{ElRovingFocusCollectionItem:OA},props:{focusable:{type:Boolean,default:!0},active:{type:Boolean,default:!1}},emits:["mousedown","focus","keydown"],setup(n,{emit:t}){const{currentTabbedId:e,loop:i,onItemFocus:s,onItemShiftTab:a}=Ft(ip,void 0),{getItems:l}=Ft(np,void 0),u=uc(),h=q(null),d=$e(_=>{t("mousedown",_)},_=>{n.focusable?s(S(u)):_.preventDefault()}),p=$e(_=>{t("focus",_)},()=>{s(S(u))}),v=$e(_=>{t("keydown",_)},_=>{const{code:m,shiftKey:x,target:R,currentTarget:C}=_;if(m===Fe.tab&&x){a();return}if(R!==C)return;const L=IA(_);if(L){_.preventDefault();let O=l().filter(E=>E.focusable).map(E=>E.ref);switch(L){case"last":{O.reverse();break}case"prev":case"next":{L==="prev"&&O.reverse();const E=O.indexOf(C);O=i.value?BA(O,E+1):O.slice(E+1);break}}jn(()=>{rp(O)})}}),b=K(()=>e.value===S(u));return Mn(xb,{rovingFocusGroupItemRef:h,tabIndex:K(()=>S(b)?0:-1),handleMousedown:d,handleFocus:p,handleKeydown:v}),{id:u,handleKeydown:v,handleFocus:p,handleMousedown:d}}});function tM(n,t,e,i,s,a){const l=De("el-roving-focus-collection-item");return G(),xt(l,{id:n.id,focusable:n.focusable,active:n.active},{default:lt(()=>[kt(n.$slots,"default")]),_:3},8,["id","focusable","active"])}var eM=Kt(QA,[["render",tM],["__file","roving-focus-item.vue"]]);const nM=ot({name:"DropdownItemImpl",components:{ElIcon:en},props:Eb,emits:["pointermove","pointerleave","click","clickimpl"],setup(n,{emit:t}){const e=xe("dropdown"),{role:i}=Ft(fc,void 0),{collectionItemRef:s}=Ft(YA,void 0),{collectionItemRef:a}=Ft(PA,void 0),{rovingFocusGroupItemRef:l,tabIndex:u,handleFocus:h,handleKeydown:d,handleMousedown:p}=Ft(xb,void 0),v=yb(s,a,l),b=K(()=>i.value==="menu"?"menuitem":i.value==="navigation"?"link":"button"),_=$e(m=>{if([Fe.enter,Fe.numpadEnter,Fe.space].includes(m.code))return m.preventDefault(),m.stopImmediatePropagation(),t("clickimpl",m),!0},d);return{ns:e,itemRef:v,dataset:{[bb]:""},role:b,tabIndex:u,handleFocus:h,handleKeydown:_,handleMousedown:p}}});function iM(n,t,e,i,s,a){const l=De("el-icon");return G(),ht(es,null,[n.divided?(G(),ht("li",{key:0,role:"separator",class:yt(n.ns.bem("menu","item","divided"))},null,2)):Tt("v-if",!0),st("li",Ii({ref:n.itemRef},{...n.dataset,...n.$attrs},{"aria-disabled":n.disabled,class:[n.ns.be("menu","item"),n.ns.is("disabled",n.disabled)],tabindex:n.tabIndex,role:n.role,onClick:u=>n.$emit("clickimpl",u),onFocus:n.handleFocus,onKeydown:ns(n.handleKeydown,["self"]),onMousedown:n.handleMousedown,onPointermove:u=>n.$emit("pointermove",u),onPointerleave:u=>n.$emit("pointerleave",u)}),[n.icon?(G(),xt(l,{key:0},{default:lt(()=>[(G(),xt(On(n.icon)))]),_:1})):Tt("v-if",!0),kt(n.$slots,"default")],16,["aria-disabled","tabindex","role","onClick","onFocus","onKeydown","onMousedown","onPointermove","onPointerleave"])],64)}var rM=Kt(nM,[["render",iM],["__file","dropdown-item-impl.vue"]]);const Cb=()=>{const n=Ft("elDropdown",{}),t=K(()=>n==null?void 0:n.dropdownSize);return{elDropdown:n,_elDropdownSize:t}},sM=ot({name:"ElDropdownItem",components:{ElDropdownCollectionItem:KA,ElRovingFocusItem:eM,ElDropdownItemImpl:rM},inheritAttrs:!1,props:Eb,emits:["pointermove","pointerleave","click"],setup(n,{emit:t,attrs:e}){const{elDropdown:i}=Cb(),s=di(),a=q(null),l=K(()=>{var _,m;return(m=(_=S(a))==null?void 0:_.textContent)!=null?m:""}),{onItemEnter:u,onItemLeave:h}=Ft(fc,void 0),d=$e(_=>(t("pointermove",_),_.defaultPrevented),Zv(_=>{if(n.disabled){h(_);return}const m=_.currentTarget;m===document.activeElement||m.contains(document.activeElement)||(u(_),_.defaultPrevented||m==null||m.focus())})),p=$e(_=>(t("pointerleave",_),_.defaultPrevented),Zv(h)),v=$e(_=>{if(!n.disabled)return t("click",_),_.type!=="keydown"&&_.defaultPrevented},_=>{var m,x,R;if(n.disabled){_.stopImmediatePropagation();return}(m=i==null?void 0:i.hideOnClick)!=null&&m.value&&((x=i.handleClick)==null||x.call(i)),(R=i.commandHandler)==null||R.call(i,n.command,s,_)}),b=K(()=>({...n,...e}));return{handleClick:v,handlePointerMove:d,handlePointerLeave:p,textContent:l,propsAndAttrs:b}}});function oM(n,t,e,i,s,a){var l;const u=De("el-dropdown-item-impl"),h=De("el-roving-focus-item"),d=De("el-dropdown-collection-item");return G(),xt(d,{disabled:n.disabled,"text-value":(l=n.textValue)!=null?l:n.textContent},{default:lt(()=>[vt(h,{focusable:!n.disabled},{default:lt(()=>[vt(u,Ii(n.propsAndAttrs,{onPointerleave:n.handlePointerLeave,onPointermove:n.handlePointerMove,onClickimpl:n.handleClick}),{default:lt(()=>[kt(n.$slots,"default")]),_:3},16,["onPointerleave","onPointermove","onClickimpl"])]),_:3},8,["focusable"])]),_:3},8,["disabled","text-value"])}var Tb=Kt(sM,[["render",oM],["__file","dropdown-item.vue"]]);const aM=ot({name:"ElDropdownMenu",props:HA,setup(n){const t=xe("dropdown"),{_elDropdownSize:e}=Cb(),i=e.value,{focusTrapRef:s,onKeydown:a}=Ft(Zy,void 0),{contentRef:l,role:u,triggerId:h}=Ft(fc,void 0),{collectionRef:d,getItems:p}=Ft(jA,void 0),{rovingFocusGroupRef:v,rovingFocusGroupRootStyle:b,tabIndex:_,onBlur:m,onFocus:x,onMousedown:R}=Ft(ip,void 0),{collectionRef:C}=Ft(np,void 0),L=K(()=>[t.b("menu"),t.bm("menu",i==null?void 0:i.value)]),A=yb(l,d,s,v,C),O=$e(M=>{var I;(I=n.onKeydown)==null||I.call(n,M)},M=>{const{currentTarget:I,code:U,target:tt}=M;if(I.contains(tt),Fe.tab===U&&M.stopImmediatePropagation(),M.preventDefault(),tt!==S(l)||!UA.includes(U))return;const J=p().filter(Y=>!Y.disabled).map(Y=>Y.ref);Sb.includes(U)&&J.reverse(),rp(J)});return{size:i,rovingFocusGroupRootStyle:b,tabIndex:_,dropdownKls:L,role:u,triggerId:h,dropdownListWrapperRef:A,handleKeydown:M=>{O(M),a(M)},onBlur:m,onFocus:x,onMousedown:R}}});function lM(n,t,e,i,s,a){return G(),ht("ul",{ref:n.dropdownListWrapperRef,class:yt(n.dropdownKls),style:Bi(n.rovingFocusGroupRootStyle),tabindex:-1,role:n.role,"aria-labelledby":n.triggerId,onBlur:n.onBlur,onFocus:n.onFocus,onKeydown:ns(n.handleKeydown,["self"]),onMousedown:ns(n.onMousedown,["self"])},[kt(n.$slots,"default")],46,["role","aria-labelledby","onBlur","onFocus","onKeydown","onMousedown"])}var Rb=Kt(aM,[["render",lM],["__file","dropdown-menu.vue"]]);const uM=$i(JA,{DropdownItem:Tb,DropdownMenu:Rb}),cM=Gs(Tb),hM=Gs(Rb),dM=Ee({id:{type:String,default:void 0},step:{type:Number,default:1},stepStrictly:Boolean,max:{type:Number,default:Number.POSITIVE_INFINITY},min:{type:Number,default:Number.NEGATIVE_INFINITY},modelValue:Number,readonly:Boolean,disabled:Boolean,size:$f,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:"",values:["","right"]},valueOnClear:{type:[String,Number,null],validator:n=>n===null||ye(n)||["min","max"].includes(n),default:null},name:String,placeholder:String,precision:{type:Number,validator:n=>n>=0&&n===Number.parseInt(`${n}`,10)},validateEvent:{type:Boolean,default:!0},...Xo(["ariaLabel"])}),fM={[qa]:(n,t)=>t!==n,blur:n=>n instanceof FocusEvent,focus:n=>n instanceof FocusEvent,[As]:n=>ye(n)||Cr(n),[ui]:n=>ye(n)||Cr(n)},pM=ot({name:"ElInputNumber"}),gM=ot({...pM,props:dM,emits:fM,setup(n,{expose:t,emit:e}){const i=n,{t:s}=By(),a=xe("input-number"),l=q(),u=Cf({currentValue:i.modelValue,userInput:null}),{formItem:h}=cc(),d=K(()=>ye(i.modelValue)&&i.modelValue<=i.min),p=K(()=>ye(i.modelValue)&&i.modelValue>=i.max),v=K(()=>{const F=C(i.step);return Na(i.precision)?Math.max(C(i.modelValue),F):(F>i.precision,i.precision)}),b=K(()=>i.controls&&i.controlsPosition==="right"),_=al(),m=ll(),x=K(()=>{if(u.userInput!==null)return u.userInput;let F=u.currentValue;if(Cr(F))return"";if(ye(F)){if(Number.isNaN(F))return"";Na(i.precision)||(F=F.toFixed(i.precision))}return F}),R=(F,W)=>{if(Na(W)&&(W=v.value),W===0)return Math.round(F);let z=String(F);const et=z.indexOf(".");if(et===-1||!z.replace(".","").split("")[et+W])return F;const $t=z.length;return z.charAt($t-1)==="5"&&(z=`${z.slice(0,Math.max(0,$t-1))}6`),Number.parseFloat(Number(z).toFixed(W))},C=F=>{if(Cr(F))return 0;const W=F.toString(),z=W.indexOf(".");let et=0;return z!==-1&&(et=W.length-z-1),et},L=(F,W=1)=>ye(F)?R(F+i.step*W):u.currentValue,A=()=>{if(i.readonly||m.value||p.value)return;const F=Number(x.value)||0,W=L(F);M(W),e(As,u.currentValue),it()},O=()=>{if(i.readonly||m.value||d.value)return;const F=Number(x.value)||0,W=L(F,-1);M(W),e(As,u.currentValue),it()},E=(F,W)=>{const{max:z,min:et,step:pt,precision:Wt,stepStrictly:$t,valueOnClear:he}=i;z<et&&Df("InputNumber","min should not be greater than max.");let oe=Number(F);if(Cr(F)||Number.isNaN(oe))return null;if(F===""){if(he===null)return null;oe=Ji(he)?{min:et,max:z}[he]:he}return $t&&(oe=R(Math.round(oe/pt)*pt,Wt),oe!==F&&W&&e(ui,oe)),Na(Wt)||(oe=R(oe,Wt)),(oe>z||oe<et)&&(oe=oe>z?z:et,W&&e(ui,oe)),oe},M=(F,W=!0)=>{var z;const et=u.currentValue,pt=E(F);if(!W){e(ui,pt);return}et===pt&&F||(u.userInput=null,e(ui,pt),et!==pt&&e(qa,pt,et),i.validateEvent&&((z=h==null?void 0:h.validate)==null||z.call(h,"change").catch(Wt=>void 0)),u.currentValue=pt)},I=F=>{u.userInput=F;const W=F===""?null:Number(F);e(As,W),M(W,!1)},U=F=>{const W=F!==""?Number(F):"";(ye(W)&&!Number.isNaN(W)||F==="")&&M(W),it(),u.userInput=null},tt=()=>{var F,W;(W=(F=l.value)==null?void 0:F.focus)==null||W.call(F)},Z=()=>{var F,W;(W=(F=l.value)==null?void 0:F.blur)==null||W.call(F)},J=F=>{e("focus",F)},Y=F=>{var W,z;u.userInput=null,Fy()&&u.currentValue===null&&((W=l.value)!=null&&W.input)&&(l.value.input.value=""),e("blur",F),i.validateEvent&&((z=h==null?void 0:h.validate)==null||z.call(h,"blur").catch(et=>void 0))},it=()=>{u.currentValue!==i.modelValue&&(u.currentValue=i.modelValue)},Pt=F=>{document.activeElement===F.target&&F.preventDefault()};return Gt(()=>i.modelValue,(F,W)=>{const z=E(F,!0);u.userInput===null&&z!==W&&(u.currentValue=z)},{immediate:!0}),vn(()=>{var F;const{min:W,max:z,modelValue:et}=i,pt=(F=l.value)==null?void 0:F.input;if(pt.setAttribute("role","spinbutton"),Number.isFinite(z)?pt.setAttribute("aria-valuemax",String(z)):pt.removeAttribute("aria-valuemax"),Number.isFinite(W)?pt.setAttribute("aria-valuemin",String(W)):pt.removeAttribute("aria-valuemin"),pt.setAttribute("aria-valuenow",u.currentValue||u.currentValue===0?String(u.currentValue):""),pt.setAttribute("aria-disabled",String(m.value)),!ye(et)&&et!=null){let Wt=Number(et);Number.isNaN(Wt)&&(Wt=null),e(ui,Wt)}pt.addEventListener("wheel",Pt,{passive:!1})}),by(()=>{var F,W;const z=(F=l.value)==null?void 0:F.input;z==null||z.setAttribute("aria-valuenow",`${(W=u.currentValue)!=null?W:""}`)}),t({focus:tt,blur:Z}),(F,W)=>(G(),ht("div",{class:yt([S(a).b(),S(a).m(S(_)),S(a).is("disabled",S(m)),S(a).is("without-controls",!F.controls),S(a).is("controls-right",S(b))]),onDragstart:ns(()=>{},["prevent"])},[F.controls?Xa((G(),ht("span",{key:0,role:"button","aria-label":S(s)("el.inputNumber.decrease"),class:yt([S(a).e("decrease"),S(a).is("disabled",S(d))]),onKeydown:Fa(O,["enter"])},[kt(F.$slots,"decrease-icon",{},()=>[vt(S(en),null,{default:lt(()=>[S(b)?(G(),xt(S(Dy),{key:0})):(G(),xt(S(PL),{key:1}))]),_:1})])],42,["aria-label","onKeydown"])),[[S(e0),O]]):Tt("v-if",!0),F.controls?Xa((G(),ht("span",{key:1,role:"button","aria-label":S(s)("el.inputNumber.increase"),class:yt([S(a).e("increase"),S(a).is("disabled",S(p))]),onKeydown:Fa(A,["enter"])},[kt(F.$slots,"increase-icon",{},()=>[vt(S(en),null,{default:lt(()=>[S(b)?(G(),xt(S(wL),{key:0})):(G(),xt(S(kL),{key:1}))]),_:1})])],42,["aria-label","onKeydown"])),[[S(e0),A]]):Tt("v-if",!0),vt(S(Hy),{id:F.id,ref_key:"input",ref:l,type:"number",step:F.step,"model-value":S(x),placeholder:F.placeholder,readonly:F.readonly,disabled:S(m),size:S(_),max:F.max,min:F.min,name:F.name,"aria-label":F.ariaLabel,"validate-event":!1,onKeydown:[Fa(ns(A,["prevent"]),["up"]),Fa(ns(O,["prevent"]),["down"])],onBlur:Y,onFocus:J,onInput:I,onChange:U},xy({_:2},[F.$slots.prefix?{name:"prefix",fn:lt(()=>[kt(F.$slots,"prefix")])}:void 0,F.$slots.suffix?{name:"suffix",fn:lt(()=>[kt(F.$slots,"suffix")])}:void 0]),1032,["id","step","model-value","placeholder","readonly","disabled","size","max","min","name","aria-label","onKeydown"])],42,["onDragstart"]))}});var _M=Kt(gM,[["__file","input-number.vue"]]);const vM=$i(_M),mM=n=>["",...My].includes(n),yM=Ee({modelValue:{type:[Boolean,String,Number],default:!1},disabled:Boolean,loading:Boolean,size:{type:String,validator:mM},width:{type:[String,Number],default:""},inlinePrompt:Boolean,inactiveActionIcon:{type:Sr},activeActionIcon:{type:Sr},activeIcon:{type:Sr},inactiveIcon:{type:Sr},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},beforeChange:{type:Lt(Function)},id:String,tabindex:{type:[String,Number]},...Xo(["ariaLabel"])}),bM={[ui]:n=>ko(n)||Ji(n)||ye(n),[qa]:n=>ko(n)||Ji(n)||ye(n),[As]:n=>ko(n)||Ji(n)||ye(n)},Ob="ElSwitch",wM=ot({name:Ob}),xM=ot({...wM,props:yM,emits:bM,setup(n,{expose:t,emit:e}){const i=n,{formItem:s}=cc(),a=al(),l=xe("switch"),{inputId:u}=Wy(i,{formItemContext:s}),h=ll(K(()=>i.loading)),d=q(i.modelValue!==!1),p=q(),v=q(),b=K(()=>[l.b(),l.m(a.value),l.is("disabled",h.value),l.is("checked",C.value)]),_=K(()=>[l.e("label"),l.em("label","left"),l.is("active",!C.value)]),m=K(()=>[l.e("label"),l.em("label","right"),l.is("active",C.value)]),x=K(()=>({width:Ja(i.width)}));Gt(()=>i.modelValue,()=>{d.value=!0});const R=K(()=>d.value?i.modelValue:!1),C=K(()=>R.value===i.activeValue);[i.activeValue,i.inactiveValue].includes(R.value)||(e(ui,i.inactiveValue),e(qa,i.inactiveValue),e(As,i.inactiveValue)),Gt(C,E=>{var M;p.value.checked=E,i.validateEvent&&((M=s==null?void 0:s.validate)==null||M.call(s,"change").catch(I=>void 0))});const L=()=>{const E=C.value?i.inactiveValue:i.activeValue;e(ui,E),e(qa,E),e(As,E),jn(()=>{p.value.checked=C.value})},A=()=>{if(h.value)return;const{beforeChange:E}=i;if(!E){L();return}const M=E();[sv(M),ko(M)].includes(!0)||Df(Ob,"beforeChange must return type `Promise<boolean>` or `boolean`"),sv(M)?M.then(U=>{U&&L()}).catch(U=>{}):M&&L()},O=()=>{var E,M;(M=(E=p.value)==null?void 0:E.focus)==null||M.call(E)};return vn(()=>{p.value.checked=C.value}),t({focus:O,checked:C}),(E,M)=>(G(),ht("div",{class:yt(S(b)),onClick:ns(A,["prevent"])},[st("input",{id:S(u),ref_key:"input",ref:p,class:yt(S(l).e("input")),type:"checkbox",role:"switch","aria-checked":S(C),"aria-disabled":S(h),"aria-label":E.ariaLabel,name:E.name,"true-value":E.activeValue,"false-value":E.inactiveValue,disabled:S(h),tabindex:E.tabindex,onChange:L,onKeydown:Fa(A,["enter"])},null,42,["id","aria-checked","aria-disabled","aria-label","name","true-value","false-value","disabled","tabindex","onKeydown"]),!E.inlinePrompt&&(E.inactiveIcon||E.inactiveText)?(G(),ht("span",{key:0,class:yt(S(_))},[E.inactiveIcon?(G(),xt(S(en),{key:0},{default:lt(()=>[(G(),xt(On(E.inactiveIcon)))]),_:1})):Tt("v-if",!0),!E.inactiveIcon&&E.inactiveText?(G(),ht("span",{key:1,"aria-hidden":S(C)},Er(E.inactiveText),9,["aria-hidden"])):Tt("v-if",!0)],2)):Tt("v-if",!0),st("span",{ref_key:"core",ref:v,class:yt(S(l).e("core")),style:Bi(S(x))},[E.inlinePrompt?(G(),ht("div",{key:0,class:yt(S(l).e("inner"))},[E.activeIcon||E.inactiveIcon?(G(),xt(S(en),{key:0,class:yt(S(l).is("icon"))},{default:lt(()=>[(G(),xt(On(S(C)?E.activeIcon:E.inactiveIcon)))]),_:1},8,["class"])):E.activeText||E.inactiveText?(G(),ht("span",{key:1,class:yt(S(l).is("text")),"aria-hidden":!S(C)},Er(S(C)?E.activeText:E.inactiveText),11,["aria-hidden"])):Tt("v-if",!0)],2)):Tt("v-if",!0),st("div",{class:yt(S(l).e("action"))},[E.loading?(G(),xt(S(en),{key:0,class:yt(S(l).is("loading"))},{default:lt(()=>[vt(S(Ff))]),_:1},8,["class"])):S(C)?kt(E.$slots,"active-action",{key:1},()=>[E.activeActionIcon?(G(),xt(S(en),{key:0},{default:lt(()=>[(G(),xt(On(E.activeActionIcon)))]),_:1})):Tt("v-if",!0)]):S(C)?Tt("v-if",!0):kt(E.$slots,"inactive-action",{key:2},()=>[E.inactiveActionIcon?(G(),xt(S(en),{key:0},{default:lt(()=>[(G(),xt(On(E.inactiveActionIcon)))]),_:1})):Tt("v-if",!0)])],2)],6),!E.inlinePrompt&&(E.activeIcon||E.activeText)?(G(),ht("span",{key:1,class:yt(S(m))},[E.activeIcon?(G(),xt(S(en),{key:0},{default:lt(()=>[(G(),xt(On(E.activeIcon)))]),_:1})):Tt("v-if",!0),!E.activeIcon&&E.activeText?(G(),ht("span",{key:1,"aria-hidden":!S(C)},Er(E.activeText),9,["aria-hidden"])):Tt("v-if",!0)],2)):Tt("v-if",!0)],10,["onClick"]))}});var EM=Kt(xM,[["__file","switch.vue"]]);const SM=$i(EM),ut={toURL(n,t){let e=encodeURIComponent(n);return t==="text"?e="data:text/plain;charset=utf-8,"+e:t==="svg"&&(e="data:image/svg+xml,"+e),e},image:{hitCanvasSize:100,maxCacheSize:2560*1600,maxPatternSize:4096*2160,crossOrigin:"anonymous",getRealURL(n){const{prefix:t,suffix:e}=ut.image;return e&&!n.startsWith("data:")&&!n.startsWith("blob:")&&(n+=(n.includes("?")?"&":"?")+e),t&&n[0]==="/"&&(n=t+n),n}}},Oe={},Or={RUNTIME:"runtime",LEAF:"leaf",TASK:"task",CNAVAS:"canvas",IMAGE:"image",types:{},create(n){const{types:t}=CM;return t[n]?t[n]++:(t[n]=1,0)}},CM=Or,{round:TM,pow:RM,PI:sp}=Math,je={within(n,t,e){return typeof t=="object"&&(e=t.max,t=t.min),t!==void 0&&n<t&&(n=t),e!==void 0&&n>e&&(n=e),n},fourNumber(n,t){let e;if(n instanceof Array)switch(n.length){case 4:e=t===void 0?n:[...n];break;case 2:e=[n[0],n[1],n[0],n[1]];break;case 3:e=[n[0],n[1],n[2],n[1]];break;case 1:n=n[0];break;default:n=0}if(e||(e=[n,n,n,n]),t)for(let i=0;i<4;i++)e[i]>t&&(e[i]=t);return e},formatRotation(n,t){return n%=360,t?n<0&&(n+=360):(n>180&&(n-=360),n<-180&&(n+=360)),je.float(n)},getGapRotation(n,t,e=0){let i=n+e;if(t>1){const s=Math.abs(i%t);(s<1||s>t-1)&&(i=Math.round(i/t)*t)}return i-e},float(n,t){const e=t?RM(10,t):1e12;return n=TM(n*e)/e,n===-0?0:n},getScaleData(n,t,e,i){return i||(i={}),t?(i.scaleX=(typeof t=="number"?t:t.width)/e.width,i.scaleY=(typeof t=="number"?t:t.height)/e.height):n&&je.assignScale(i,n),i},assignScale(n,t){typeof t=="number"?n.scaleX=n.scaleY=t:(n.scaleX=t.x,n.scaleY=t.y)}},re=sp/180,li=sp*2,To=sp/2;function op(){return{x:0,y:0}}function Pb(){return{x:0,y:0,width:0,height:0}}function Qu(){return{a:1,b:0,c:0,d:1,e:0,f:0}}const{sin:Kh,cos:jh,acos:gu,sqrt:Yh}=Math,{float:ho}=je,fo={};function r0(){return Object.assign(Object.assign(Object.assign({},Qu()),Pb()),{scaleX:1,scaleY:1,rotation:0,skewX:0,skewY:0})}const Ct={defaultMatrix:Qu(),defaultWorld:r0(),tempMatrix:{},set(n,t=1,e=0,i=0,s=1,a=0,l=0){n.a=t,n.b=e,n.c=i,n.d=s,n.e=a,n.f=l},get:Qu,getWorld:r0,copy(n,t){n.a=t.a,n.b=t.b,n.c=t.c,n.d=t.d,n.e=t.e,n.f=t.f},translate(n,t,e){n.e+=t,n.f+=e},translateInner(n,t,e,i){n.e+=n.a*t+n.c*e,n.f+=n.b*t+n.d*e,i&&(n.e-=t,n.f-=e)},scale(n,t,e=t){n.a*=t,n.b*=t,n.c*=e,n.d*=e},scaleOfOuter(n,t,e,i){ve.toInnerPoint(n,t,fo),ve.scaleOfInner(n,fo,e,i)},scaleOfInner(n,t,e,i=e){ve.translateInner(n,t.x,t.y),ve.scale(n,e,i),ve.translateInner(n,-t.x,-t.y)},rotate(n,t){const{a:e,b:i,c:s,d:a}=n;t*=re;const l=jh(t),u=Kh(t);n.a=e*l-i*u,n.b=e*u+i*l,n.c=s*l-a*u,n.d=s*u+a*l},rotateOfOuter(n,t,e){ve.toInnerPoint(n,t,fo),ve.rotateOfInner(n,fo,e)},rotateOfInner(n,t,e){ve.translateInner(n,t.x,t.y),ve.rotate(n,e),ve.translateInner(n,-t.x,-t.y)},skew(n,t,e){const{a:i,b:s,c:a,d:l}=n;e&&(e*=re,n.a=i+a*e,n.b=s+l*e),t&&(t*=re,n.c=a+i*t,n.d=l+s*t)},skewOfOuter(n,t,e,i){ve.toInnerPoint(n,t,fo),ve.skewOfInner(n,fo,e,i)},skewOfInner(n,t,e,i=0){ve.translateInner(n,t.x,t.y),ve.skew(n,e,i),ve.translateInner(n,-t.x,-t.y)},multiply(n,t){const{a:e,b:i,c:s,d:a,e:l,f:u}=n;n.a=t.a*e+t.b*s,n.b=t.a*i+t.b*a,n.c=t.c*e+t.d*s,n.d=t.c*i+t.d*a,n.e=t.e*e+t.f*s+l,n.f=t.e*i+t.f*a+u},multiplyParent(n,t,e,i,s,a){let{e:l,f:u}=n;if(a&&(l+=a.scrollX,u+=a.scrollY),e||(e=n),i===void 0&&(i=n.a!==1||n.b||n.c||n.d!==1),i){const{a:h,b:d,c:p,d:v}=n;e.a=h*t.a+d*t.c,e.b=h*t.b+d*t.d,e.c=p*t.a+v*t.c,e.d=p*t.b+v*t.d,s&&(e.scaleX=t.scaleX*s.scaleX,e.scaleY=t.scaleY*s.scaleY)}else e.a=t.a,e.b=t.b,e.c=t.c,e.d=t.d,s&&(e.scaleX=t.scaleX,e.scaleY=t.scaleY);e.e=l*t.a+u*t.c+t.e,e.f=l*t.b+u*t.d+t.f},divide(n,t){ve.multiply(n,ve.tempInvert(t))},divideParent(n,t){ve.multiplyParent(n,ve.tempInvert(t))},tempInvert(n){const{tempMatrix:t}=ve;return ve.copy(t,n),ve.invert(t),t},invert(n){const{a:t,b:e,c:i,d:s,e:a,f:l}=n;if(!e&&!i)if(t===1&&s===1)n.e=-a,n.f=-l;else{const u=1/(t*s);n.a=s*u,n.d=t*u,n.e=-a*s*u,n.f=-l*t*u}else{const u=1/(t*s-e*i);n.a=s*u,n.b=-e*u,n.c=-i*u,n.d=t*u,n.e=-(a*s-l*i)*u,n.f=-(l*t-a*e)*u}},toOuterPoint(n,t,e,i){const{x:s,y:a}=t;e||(e=t),e.x=s*n.a+a*n.c,e.y=s*n.b+a*n.d,i||(e.x+=n.e,e.y+=n.f)},toInnerPoint(n,t,e,i){const{a:s,b:a,c:l,d:u}=n,h=1/(s*u-a*l),{x:d,y:p}=t;if(e||(e=t),e.x=(d*u-p*l)*h,e.y=(p*s-d*a)*h,!i){const{e:v,f:b}=n;e.x-=(v*u-b*l)*h,e.y-=(b*s-v*a)*h}},setLayout(n,t,e,i,s){const{x:a,y:l,scaleX:u,scaleY:h}=t;if(s===void 0&&(s=t.rotation||t.skewX||t.skewY),s){const{rotation:d,skewX:p,skewY:v}=t,b=d*re,_=jh(b),m=Kh(b);if(p||v){const x=p*re,R=v*re;n.a=(_+R*-m)*u,n.b=(m+R*_)*u,n.c=(-m+x*_)*h,n.d=(_+x*m)*h}else n.a=_*u,n.b=m*u,n.c=-m*h,n.d=_*h}else n.a=u,n.b=0,n.c=0,n.d=h;n.e=a,n.f=l,(e=e||i)&&ve.translateInner(n,-e.x,-e.y,!i)},getLayout(n,t,e,i){const{a:s,b:a,c:l,d:u,e:h,f:d}=n;let p=h,v=d,b,_,m,x,R;if(a||l){const C=s*u-a*l;if(l&&!i){b=Yh(s*s+a*a),_=C/b;const O=s/b;m=a>0?gu(O):-gu(O)}else{_=Yh(l*l+u*u),b=C/_;const O=l/_;m=To-(u>0?gu(-O):-gu(O))}const L=ho(jh(m)),A=Kh(m);b=ho(b),_=ho(_),x=L?ho((l/_+A)/L/re,9):0,R=L?ho((a/b-A)/L/re,9):0,m=ho(m/re)}else b=s,_=u,m=x=R=0;return(t=e||t)&&(p+=t.x*s+t.y*l,v+=t.x*a+t.y*u,e||(p-=t.x,v-=t.y)),{x:p,y:v,scaleX:b,scaleY:_,rotation:m,skewX:x,skewY:R}},withScale(n,t,e=t){const i=n;if(!t||!e){const{a:s,b:a,c:l,d:u}=n;a||l?(t=Yh(s*s+a*a),e=(s*u-a*l)/t):(t=s,e=u)}return i.scaleX=t,i.scaleY=e,i},reset(n){ve.set(n)}},ve=Ct,{toInnerPoint:Xh,toOuterPoint:s0}=Ct,{sin:o0,cos:a0,abs:l0,sqrt:OM,atan2:Zh,min:PM,PI:LM}=Math,Et={defaultPoint:op(),tempPoint:{},tempRadiusPoint:{},set(n,t=0,e=0){n.x=t,n.y=e},setRadius(n,t,e){n.radiusX=t,n.radiusY=e===void 0?t:e},copy(n,t){n.x=t.x,n.y=t.y},copyFrom(n,t,e){n.x=t,n.y=e},move(n,t,e){n.x+=t,n.y+=e},scale(n,t,e=t){n.x&&(n.x*=t),n.y&&(n.y*=e)},scaleOf(n,t,e,i=e){n.x+=(n.x-t.x)*(e-1),n.y+=(n.y-t.y)*(i-1)},rotate(n,t,e){e||(e=Ps.defaultPoint),t*=re;const i=a0(t),s=o0(t),a=n.x-e.x,l=n.y-e.y;n.x=e.x+a*i-l*s,n.y=e.y+a*s+l*i},tempToInnerOf(n,t){const{tempPoint:e}=Ps;return Jh(e,n),Xh(t,e,e),e},tempToOuterOf(n,t){const{tempPoint:e}=Ps;return Jh(e,n),s0(t,e,e),e},tempToInnerRadiusPointOf(n,t){const{tempRadiusPoint:e}=Ps;return Jh(e,n),Ps.toInnerRadiusPointOf(n,t,e),e},toInnerRadiusPointOf(n,t,e){e||(e=n),Xh(t,n,e),e.radiusX=Math.abs(n.radiusX/t.scaleX),e.radiusY=Math.abs(n.radiusY/t.scaleY)},toInnerOf(n,t,e){Xh(t,n,e)},toOuterOf(n,t,e){s0(t,n,e)},getCenter(n,t){return{x:n.x+(t.x-n.x)/2,y:n.y+(t.y-n.y)/2}},getCenterX(n,t){return n+(t-n)/2},getCenterY(n,t){return n+(t-n)/2},getDistance(n,t){return qh(n.x,n.y,t.x,t.y)},getDistanceFrom(n,t,e,i){const s=l0(e-n),a=l0(i-t);return OM(s*s+a*a)},getMinDistanceFrom(n,t,e,i,s,a){return PM(qh(n,t,e,i),qh(e,i,s,a))},getAngle(n,t){return u0(n,t)/re},getRotation(n,t,e,i){return i||(i=t),Ps.getRadianFrom(n.x,n.y,t.x,t.y,e.x,e.y,i.x,i.y)/re},getRadianFrom(n,t,e,i,s,a,l,u){l===void 0&&(l=e,u=i);let h=Zh(t-i,n-e);const p=Zh(a-u,s-l)-h;return p<-LM?p+li:p},getAtan2(n,t){return Zh(t.y-n.y,t.x-n.x)},getDistancePoint(n,t,e,i){const s=u0(n,t);return t=i?t:{},t.x=n.x+a0(s)*e,t.y=n.y+o0(s)*e,t},toNumberPoints(n){let t=n;return typeof n[0]=="object"&&(t=[],n.forEach(e=>t.push(e.x,e.y))),t},reset(n){}},Ps=Et,{getDistanceFrom:qh,copy:Jh,getAtan2:u0}=Ps;class Ua{constructor(t,e){this.set(t,e)}set(t,e){return typeof t=="object"?Et.copy(this,t):Et.set(this,t,e),this}get(){const{x:t,y:e}=this;return{x:t,y:e}}clone(){return new Ua(this)}move(t,e){return Et.move(this,t,e),this}scale(t,e){return Et.scale(this,t,e),this}scaleOf(t,e,i){return Et.scaleOf(this,t,e,i),this}rotate(t,e){return Et.rotate(this,t,e),this}rotateOf(t,e){return Et.rotate(this,e,t),this}getRotation(t,e,i){return Et.getRotation(this,t,e,i)}toInnerOf(t,e){return Et.toInnerOf(this,t,e),this}toOuterOf(t,e){return Et.toOuterOf(this,t,e),this}getCenter(t){return new Ua(Et.getCenter(this,t))}getDistance(t){return Et.getDistance(this,t)}getDistancePoint(t,e,i){return new Ua(Et.getDistancePoint(this,t,e,i))}getAngle(t){return Et.getAngle(this,t)}getAtan2(t){return Et.getAtan2(this,t)}reset(){return this}}new Ua;class In{constructor(t,e,i,s,a,l){this.set(t,e,i,s,a,l)}set(t,e,i,s,a,l){return typeof t=="object"?Ct.copy(this,t):Ct.set(this,t,e,i,s,a,l),this}setWith(t){return Ct.copy(this,t),this.scaleX=t.scaleX,this.scaleY=t.scaleY,this}get(){const{a:t,b:e,c:i,d:s,e:a,f:l}=this;return{a:t,b:e,c:i,d:s,e:a,f:l}}clone(){return new In(this)}translate(t,e){return Ct.translate(this,t,e),this}translateInner(t,e){return Ct.translateInner(this,t,e),this}scale(t,e){return Ct.scale(this,t,e),this}scaleWith(t,e){return Ct.scale(this,t,e),this.scaleX*=t,this.scaleY*=e||t,this}scaleOfOuter(t,e,i){return Ct.scaleOfOuter(this,t,e,i),this}scaleOfInner(t,e,i){return Ct.scaleOfInner(this,t,e,i),this}rotate(t){return Ct.rotate(this,t),this}rotateOfOuter(t,e){return Ct.rotateOfOuter(this,t,e),this}rotateOfInner(t,e){return Ct.rotateOfInner(this,t,e),this}skew(t,e){return Ct.skew(this,t,e),this}skewOfOuter(t,e,i){return Ct.skewOfOuter(this,t,e,i),this}skewOfInner(t,e,i){return Ct.skewOfInner(this,t,e,i),this}multiply(t){return Ct.multiply(this,t),this}multiplyParent(t){return Ct.multiplyParent(this,t),this}divide(t){return Ct.divide(this,t),this}divideParent(t){return Ct.divideParent(this,t),this}invert(){return Ct.invert(this),this}invertWith(){return Ct.invert(this),this.scaleX=1/this.scaleX,this.scaleY=1/this.scaleY,this}toOuterPoint(t,e,i){Ct.toOuterPoint(this,t,e,i)}toInnerPoint(t,e,i){Ct.toInnerPoint(this,t,e,i)}setLayout(t,e,i){return Ct.setLayout(this,t,e,i),this}getLayout(t,e,i){return Ct.getLayout(this,t,e,i)}withScale(t,e){return Ct.withScale(this,t,e)}reset(){Ct.reset(this)}}new In;const hl={tempPointBounds:{},setPoint(n,t,e){n.minX=n.maxX=t,n.minY=n.maxY=e},addPoint(n,t,e){n.minX=t<n.minX?t:n.minX,n.minY=e<n.minY?e:n.minY,n.maxX=t>n.maxX?t:n.maxX,n.maxY=e>n.maxY?e:n.maxY},addBounds(n,t,e,i,s){c0(n,t,e),c0(n,t+i,e+s)},copy(n,t){n.minX=t.minX,n.minY=t.minY,n.maxX=t.maxX,n.maxY=t.maxY},addPointBounds(n,t){n.minX=t.minX<n.minX?t.minX:n.minX,n.minY=t.minY<n.minY?t.minY:n.minY,n.maxX=t.maxX>n.maxX?t.maxX:n.maxX,n.maxY=t.maxY>n.maxY?t.maxY:n.maxY},toBounds(n,t){t.x=n.minX,t.y=n.minY,t.width=n.maxX-n.minX,t.height=n.maxY-n.minY}},{addPoint:c0}=hl,{tempPointBounds:Gr,setPoint:h0,addPoint:_u,toBounds:d0}=hl,{toOuterPoint:vu}=Ct,{float:mu,fourNumber:kM}=je,{floor:f0,ceil:yu}=Math;let Ki,ji,ws,xs;const gr={},ri={},_t={tempBounds:{},set(n,t=0,e=0,i=0,s=0){n.x=t,n.y=e,n.width=i,n.height=s},copy(n,t){n.x=t.x,n.y=t.y,n.width=t.width,n.height=t.height},copyAndSpread(n,t,e,i,s){const{x:a,y:l,width:u,height:h}=t;if(e instanceof Array){const d=kM(e);i?Zt.set(n,a+d[3],l+d[0],u-d[1]-d[3],h-d[2]-d[0]):Zt.set(n,a-d[3],l-d[0],u+d[1]+d[3],h+d[2]+d[0])}else i&&(e=-e),Zt.set(n,a-e,l-e,u+e*2,h+e*2);s&&(s==="width"?(n.y=l,n.height=h):(n.x=a,n.width=u))},minX(n){return n.width>0?n.x:n.x+n.width},minY(n){return n.height>0?n.y:n.y+n.height},maxX(n){return n.width>0?n.x+n.width:n.x},maxY(n){return n.height>0?n.y+n.height:n.y},move(n,t,e){n.x+=t,n.y+=e},getByMove(n,t,e){return n=Object.assign({},n),Zt.move(n,t,e),n},toOffsetOutBounds(n,t,e){t?g0(t,n):t=n,e?(t.offsetX=-(Zt.maxX(e)-n.x),t.offsetY=-(Zt.maxY(e)-n.y)):(t.offsetX=n.x+n.width,t.offsetY=n.y+n.height),Zt.move(t,-t.offsetX,-t.offsetY)},scale(n,t,e=t){Et.scale(n,t,e),n.width*=t,n.height*=e},scaleOf(n,t,e,i=e){Et.scaleOf(n,t,e,i),n.width*=e,n.height*=i},tempToOuterOf(n,t){return Zt.copy(Zt.tempBounds,n),Zt.toOuterOf(Zt.tempBounds,t),Zt.tempBounds},getOuterOf(n,t){return n=Object.assign({},n),Zt.toOuterOf(n,t),n},toOuterOf(n,t,e){if(e||(e=n),t.b===0&&t.c===0){const{a:i,d:s}=t;i>0?(e.width=n.width*i,e.x=t.e+n.x*i):(e.width=n.width*-i,e.x=t.e+n.x*i-e.width),s>0?(e.height=n.height*s,e.y=t.f+n.y*s):(e.height=n.height*-s,e.y=t.f+n.y*s-e.height)}else gr.x=n.x,gr.y=n.y,vu(t,gr,ri),h0(Gr,ri.x,ri.y),gr.x=n.x+n.width,vu(t,gr,ri),_u(Gr,ri.x,ri.y),gr.y=n.y+n.height,vu(t,gr,ri),_u(Gr,ri.x,ri.y),gr.x=n.x,vu(t,gr,ri),_u(Gr,ri.x,ri.y),d0(Gr,e)},toInnerOf(n,t,e){e||(e=n),Zt.move(e,-t.e,-t.f),Zt.scale(e,1/t.a,1/t.d)},getFitMatrix(n,t,e=1){const i=Math.min(e,Math.min(n.width/t.width,n.height/t.height));return new In(i,0,0,i,-t.x*i,-t.y*i)},getSpread(n,t,e){const i={};return Zt.copyAndSpread(i,n,t,!1,e),i},spread(n,t,e){Zt.copyAndSpread(n,n,t,!1,e)},shrink(n,t,e){Zt.copyAndSpread(n,n,t,!0,e)},ceil(n){const{x:t,y:e}=n;n.x=f0(n.x),n.y=f0(n.y),n.width=t>n.x?yu(n.width+t-n.x):yu(n.width),n.height=e>n.y?yu(n.height+e-n.y):yu(n.height)},unsign(n){n.width<0&&(n.x+=n.width,n.width=-n.width),n.height<0&&(n.y+=n.height,n.height=-n.height)},float(n,t){n.x=mu(n.x,t),n.y=mu(n.y,t),n.width=mu(n.width,t),n.height=mu(n.height,t)},add(n,t,e){Ki=n.x+n.width,ji=n.y+n.height,ws=t.x,xs=t.y,e||(ws+=t.width,xs+=t.height),Ki=Ki>ws?Ki:ws,ji=ji>xs?ji:xs,n.x=n.x<t.x?n.x:t.x,n.y=n.y<t.y?n.y:t.y,n.width=Ki-n.x,n.height=ji-n.y},addList(n,t){Zt.setListWithFn(n,t,void 0,!0)},setList(n,t,e=!1){Zt.setListWithFn(n,t,void 0,e)},addListWithFn(n,t,e){Zt.setListWithFn(n,t,e,!0)},setListWithFn(n,t,e,i=!1){let s,a=!0;for(let l=0,u=t.length;l<u;l++)s=e?e(t[l]):t[l],s&&(s.width||s.height)&&(a?(a=!1,i||g0(n,s)):p0(n,s));a&&Zt.reset(n)},setPoints(n,t){t.forEach((e,i)=>i===0?h0(Gr,e.x,e.y):_u(Gr,e.x,e.y)),d0(Gr,n)},setPoint(n,t){Zt.set(n,t.x,t.y)},addPoint(n,t){p0(n,t,!0)},getPoints(n){const{x:t,y:e,width:i,height:s}=n;return[{x:t,y:e},{x:t+i,y:e},{x:t+i,y:e+s},{x:t,y:e+s}]},hitRadiusPoint(n,t,e){return e&&(t=Et.tempToInnerRadiusPointOf(t,e)),t.x>=n.x-t.radiusX&&t.x<=n.x+n.width+t.radiusX&&t.y>=n.y-t.radiusY&&t.y<=n.y+n.height+t.radiusY},hitPoint(n,t,e){return e&&(t=Et.tempToInnerOf(t,e)),t.x>=n.x&&t.x<=n.x+n.width&&t.y>=n.y&&t.y<=n.y+n.height},hit(n,t,e){return e&&(t=Zt.tempToOuterOf(t,e)),!(n.y+n.height<t.y||t.y+t.height<n.y||n.x+n.width<t.x||t.x+t.width<n.x)},includes(n,t,e){return e&&(t=Zt.tempToOuterOf(t,e)),n.x<=t.x&&n.y<=t.y&&n.x+n.width>=t.x+t.width&&n.y+n.height>=t.y+t.height},getIntersectData(n,t,e){if(e&&(t=Zt.tempToOuterOf(t,e)),!Zt.hit(n,t))return Pb();let{x:i,y:s,width:a,height:l}=t;return Ki=i+a,ji=s+l,ws=n.x+n.width,xs=n.y+n.height,i=i>n.x?i:n.x,s=s>n.y?s:n.y,Ki=Ki<ws?Ki:ws,ji=ji<xs?ji:xs,a=Ki-i,l=ji-s,{x:i,y:s,width:a,height:l}},intersect(n,t,e){Zt.copy(n,Zt.getIntersectData(n,t,e))},isSame(n,t){return n.x===t.x&&n.y===t.y&&n.width===t.width&&n.height===t.height},isEmpty(n){return n.x===0&&n.y===0&&n.width===0&&n.height===0},reset(n){Zt.set(n)}},Zt=_t,{add:p0,copy:g0}=Zt;class pe{get minX(){return _t.minX(this)}get minY(){return _t.minY(this)}get maxX(){return _t.maxX(this)}get maxY(){return _t.maxY(this)}constructor(t,e,i,s){this.set(t,e,i,s)}set(t,e,i,s){return typeof t=="object"?_t.copy(this,t):_t.set(this,t,e,i,s),this}get(){const{x:t,y:e,width:i,height:s}=this;return{x:t,y:e,width:i,height:s}}clone(){return new pe(this)}move(t,e){return _t.move(this,t,e),this}scale(t,e){return _t.scale(this,t,e),this}scaleOf(t,e,i){return _t.scaleOf(this,t,e,i),this}toOuterOf(t,e){return _t.toOuterOf(this,t,e),this}toInnerOf(t,e){return _t.toInnerOf(this,t,e),this}getFitMatrix(t,e){return _t.getFitMatrix(this,t,e)}spread(t,e){return _t.spread(this,t,e),this}shrink(t,e){return _t.shrink(this,t,e),this}ceil(){return _t.ceil(this),this}unsign(){return _t.unsign(this),this}float(t){return _t.float(this,t),this}add(t){return _t.add(this,t),this}addList(t){return _t.setList(this,t,!0),this}setList(t){return _t.setList(this,t),this}addListWithFn(t,e){return _t.setListWithFn(this,t,e,!0),this}setListWithFn(t,e){return _t.setListWithFn(this,t,e),this}setPoint(t){return _t.setPoint(this,t),this}setPoints(t){return _t.setPoints(this,t),this}addPoint(t){return _t.addPoint(this,t),this}getPoints(){return _t.getPoints(this)}hitPoint(t,e){return _t.hitPoint(this,t,e)}hitRadiusPoint(t,e){return _t.hitRadiusPoint(this,t,e)}hit(t,e){return _t.hit(this,t,e)}includes(t,e){return _t.includes(this,t,e)}intersect(t,e){return _t.intersect(this,t,e),this}getIntersect(t,e){return new pe(_t.getIntersectData(this,t,e))}isSame(t){return _t.isSame(this,t)}isEmpty(){return _t.isEmpty(this)}reset(){_t.reset(this)}}const ie=new pe;class IM{constructor(t,e,i,s,a,l){typeof t=="object"?this.copy(t):this.set(t,e,i,s,a,l)}set(t=0,e=0,i=0,s=0,a=0,l=0){this.top=t,this.right=e,this.bottom=i,this.left=s,this.width=a,this.height=l}copy(t){const{top:e,right:i,bottom:s,left:a,width:l,height:u}=t;this.set(e,i,s,a,l,u)}getBoundsFrom(t){const{top:e,right:i,bottom:s,left:a,width:l,height:u}=this;return new pe(a,e,l||t.width-a-i,u||t.height-e-s)}}var sf;(function(n){n[n.top=0]="top",n[n.right=1]="right",n[n.bottom=2]="bottom",n[n.left=3]="left"})(sf||(sf={}));var zo;(function(n){n[n.topLeft=0]="topLeft",n[n.top=1]="top",n[n.topRight=2]="topRight",n[n.right=3]="right",n[n.bottomRight=4]="bottomRight",n[n.bottom=5]="bottom",n[n.bottomLeft=6]="bottomLeft",n[n.left=7]="left",n[n.center=8]="center",n[n["top-left"]=0]="top-left",n[n["top-right"]=2]="top-right",n[n["bottom-right"]=4]="bottom-right",n[n["bottom-left"]=6]="bottom-left"})(zo||(zo={}));const ap=[{x:0,y:0},{x:.5,y:0},{x:1,y:0},{x:1,y:.5},{x:1,y:1},{x:.5,y:1},{x:0,y:1},{x:0,y:.5},{x:.5,y:.5}];ap.forEach(n=>n.type="percent");const Pr={directionData:ap,tempPoint:{},get:_0,toPoint(n,t,e,i,s){const a=_0(n);e.x=a.x,e.y=a.y,a.type==="percent"&&(e.x*=t.width,e.y*=t.height,s&&(e.x-=s.x,e.y-=s.y,a.x&&(e.x-=a.x===1?s.width:a.x===.5?a.x*s.width:0),a.y&&(e.y-=a.y===1?s.height:a.y===.5?a.y*s.height:0))),i||(e.x+=t.x,e.y+=t.y)}};function _0(n){return typeof n=="string"?ap[zo[n]]:n}const{toPoint:BM}=Pr,AM={toPoint(n,t,e,i,s){BM(n,e,i,s,t)}},MM={0:1,1:1,2:1,3:1,4:1,5:1,6:1,7:1,8:1,9:1,".":1,e:1,E:1};class te{constructor(t){this.repeatMap={},this.name=t}static get(t){return new te(t)}static set filter(t){this.filterList=v0(t)}static set exclude(t){this.excludeList=v0(t)}log(...t){if(Es.enable){if(Es.filterList.length&&Es.filterList.every(e=>e!==this.name)||Es.excludeList.length&&Es.excludeList.some(e=>e===this.name))return;console.log("%c"+this.name,"color:#21ae62",...t)}}tip(...t){Es.enable&&this.warn(...t)}warn(...t){Es.showWarn&&console.warn(this.name,...t)}repeat(t,...e){this.repeatMap[t]||(this.warn("repeat:"+t,...e),this.repeatMap[t]=!0)}error(...t){try{throw new Error}catch(e){console.error(this.name,...t,e)}}}te.filterList=[];te.excludeList=[];te.showWarn=!0;function v0(n){return n?typeof n=="string"&&(n=[n]):n=[],n}const Es=te,DM=te.get("RunTime"),Oi={currentId:0,currentName:"",idMap:{},nameMap:{},nameToIdMap:{},start(n,t){const e=Or.create(Or.RUNTIME);return si.currentId=si.idMap[e]=t?performance.now():Date.now(),si.currentName=si.nameMap[e]=n,si.nameToIdMap[n]=e,e},end(n,t){const e=si.idMap[n],i=si.nameMap[n],s=t?(performance.now()-e)/1e3:Date.now()-e;si.idMap[n]=si.nameMap[n]=si.nameToIdMap[i]=void 0,DM.log(i,s,"ms")},endOfName(n,t){const e=si.nameToIdMap[n];e!==void 0&&si.end(e,t)}},si=Oi;function Ho(n){console.error("need plugin: @leafer-in/"+n)}const $M=te.get("UICreator"),pc={list:{},register(n){const{__tag:t}=n.prototype;Qh[t]?$M.repeat(t):Qh[t]=n},get(n,t,e,i,s,a){const l=new Qh[n](t);return e!==void 0&&(l.x=e,i&&(l.y=i),s&&(l.width=s),a&&(l.height=a)),l}},{list:Qh}=pc,FM=te.get("EventCreator"),Vo={nameList:{},register(n){let t;Object.keys(n).forEach(e=>{t=n[e],typeof t=="string"&&(ma[t]?FM.repeat(t):ma[t]=n)})},changeName(n,t){const e=ma[n];if(e){const i=Object.keys(e).find(s=>e[s]===n);i&&(e[i]=t,ma[t]=e)}},has(n){return!!this.nameList[n]},get(n,...t){return new ma[n](...t)}},{nameList:ma}=Vo;class Lb{constructor(){this.list=[]}add(t){t.manager=this,this.list.push(t)}get(t){let e;const{list:i}=this;for(let a=0,l=i.length;a<l;a++)if(e=i[a],e.recycled&&e.isSameSize(t))return e.recycled=!1,e.manager||(e.manager=this),e;const s=Oe.canvas(t);return this.add(s),s}recycle(t){t.recycled=!0}clearRecycled(){let t;const e=[];for(let i=0,s=this.list.length;i<s;i++)t=this.list[i],t.recycled?t.destroy():e.push(t);this.list=e}clear(){this.list.forEach(t=>{t.destroy()}),this.list.length=0}destroy(){this.clear()}}const Be={default(n,t){return td(t,n),td(n,t),n},assign(n,t){let e;Object.keys(t).forEach(i=>{var s;e=t[i],(e==null?void 0:e.constructor)===Object&&((s=n[i])===null||s===void 0?void 0:s.constructor)===Object?td(n[i],t[i]):n[i]=t[i]})},copyAttrs(n,t,e){return e.forEach(i=>{t[i]!==void 0&&(n[i]=t[i])}),n},clone(n){return JSON.parse(JSON.stringify(n))},toMap(n){const t={};for(let e=0,i=n.length;e<i;e++)t[n[e]]=!0;return t}},{assign:td}=Be;class kb{get __useNaturalRatio(){return!0}get __isLinePath(){const{path:t}=this;return t&&t.length===6&&t[0]===1}get __blendMode(){if(this.eraser&&this.eraser!=="path")return"destination-out";const{blendMode:t}=this;return t==="pass-through"?null:t}constructor(t){this.__leaf=t}__get(t){if(this.__input){const e=this.__input[t];if(e!==void 0)return e}return this[t]}__getData(){const t={tag:this.__leaf.tag},{__input:e}=this;let i;for(let s in this)s[0]!=="_"&&(i=e?e[s]:void 0,t[s]=i===void 0?this[s]:i);return t}__setInput(t,e){this.__input||(this.__input={}),this.__input[t]=e}__getInput(t){if(this.__input){const e=this.__input[t];if(e!==void 0)return e}if(!(t==="path"&&!this.__pathInputed))return this["_"+t]}__removeInput(t){this.__input&&this.__input[t]!==void 0&&(this.__input[t]=void 0)}__getInputData(t,e){const i={};if(t)if(t instanceof Array)for(let s of t)i[s]=this.__getInput(s);else for(let s in t)i[s]=this.__getInput(s);else{let s,a,{__input:l}=this;i.tag=this.__leaf.tag;for(let u in this)if(u[0]!=="_"&&(s=this["_"+u],s!==void 0)){if(u==="path"&&!this.__pathInputed)continue;a=l?l[u]:void 0,i[u]=a===void 0?s:a}}if(e&&e.matrix){const{a:s,b:a,c:l,d:u,e:h,f:d}=this.__leaf.__localMatrix;i.matrix={a:s,b:a,c:l,d:u,e:h,f:d}}return i}__setMiddle(t,e){this.__middle||(this.__middle={}),this.__middle[t]=e}__getMiddle(t){return this.__middle&&this.__middle[t]}__checkSingle(){const t=this;if(t.blendMode==="pass-through"){const e=this.__leaf;t.opacity<1&&e.isBranch||e.__hasEraser||t.eraser?t.__single=!0:t.__single&&(t.__single=!1)}else t.__single=!0}__removeNaturalSize(){this.__naturalWidth=this.__naturalHeight=void 0}destroy(){this.__input=this.__middle=null}}var tc;(function(n){n[n.No=0]="No",n[n.Yes=1]="Yes",n[n.NoAndSkip=2]="NoAndSkip",n[n.YesAndSkip=3]="YesAndSkip"})(tc||(tc={}));function dt(n,t,e,i){var s=arguments.length,a=s<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,t,e,i);else for(var u=n.length-1;u>=0;u--)(l=n[u])&&(a=(s<3?l(a):s>3?l(t,e,a):l(t,e))||a);return s>3&&a&&Object.defineProperty(t,e,a),a}function Ib(n,t,e,i){function s(a){return a instanceof e?a:new e(function(l){l(a)})}return new(e||(e=Promise))(function(a,l){function u(p){try{d(i.next(p))}catch(v){l(v)}}function h(p){try{d(i.throw(p))}catch(v){l(v)}}function d(p){p.done?a(p.value):s(p.value).then(u,h)}d((i=i.apply(n,[])).next())})}function ge(n){return(t,e)=>{n||(n=e),Object.defineProperty(t,e,{get(){return this.context[n]},set(i){this.context[n]=i}})}}const Bb=[];function jt(){return(n,t)=>{Bb.push(t)}}const NM=[];let ft=class{set blendMode(t){t==="normal"&&(t="source-over"),this.context.globalCompositeOperation=t}get blendMode(){return this.context.globalCompositeOperation}set dashPattern(t){this.context.setLineDash(t||NM)}get dashPattern(){return this.context.getLineDash()}__bindContext(){let t;Bb.forEach(e=>{t=this.context[e],t&&(this[e]=t.bind(this.context))}),this.textBaseline="alphabetic"}setTransform(t,e,i,s,a,l){}resetTransform(){}getTransform(){}save(){}restore(){}transform(t,e,i,s,a,l){typeof t=="object"?this.context.transform(t.a,t.b,t.c,t.d,t.e,t.f):this.context.transform(t,e,i,s,a,l)}translate(t,e){}scale(t,e){}rotate(t){}fill(t,e){}stroke(t){}clip(t,e){}fillRect(t,e,i,s){}strokeRect(t,e,i,s){}clearRect(t,e,i,s){}drawImage(t,e,i,s,a,l,u,h,d){switch(arguments.length){case 9:if(e<0){const p=-e/s*h;s+=e,e=0,l+=p,h-=p}if(i<0){const p=-i/a*d;a+=i,i=0,u+=p,d-=p}this.context.drawImage(t,e,i,s,a,l,u,h,d);break;case 5:this.context.drawImage(t,e,i,s,a);break;case 3:this.context.drawImage(t,e,i)}}beginPath(){}moveTo(t,e){}lineTo(t,e){}bezierCurveTo(t,e,i,s,a,l){}quadraticCurveTo(t,e,i,s){}closePath(){}arc(t,e,i,s,a,l){}arcTo(t,e,i,s,a){}ellipse(t,e,i,s,a,l,u,h){}rect(t,e,i,s){}roundRect(t,e,i,s,a){}createConicGradient(t,e,i){}createLinearGradient(t,e,i,s){}createPattern(t,e){}createRadialGradient(t,e,i,s,a,l){}fillText(t,e,i,s){}measureText(t){}strokeText(t,e,i,s){}destroy(){this.context=null}};dt([ge("imageSmoothingEnabled")],ft.prototype,"smooth",void 0);dt([ge("imageSmoothingQuality")],ft.prototype,"smoothLevel",void 0);dt([ge("globalAlpha")],ft.prototype,"opacity",void 0);dt([ge()],ft.prototype,"fillStyle",void 0);dt([ge()],ft.prototype,"strokeStyle",void 0);dt([ge("lineWidth")],ft.prototype,"strokeWidth",void 0);dt([ge("lineCap")],ft.prototype,"strokeCap",void 0);dt([ge("lineJoin")],ft.prototype,"strokeJoin",void 0);dt([ge("lineDashOffset")],ft.prototype,"dashOffset",void 0);dt([ge()],ft.prototype,"miterLimit",void 0);dt([ge()],ft.prototype,"shadowBlur",void 0);dt([ge()],ft.prototype,"shadowColor",void 0);dt([ge()],ft.prototype,"shadowOffsetX",void 0);dt([ge()],ft.prototype,"shadowOffsetY",void 0);dt([ge()],ft.prototype,"filter",void 0);dt([ge()],ft.prototype,"font",void 0);dt([ge()],ft.prototype,"fontKerning",void 0);dt([ge()],ft.prototype,"fontStretch",void 0);dt([ge()],ft.prototype,"fontVariantCaps",void 0);dt([ge()],ft.prototype,"textAlign",void 0);dt([ge()],ft.prototype,"textBaseline",void 0);dt([ge()],ft.prototype,"textRendering",void 0);dt([ge()],ft.prototype,"wordSpacing",void 0);dt([ge()],ft.prototype,"letterSpacing",void 0);dt([ge()],ft.prototype,"direction",void 0);dt([jt()],ft.prototype,"setTransform",null);dt([jt()],ft.prototype,"resetTransform",null);dt([jt()],ft.prototype,"getTransform",null);dt([jt()],ft.prototype,"save",null);dt([jt()],ft.prototype,"restore",null);dt([jt()],ft.prototype,"translate",null);dt([jt()],ft.prototype,"scale",null);dt([jt()],ft.prototype,"rotate",null);dt([jt()],ft.prototype,"fill",null);dt([jt()],ft.prototype,"stroke",null);dt([jt()],ft.prototype,"clip",null);dt([jt()],ft.prototype,"fillRect",null);dt([jt()],ft.prototype,"strokeRect",null);dt([jt()],ft.prototype,"clearRect",null);dt([jt()],ft.prototype,"beginPath",null);dt([jt()],ft.prototype,"moveTo",null);dt([jt()],ft.prototype,"lineTo",null);dt([jt()],ft.prototype,"bezierCurveTo",null);dt([jt()],ft.prototype,"quadraticCurveTo",null);dt([jt()],ft.prototype,"closePath",null);dt([jt()],ft.prototype,"arc",null);dt([jt()],ft.prototype,"arcTo",null);dt([jt()],ft.prototype,"ellipse",null);dt([jt()],ft.prototype,"rect",null);dt([jt()],ft.prototype,"roundRect",null);dt([jt()],ft.prototype,"createConicGradient",null);dt([jt()],ft.prototype,"createLinearGradient",null);dt([jt()],ft.prototype,"createPattern",null);dt([jt()],ft.prototype,"createRadialGradient",null);dt([jt()],ft.prototype,"fillText",null);dt([jt()],ft.prototype,"measureText",null);dt([jt()],ft.prototype,"strokeText",null);const{copy:WM}=Ct,zM={width:1,height:1,pixelRatio:1},Xi=["width","height","pixelRatio"];class lp extends ft{get width(){return this.size.width}get height(){return this.size.height}get pixelRatio(){return this.size.pixelRatio}get pixelWidth(){return this.width*this.pixelRatio}get pixelHeight(){return this.height*this.pixelRatio}get allowBackgroundColor(){return this.view&&this.parentView}constructor(t,e){super(),this.size={},this.worldTransform={},t||(t=zM),t.pixelRatio||(t.pixelRatio=ut.devicePixelRatio),this.manager=e,this.innerId=Or.create(Or.CNAVAS);const{width:i,height:s,pixelRatio:a}=t;this.autoLayout=!i||!s,this.size.pixelRatio=a,this.config=t,this.init()}init(){}__createContext(){const{view:t}=this,{contextSettings:e}=this.config;this.context=e?t.getContext("2d",e):t.getContext("2d"),this.__bindContext()}export(t,e){}toBlob(t,e){}toDataURL(t,e){}saveAs(t,e){}resize(t){if(this.isSameSize(t))return;let e;this.context&&!this.unreal&&this.width&&(e=this.getSameCanvas(),e.copyWorld(this)),Be.copyAttrs(this.size,t,Xi),this.size.pixelRatio||(this.size.pixelRatio=1),this.bounds=new pe(0,0,this.width,this.height),this.context&&!this.unreal&&(this.updateViewSize(),this.smooth=this.config.smooth),this.updateClientBounds(),this.context&&!this.unreal&&e&&(this.clearWorld(e.bounds),this.copyWorld(e),e.recycle())}updateViewSize(){}updateClientBounds(){}getClientBounds(t){return t&&this.updateClientBounds(),this.clientBounds||this.bounds}startAutoLayout(t,e){}stopAutoLayout(){}setCursor(t){}setWorld(t,e){const{pixelRatio:i}=this,s=this.worldTransform;if(e){const{a,b:l,c:u,d:h,e:d,f:p}=e;this.setTransform(s.a=(t.a*a+t.b*u)*i,s.b=(t.a*l+t.b*h)*i,s.c=(t.c*a+t.d*u)*i,s.d=(t.c*l+t.d*h)*i,s.e=(t.e*a+t.f*u+d)*i,s.f=(t.e*l+t.f*h+p)*i)}else this.setTransform(s.a=t.a*i,s.b=t.b*i,s.c=t.c*i,s.d=t.d*i,s.e=t.e*i,s.f=t.f*i)}useWorldTransform(t){t&&(this.worldTransform=t);const e=this.worldTransform;e&&this.setTransform(e.a,e.b,e.c,e.d,e.e,e.f)}setStroke(t,e,i){e&&(this.strokeWidth=e),t&&(this.strokeStyle=t),i&&this.setStrokeOptions(i)}setStrokeOptions(t){this.strokeCap=t.strokeCap==="none"?"butt":t.strokeCap,this.strokeJoin=t.strokeJoin,this.dashPattern=t.dashPattern,this.dashOffset=t.dashOffset,this.miterLimit=t.miterLimit}saveBlendMode(t){this.savedBlendMode=this.blendMode,this.blendMode=t}restoreBlendMode(){this.blendMode=this.savedBlendMode}hitFill(t,e){return!0}hitStroke(t,e){return!0}hitPixel(t,e,i=1){return!0}setWorldShadow(t,e,i,s){const{pixelRatio:a}=this;this.shadowOffsetX=t*a,this.shadowOffsetY=e*a,this.shadowBlur=i*a,this.shadowColor=s||"black"}setWorldBlur(t){const{pixelRatio:e}=this;this.filter=`blur(${t*e}px)`}copyWorld(t,e,i,s){if(s&&(this.blendMode=s),e){const{pixelRatio:a}=this;i||(i=e),this.drawImage(t.view,e.x*a,e.y*a,e.width*a,e.height*a,i.x*a,i.y*a,i.width*a,i.height*a)}else this.drawImage(t.view,0,0);s&&(this.blendMode="source-over")}copyWorldToInner(t,e,i,s){if(s&&(this.blendMode=s),e.b||e.c)this.save(),this.resetTransform(),this.copyWorld(t,e,_t.tempToOuterOf(i,e)),this.restore();else{const{pixelRatio:a}=this;this.drawImage(t.view,e.x*a,e.y*a,e.width*a,e.height*a,i.x,i.y,i.width,i.height)}s&&(this.blendMode="source-over")}copyWorldByReset(t,e,i,s,a){this.resetTransform(),this.copyWorld(t,e,i,s),a||this.useWorldTransform()}useMask(t,e,i){this.copyWorld(t,e,i,"destination-in")}useEraser(t,e,i){this.copyWorld(t,e,i,"destination-out")}fillWorld(t,e,i){i&&(this.blendMode=i),this.fillStyle=e,ie.set(t).scale(this.pixelRatio),this.fillRect(ie.x,ie.y,ie.width,ie.height),i&&(this.blendMode="source-over")}strokeWorld(t,e,i){i&&(this.blendMode=i),this.strokeStyle=e,ie.set(t).scale(this.pixelRatio),this.strokeRect(ie.x,ie.y,ie.width,ie.height),i&&(this.blendMode="source-over")}clearWorld(t,e){ie.set(t).scale(this.pixelRatio),e&&ie.ceil(),this.clearRect(ie.x,ie.y,ie.width,ie.height)}clipWorld(t,e){this.beginPath(),ie.set(t).scale(this.pixelRatio),e&&ie.ceil(),this.rect(ie.x,ie.y,ie.width,ie.height),this.clip()}clear(){const{pixelRatio:t}=this;this.clearRect(0,0,this.width*t+2,this.height*t+2)}isSameSize(t){return this.width===t.width&&this.height===t.height&&this.pixelRatio===t.pixelRatio}getSameCanvas(t,e){const i=this.manager?this.manager.get(this.size):Oe.canvas(Object.assign({},this.size));return i.save(),t&&(WM(i.worldTransform,this.worldTransform),i.useWorldTransform()),e&&(i.smooth=this.smooth),i}recycle(t){this.recycled||(this.restore(),t?this.clearWorld(t,!0):this.clear(),this.manager?this.manager.recycle(this):this.destroy())}updateRender(t){}unrealCanvas(){}destroy(){this.manager=this.view=this.parentView=null}}const Zi={creator:{},parse(n,t){},convertToCanvasData(n,t){}},Ab={N:21,D:22,X:23,G:24,F:25,O:26,P:27,U:28},gi=Object.assign({M:1,m:10,L:2,l:20,H:3,h:30,V:4,v:40,C:5,c:50,S:6,s:60,Q:7,q:70,T:8,t:80,A:9,a:90,Z:11,z:11,R:12},Ab),Mb={M:3,m:3,L:3,l:3,H:2,h:2,V:2,v:2,C:7,c:7,S:5,s:5,Q:5,q:5,T:3,t:3,A:8,a:8,Z:1,z:1,N:5,D:9,X:6,G:9,F:5,O:7,P:4,U:6},Db={m:10,l:20,H:3,h:30,V:4,v:40,c:50,S:6,s:60,q:70,T:8,t:80,A:9,a:90},HM=Object.assign(Object.assign({},Db),Ab),ec=gi,$b={};for(let n in ec)$b[ec[n]]=n;const Fb={};for(let n in ec)Fb[ec[n]]=Mb[n];const Nb={drawRoundRect(n,t,e,i,s,a){const l=je.fourNumber(a,Math.min(i/2,s/2)),u=t+i,h=e+s;l[0]?n.moveTo(t+l[0],e):n.moveTo(t,e),l[1]?n.arcTo(u,e,u,h,l[1]):n.lineTo(u,e),l[2]?n.arcTo(u,h,t,h,l[2]):n.lineTo(u,h),l[3]?n.arcTo(t,h,t,e,l[3]):n.lineTo(t,h),l[0]?n.arcTo(t,e,u,e,l[0]):n.lineTo(t,e)}},{sin:po,cos:ya,atan2:m0,ceil:VM,abs:ed,PI:y0,sqrt:b0,pow:bu}=Math,{setPoint:nd,addPoint:wu}=hl,{set:xu,toNumberPoints:UM}=Et,{M:w0,L:id,C:rd,Q:x0,Z:GM}=gi,sd={},Ds={points(n,t,e,i){let s=UM(t);if(n.push(w0,s[0],s[1]),e&&s.length>5){let a,l,u,h,d,p,v,b,_,m,x,R,C,L=s.length;const A=e===!0?.5:e;i&&(s=[s[L-2],s[L-1],...s,s[0],s[1],s[2],s[3]],L=s.length);for(let O=2;O<L-2;O+=2)a=s[O-2],l=s[O-1],u=s[O],h=s[O+1],d=s[O+2],p=s[O+3],x=b0(bu(u-a,2)+bu(h-l,2)),R=b0(bu(d-u,2)+bu(p-h,2)),C=x+R,x=A*x/C,R=A*R/C,d-=a,p-=l,v=u-x*d,b=h-x*p,O===2?i||n.push(x0,v,b,u,h):n.push(rd,_,m,v,b,u,h),_=u+R*d,m=h+R*p;i||n.push(x0,_,m,s[L-2],s[L-1])}else for(let a=2,l=s.length;a<l;a+=2)n.push(id,s[a],s[a+1]);i&&n.push(GM)},rect(n,t,e,i,s){Zi.creator.path=n,Zi.creator.moveTo(t,e).lineTo(t+i,e).lineTo(t+i,e+s).lineTo(t,e+s).lineTo(t,e)},roundRect(n,t,e,i,s,a){Zi.creator.path=[],Nb.drawRoundRect(Zi.creator,t,e,i,s,a),n.push(...Zi.convertToCanvasData(Zi.creator.path,!0))},arcTo(n,t,e,i,s,a,l,u,h,d,p){const v=i-t,b=s-e,_=a-i,m=l-s;let x=m0(b,v),R=m0(m,_),C=R-x;if(C<0&&(C+=li),C===y0||ed(v+b)<1e-12||ed(_+m)<1e-12){n&&n.push(id,i,s),h&&(nd(h,t,e),wu(h,i,s)),p&&xu(p,t,e),d&&xu(d,i,s);return}const L=v*m-_*b<0,A=L?-1:1,O=u/ya(C/2),E=i+O*ya(x+C/2+To*A),M=s+O*po(x+C/2+To*A);return x-=To*A,R-=To*A,C0(n,E,M,u,u,0,x/re,R/re,L,h,d,p)},arc(n,t,e,i,s,a,l,u,h,d){return C0(n,t,e,i,i,0,s,a,l,u,h,d)},ellipse(n,t,e,i,s,a,l,u,h,d,p,v){const b=a*re,_=po(b),m=ya(b);let x=l*re,R=u*re;x>y0&&(x-=li),R<0&&(R+=li);let C=R-x;C<0?C+=li:C>li&&(C-=li),h&&(C-=li);const L=VM(ed(C/To)),A=C/L,O=po(A/4),E=8/3*O*O/po(A/2);R=x+A;let M=ya(x),I=po(x),U,tt,Z,J,Y,it,Pt,F,W=Z=m*i*M-_*s*I,z=J=_*i*M+m*s*I,et=t+Z,pt=e+J;n&&n.push(n.length?id:w0,et,pt),d&&nd(d,et,pt),v&&xu(v,et,pt);for(let Wt=0;Wt<L;Wt++)U=ya(R),tt=po(R),Z=m*i*U-_*s*tt,J=_*i*U+m*s*tt,Y=t+W-E*(m*i*I+_*s*M),it=e+z-E*(_*i*I-m*s*M),Pt=t+Z+E*(m*i*tt+_*s*U),F=e+J+E*(_*i*tt-m*s*U),n&&n.push(rd,Y,it,Pt,F,t+Z,e+J),d&&S0(t+W,e+z,Y,it,Pt,F,t+Z,e+J,d,!0),W=Z,z=J,M=U,I=tt,x=R,R+=A;p&&xu(p,t+Z,e+J)},quadraticCurveTo(n,t,e,i,s,a,l){n.push(rd,(t+2*i)/3,(e+2*s)/3,(a+2*i)/3,(l+2*s)/3,a,l)},toTwoPointBoundsByQuadraticCurve(n,t,e,i,s,a,l,u){S0(n,t,(n+2*e)/3,(t+2*i)/3,(s+2*e)/3,(a+2*i)/3,s,a,l,u)},toTwoPointBounds(n,t,e,i,s,a,l,u,h,d){const p=[];let v,b,_,m,x,R,C,L,A=n,O=e,E=s,M=l;for(let I=0;I<2;++I){if(I==1&&(A=t,O=i,E=a,M=u),v=-3*A+9*O-9*E+3*M,b=6*A-12*O+6*E,_=3*O-3*A,Math.abs(v)<1e-12){if(Math.abs(b)<1e-12)continue;m=-_/b,0<m&&m<1&&p.push(m);continue}C=b*b-4*_*v,L=Math.sqrt(C),!(C<0)&&(x=(-b+L)/(2*v),0<x&&x<1&&p.push(x),R=(-b-L)/(2*v),0<R&&R<1&&p.push(R))}d?wu(h,n,t):nd(h,n,t),wu(h,l,u);for(let I=0,U=p.length;I<U;I++)E0(p[I],n,t,e,i,s,a,l,u,sd),wu(h,sd.x,sd.y)},getPointAndSet(n,t,e,i,s,a,l,u,h,d){const p=1-n,v=p*p*p,b=3*p*p*n,_=3*p*n*n,m=n*n*n;d.x=v*t+b*i+_*a+m*u,d.y=v*e+b*s+_*l+m*h},getPoint(n,t,e,i,s,a,l,u,h){const d={};return E0(n,t,e,i,s,a,l,u,h,d),d}},{getPointAndSet:E0,toTwoPointBounds:S0,ellipse:C0}=Ds,{sin:KM,cos:jM,sqrt:T0,atan2:R0}=Math,{ellipse:YM}=Ds,XM={ellipticalArc(n,t,e,i,s,a,l,u,h,d,p){const v=(h-t)/2,b=(d-e)/2,_=a*re,m=KM(_),x=jM(_),R=-x*v-m*b,C=-x*b+m*v,L=i*i,A=s*s,O=C*C,E=R*R,M=L*A-L*O-A*E;let I=0;if(M<0){const W=T0(1-M/(L*A));i*=W,s*=W}else I=(l===u?-1:1)*T0(M/(L*O+A*E));const U=I*i*C/s,tt=-I*s*R/i,Z=R0((C-tt)/s,(R-U)/i),J=R0((-C-tt)/s,(-R-U)/i);let Y=J-Z;u===0&&Y>0?Y-=li:u===1&&Y<0&&(Y+=li);const it=t+v+x*U-m*tt,Pt=e+b+m*U+x*tt,F=Y<0?1:0;p||ut.ellipseToCurve?YM(n,it,Pt,i,s,a,Z/re,J/re,F):i===s&&!a?n.push(gi.O,it,Pt,i,Z/re,J/re,F):n.push(gi.G,it,Pt,i,s,a,Z/re,J/re,F)}},{M:od,m:ZM,L:ba,l:qM,H:JM,h:QM,V:t4,v:e4,C:go,c:n4,S:ad,s:i4,Q:_o,q:r4,T:ld,t:s4,A:o4,a:a4,Z:ud,z:l4,N:u4,D:c4,X:h4,G:d4,F:f4,O:p4,P:g4,U:_4}=gi,{rect:v4,roundRect:O0,arcTo:m4,arc:P0,ellipse:L0,quadraticCurveTo:k0}=Ds,{ellipticalArc:y4}=XM,b4=te.get("PathConvert"),_r={},Ns={current:{dot:0},stringify(n,t){let e=0,i=n.length,s,a="",l,u;for(;e<i;){l=n[e],s=Fb[l],l===u?a+=" ":a+=$b[l];for(let h=1;h<s;h++)a+=je.float(n[e+h],t),h===s-1||(a+=" ");u=l,e+=s}return a},parse(n,t){let e,i,s,a="";const l=[],u=t?HM:Db;for(let h=0,d=n.length;h<d;h++)i=n[h],MM[i]?(i==="."&&(oi.dot&&(Ss(l,a),a=""),oi.dot++),a==="0"&&i!=="."&&(Ss(l,a),a=""),a+=i):gi[i]?(a&&(Ss(l,a),a=""),oi.name=gi[i],oi.length=Mb[i],oi.index=0,Ss(l,oi.name),!e&&u[i]&&(e=!0)):i==="-"||i==="+"?s==="e"||s==="E"?a+=i:(a&&Ss(l,a),a=i):a&&(Ss(l,a),a=""),s=i;return a&&Ss(l,a),e?Ns.toCanvasData(l,t):l},toCanvasData(n,t){let e=0,i=0,s=0,a=0,l=0,u=n.length,h,d,p,v,b;const _=[];for(;l<u;){switch(p=n[l],p){case ZM:n[l+1]+=e,n[l+2]+=i;case od:e=n[l+1],i=n[l+2],_.push(od,e,i),l+=3;break;case QM:n[l+1]+=e;case JM:e=n[l+1],_.push(ba,e,i),l+=2;break;case e4:n[l+1]+=i;case t4:i=n[l+1],_.push(ba,e,i),l+=2;break;case qM:n[l+1]+=e,n[l+2]+=i;case ba:e=n[l+1],i=n[l+2],_.push(ba,e,i),l+=3;break;case i4:n[l+1]+=e,n[l+2]+=i,n[l+3]+=e,n[l+4]+=i,p=ad;case ad:b=v===go||v===ad,s=b?e*2-h:n[l+1],a=b?i*2-d:n[l+2],h=n[l+1],d=n[l+2],e=n[l+3],i=n[l+4],_.push(go,s,a,h,d,e,i),l+=5;break;case n4:n[l+1]+=e,n[l+2]+=i,n[l+3]+=e,n[l+4]+=i,n[l+5]+=e,n[l+6]+=i,p=go;case go:h=n[l+3],d=n[l+4],e=n[l+5],i=n[l+6],_.push(go,n[l+1],n[l+2],h,d,e,i),l+=7;break;case s4:n[l+1]+=e,n[l+2]+=i,p=ld;case ld:b=v===_o||v===ld,h=b?e*2-h:n[l+1],d=b?i*2-d:n[l+2],t?k0(_,e,i,h,d,n[l+1],n[l+2]):_.push(_o,h,d,n[l+1],n[l+2]),e=n[l+1],i=n[l+2],l+=3;break;case r4:n[l+1]+=e,n[l+2]+=i,n[l+3]+=e,n[l+4]+=i,p=_o;case _o:h=n[l+1],d=n[l+2],t?k0(_,e,i,h,d,n[l+3],n[l+4]):_.push(_o,h,d,n[l+3],n[l+4]),e=n[l+3],i=n[l+4],l+=5;break;case a4:n[l+6]+=e,n[l+7]+=i;case o4:y4(_,e,i,n[l+1],n[l+2],n[l+3],n[l+4],n[l+5],n[l+6],n[l+7],t),e=n[l+6],i=n[l+7],l+=8;break;case l4:case ud:_.push(ud),l++;break;case u4:e=n[l+1],i=n[l+2],t?v4(_,e,i,n[l+3],n[l+4]):Kr(_,n,l,5),l+=5;break;case c4:e=n[l+1],i=n[l+2],t?O0(_,e,i,n[l+3],n[l+4],[n[l+5],n[l+6],n[l+7],n[l+8]]):Kr(_,n,l,9),l+=9;break;case h4:e=n[l+1],i=n[l+2],t?O0(_,e,i,n[l+3],n[l+4],n[l+5]):Kr(_,n,l,6),l+=6;break;case d4:L0(t?_:Kr(_,n,l,9),n[l+1],n[l+2],n[l+3],n[l+4],n[l+5],n[l+6],n[l+7],n[l+8],null,_r),e=_r.x,i=_r.y,l+=9;break;case f4:t?L0(_,n[l+1],n[l+2],n[l+3],n[l+4],0,0,360,!1):Kr(_,n,l,5),e=n[l+1]+n[l+3],i=n[l+2],l+=5;break;case p4:P0(t?_:Kr(_,n,l,7),n[l+1],n[l+2],n[l+3],n[l+4],n[l+5],n[l+6],null,_r),e=_r.x,i=_r.y,l+=7;break;case g4:t?P0(_,n[l+1],n[l+2],n[l+3],0,360,!1):Kr(_,n,l,4),e=n[l+1]+n[l+3],i=n[l+2],l+=4;break;case _4:m4(t?_:Kr(_,n,l,6),e,i,n[l+1],n[l+2],n[l+3],n[l+4],n[l+5],null,_r),e=_r.x,i=_r.y,l+=6;break;default:return b4.error(`command: ${p} [index:${l}]`,n),_}v=p}return _},objectToCanvasData(n){const t=[];return n.forEach(e=>{switch(e.name){case"M":t.push(od,e.x,e.y);break;case"L":t.push(ba,e.x,e.y);break;case"C":t.push(go,e.x1,e.y1,e.x2,e.y2,e.x,e.y);break;case"Q":t.push(_o,e.x1,e.y1,e.x,e.y);break;case"Z":t.push(ud)}}),t},copyData(n,t,e,i){for(let s=e,a=e+i;s<a;s++)n.push(t[s])},pushData(n,t){oi.index===oi.length&&(oi.index=1,n.push(oi.name)),n.push(Number(t)),oi.index++,oi.dot=0}},{current:oi,pushData:Ss,copyData:Kr}=Ns,{M:cd,L:w4,C:x4,Q:E4,Z:S4,N:I0,D:C4,X:T4,G:R4,F:O4,O:P4,P:L4,U:B0}=gi,{getMinDistanceFrom:k4,getRadianFrom:I4}=Et,{tan:B4,min:A4,abs:M4}=Math,vo={},Ks={beginPath(n){n.length=0},moveTo(n,t,e){n.push(cd,t,e)},lineTo(n,t,e){n.push(w4,t,e)},bezierCurveTo(n,t,e,i,s,a,l){n.push(x4,t,e,i,s,a,l)},quadraticCurveTo(n,t,e,i,s){n.push(E4,t,e,i,s)},closePath(n){n.push(S4)},rect(n,t,e,i,s){n.push(I0,t,e,i,s)},roundRect(n,t,e,i,s,a){if(typeof a=="number")n.push(T4,t,e,i,s,a);else{const l=je.fourNumber(a);l?n.push(C4,t,e,i,s,...l):n.push(I0,t,e,i,s)}},ellipse(n,t,e,i,s,a,l,u,h){a===void 0?n.push(O4,t,e,i,s):(l===void 0&&(l=0),u===void 0&&(u=360),n.push(R4,t,e,i,s,a,l,u,h?1:0))},arc(n,t,e,i,s,a,l){s===void 0?n.push(L4,t,e,i):(a===void 0&&(a=360),n.push(P4,t,e,i,s,a,l?1:0))},arcTo(n,t,e,i,s,a,l,u){if(l!==void 0){const h=B4(I4(l,u,t,e,i,s)/2)*(k4(l,u,t,e,i,s)/2);n.push(B0,t,e,i,s,A4(a,M4(h)))}else n.push(B0,t,e,i,s,a)},drawEllipse(n,t,e,i,s,a,l,u,h){Ds.ellipse(null,t,e,i,s,a===void 0?0:a,l===void 0?0:l,u===void 0?360:u,h,null,null,vo),n.push(cd,vo.x,vo.y),D4(n,t,e,i,s,a,l,u,h)},drawArc(n,t,e,i,s,a,l){Ds.arc(null,t,e,i,s===void 0?0:s,a===void 0?360:a,l,null,null,vo),n.push(cd,vo.x,vo.y),$4(n,t,e,i,s,a,l)},drawPoints(n,t,e,i){Ds.points(n,t,e,i)}},{ellipse:D4,arc:$4}=Ks,{moveTo:F4,lineTo:N4,quadraticCurveTo:W4,bezierCurveTo:z4,closePath:H4,beginPath:V4,rect:U4,roundRect:G4,ellipse:K4,arc:j4,arcTo:Y4,drawEllipse:X4,drawArc:Z4,drawPoints:q4}=Ks;class up{set path(t){this.__path=t}get path(){return this.__path}constructor(t){this.set(t)}set(t){return t?this.__path=typeof t=="string"?Zi.parse(t):t:this.__path=[],this}beginPath(){return V4(this.__path),this.paint(),this}moveTo(t,e){return F4(this.__path,t,e),this.paint(),this}lineTo(t,e){return N4(this.__path,t,e),this.paint(),this}bezierCurveTo(t,e,i,s,a,l){return z4(this.__path,t,e,i,s,a,l),this.paint(),this}quadraticCurveTo(t,e,i,s){return W4(this.__path,t,e,i,s),this.paint(),this}closePath(){return H4(this.__path),this.paint(),this}rect(t,e,i,s){return U4(this.__path,t,e,i,s),this.paint(),this}roundRect(t,e,i,s,a){return G4(this.__path,t,e,i,s,a),this.paint(),this}ellipse(t,e,i,s,a,l,u,h){return K4(this.__path,t,e,i,s,a,l,u,h),this.paint(),this}arc(t,e,i,s,a,l){return j4(this.__path,t,e,i,s,a,l),this.paint(),this}arcTo(t,e,i,s,a){return Y4(this.__path,t,e,i,s,a),this.paint(),this}drawEllipse(t,e,i,s,a,l,u,h){return X4(this.__path,t,e,i,s,a,l,u,h),this.paint(),this}drawArc(t,e,i,s,a,l){return Z4(this.__path,t,e,i,s,a,l),this.paint(),this}drawPoints(t,e,i){return q4(this.__path,t,e,i),this.paint(),this}clearPath(){return this.beginPath()}paint(){}}const{M:J4,L:Q4,C:t3,Q:e3,Z:n3,N:i3,D:r3,X:s3,G:o3,F:a3,O:l3,P:u3,U:c3}=gi,h3=te.get("PathDrawer"),d3={drawPathByData(n,t){if(!t)return;let e,i=0,s=t.length;for(;i<s;)switch(e=t[i],e){case J4:n.moveTo(t[i+1],t[i+2]),i+=3;break;case Q4:n.lineTo(t[i+1],t[i+2]),i+=3;break;case t3:n.bezierCurveTo(t[i+1],t[i+2],t[i+3],t[i+4],t[i+5],t[i+6]),i+=7;break;case e3:n.quadraticCurveTo(t[i+1],t[i+2],t[i+3],t[i+4]),i+=5;break;case n3:n.closePath(),i+=1;break;case i3:n.rect(t[i+1],t[i+2],t[i+3],t[i+4]),i+=5;break;case r3:n.roundRect(t[i+1],t[i+2],t[i+3],t[i+4],[t[i+5],t[i+6],t[i+7],t[i+8]]),i+=9;break;case s3:n.roundRect(t[i+1],t[i+2],t[i+3],t[i+4],t[i+5]),i+=6;break;case o3:n.ellipse(t[i+1],t[i+2],t[i+3],t[i+4],t[i+5]*re,t[i+6]*re,t[i+7]*re,t[i+8]),i+=9;break;case a3:n.ellipse(t[i+1],t[i+2],t[i+3],t[i+4],0,0,li,!1),i+=5;break;case l3:n.arc(t[i+1],t[i+2],t[i+3],t[i+4]*re,t[i+5]*re,t[i+6]),i+=7;break;case u3:n.arc(t[i+1],t[i+2],t[i+3],0,li,!1),i+=4;break;case c3:n.arcTo(t[i+1],t[i+2],t[i+3],t[i+4],t[i+5]),i+=6;break;default:h3.error(`command: ${e} [index:${i}]`,t);return}}},{M:f3,L:p3,C:A0,Q:M0,Z:D0,N:g3,D:$0,X:_3,G:v3,F:m3,O:y3,P:b3,U:w3}=gi,{toTwoPointBounds:x3,toTwoPointBoundsByQuadraticCurve:E3,arcTo:S3,arc:C3,ellipse:T3}=Ds,{addPointBounds:wa,copy:hd,addPoint:R3,setPoint:dd,addBounds:Eu,toBounds:O3}=hl,P3=te.get("PathBounds");let mo,Su,fd;const Gn={},F0={},vr={},cp={toBounds(n,t){cp.toTwoPointBounds(n,F0),O3(F0,t)},toTwoPointBounds(n,t){if(!n||!n.length)return dd(t,0,0);let e=0,i=0,s=0,a,l,u,h,d;const p=n.length;for(;e<p;)switch(d=n[e],e===0&&(d===D0||d===A0||d===M0?dd(t,i,s):dd(t,n[e+1],n[e+2])),d){case f3:case p3:i=n[e+1],s=n[e+2],R3(t,i,s),e+=3;break;case A0:u=n[e+5],h=n[e+6],x3(i,s,n[e+1],n[e+2],n[e+3],n[e+4],u,h,Gn),wa(t,Gn),i=u,s=h,e+=7;break;case M0:a=n[e+1],l=n[e+2],u=n[e+3],h=n[e+4],E3(i,s,a,l,u,h,Gn),wa(t,Gn),i=u,s=h,e+=5;break;case D0:e+=1;break;case g3:i=n[e+1],s=n[e+2],Eu(t,i,s,n[e+3],n[e+4]),e+=5;break;case $0:case _3:i=n[e+1],s=n[e+2],Eu(t,i,s,n[e+3],n[e+4]),e+=d===$0?9:6;break;case v3:T3(null,n[e+1],n[e+2],n[e+3],n[e+4],n[e+5],n[e+6],n[e+7],n[e+8],Gn,vr),e===0?hd(t,Gn):wa(t,Gn),i=vr.x,s=vr.y,e+=9;break;case m3:i=n[e+1],s=n[e+2],Su=n[e+3],fd=n[e+4],Eu(t,i-Su,s-fd,Su*2,fd*2),i+=Su,e+=5;break;case y3:C3(null,n[e+1],n[e+2],n[e+3],n[e+4],n[e+5],n[e+6],Gn,vr),e===0?hd(t,Gn):wa(t,Gn),i=vr.x,s=vr.y,e+=7;break;case b3:i=n[e+1],s=n[e+2],mo=n[e+3],Eu(t,i-mo,s-mo,mo*2,mo*2),i+=mo,e+=4;break;case w3:S3(null,i,s,n[e+1],n[e+2],n[e+3],n[e+4],n[e+5],Gn,vr),e===0?hd(t,Gn):wa(t,Gn),i=vr.x,s=vr.y,e+=6;break;default:P3.error(`command: ${d} [index:${e}]`,n);return}}},{M:pd,L:Cu,C:N0,Z:Tu}=gi,{getCenterX:L3,getCenterY:k3}=Et,{arcTo:gd}=Ks,I3={smooth(n,t,e){let i,s=0,a=0,l=0,u=0,h=0,d=0,p=0,v=0,b=0;const _=n.length,m=[];for(;s<_;)switch(i=n[s],i){case pd:u=v=n[s+1],h=b=n[s+2],s+=3,n[s]===Cu?(d=n[s+1],p=n[s+2],m.push(pd,L3(u,d),k3(h,p))):m.push(pd,u,h);break;case Cu:switch(a=n[s+1],l=n[s+2],s+=3,n[s]){case Cu:gd(m,a,l,n[s+1],n[s+2],t,v,b);break;case Tu:gd(m,a,l,u,h,t,v,b);break;default:m.push(Cu,a,l)}v=a,b=l;break;case N0:m.push(N0,n[s+1],n[s+2],n[s+3],n[s+4],n[s+5],n[s+6]),s+=7;break;case Tu:gd(m,u,h,d,p,t,v,b),m.push(Tu),s+=1;break}return i!==Tu&&(m[1]=u,m[2]=h),m}};Zi.creator=new up;Zi.parse=Ns.parse;Zi.convertToCanvasData=Ns.toCanvasData;const xa=new up,{drawRoundRect:B3}=Nb;function A3(n){n&&!n.roundRect&&(n.roundRect=function(t,e,i,s,a){B3(this,t,e,i,s,a)})}function Wb(n){A3(n)}const Tr={opacityTypes:["png","webp","svg"],upperCaseTypeMap:{},mineType(n){return!n||n.startsWith("image")?n:(n==="jpg"&&(n="jpeg"),"image/"+n)},fileType(n){const t=n.split(".");return t[t.length-1]},isOpaqueImage(n){const t=of.fileType(n);return["jpg","jpeg"].some(e=>e===t)},getExportOptions(n){switch(typeof n){case"object":return n;case"number":return{quality:n};case"boolean":return{blob:n};default:return{}}}},of=Tr;of.opacityTypes.forEach(n=>of.upperCaseTypeMap[n]=n.toUpperCase());const M3=te.get("TaskProcessor");class D3{constructor(t){this.parallel=!0,this.time=1,this.id=Or.create(Or.TASK),this.task=t}run(){return Ib(this,void 0,void 0,function*(){try{this.task&&!this.isComplete&&this.parent.running&&(yield this.task())}catch(t){M3.error(t)}})}complete(){this.isComplete=!0,this.parent=null,this.task=null}cancel(){this.isCancel=!0,this.complete()}}class af{get total(){return this.list.length+this.delayNumber}get finishedIndex(){return this.isComplete?0:this.index+this.parallelSuccessNumber}get remain(){return this.isComplete?this.total:this.total-this.finishedIndex}get percent(){const{total:t}=this;let e=0,i=0;for(let s=0;s<t;s++)s<=this.finishedIndex?(i+=this.list[s].time,s===this.finishedIndex&&(e=i)):e+=this.list[s].time;return this.isComplete?1:i/e}constructor(t){this.config={parallel:6},this.list=[],this.running=!1,this.isComplete=!0,this.index=0,this.delayNumber=0,t&&Be.assign(this.config,t),this.empty()}add(t,e){let i,s,a,l;const u=new D3(t);return u.parent=this,typeof e=="number"?l=e:e&&(s=e.parallel,i=e.start,a=e.time,l=e.delay),a&&(u.time=a),s===!1&&(u.parallel=!1),l===void 0?this.push(u,i):(this.delayNumber++,setTimeout(()=>{this.delayNumber&&(this.delayNumber--,this.push(u,i))},l)),this.isComplete=!1,u}push(t,e){this.list.push(t),e!==!1&&!this.timer&&(this.timer=setTimeout(()=>this.start()))}empty(){this.index=0,this.parallelSuccessNumber=0,this.list=[],this.parallelList=[],this.delayNumber=0}start(){this.running||(this.running=!0,this.isComplete=!1,this.run())}pause(){clearTimeout(this.timer),this.timer=null,this.running=!1}resume(){this.start()}skip(){this.index++,this.resume()}stop(){this.isComplete=!0,this.list.forEach(t=>{t.isComplete||t.cancel()}),this.pause(),this.empty()}run(){this.running&&(this.setParallelList(),this.parallelList.length>1?this.runParallelTasks():this.remain?this.runTask():this.onComplete())}runTask(){const t=this.list[this.index];if(!t){this.nextTask();return}t.run().then(()=>{this.onTask(t),this.index++,this.nextTask()}).catch(e=>{this.onError(e)})}runParallelTasks(){this.parallelList.forEach(t=>this.runParallelTask(t))}runParallelTask(t){t.run().then(()=>{this.onTask(t),this.fillParallelTask()}).catch(e=>{this.onParallelError(e)})}nextTask(){this.total===this.finishedIndex?this.onComplete():this.timer=setTimeout(()=>this.run())}setParallelList(){let t;this.parallelList=[],this.parallelSuccessNumber=0;let e=this.index+this.config.parallel;e>this.list.length&&(e=this.list.length);for(let i=this.index;i<e&&(t=this.list[i],t.parallel);i++)this.parallelList.push(t)}fillParallelTask(){let t;const e=this.parallelList;this.parallelSuccessNumber++,e.pop();const i=e.length,s=this.finishedIndex+i;if(e.length){if(!this.running)return;s<this.total&&(t=this.list[s],t&&t.parallel&&(e.push(t),this.runParallelTask(t)))}else this.index+=this.parallelSuccessNumber,this.parallelSuccessNumber=0,this.nextTask()}onComplete(){this.stop(),this.config.onComplete&&this.config.onComplete()}onTask(t){t.complete(),this.config.onTask&&this.config.onTask()}onParallelError(t){this.parallelList.forEach(e=>{e.parallel=!1}),this.parallelList.length=0,this.parallelSuccessNumber=0,this.onError(t)}onError(t){this.pause(),this.config.onError&&this.config.onError(t)}destroy(){this.stop()}}const Bn={map:{},recycledList:[],tasker:new af,patternTasker:new af,get isComplete(){return mr.tasker.isComplete},get(n){let t=mr.map[n.url];return t||(t=Oe.image(n),mr.map[n.url]=t),t.use++,t},recycle(n){n.use--,setTimeout(()=>{n.use||mr.recycledList.push(n)})},clearRecycled(){const n=mr.recycledList;n.length>100&&(n.forEach(t=>{!t.use&&t.url&&(delete mr.map[t.url],t.destroy())}),n.length=0)},hasOpacityPixel(n){return Tr.opacityTypes.some(t=>mr.isFormat(t,n))},isFormat(n,t){if(t.format===n)return!0;const{url:e}=t;if(e.startsWith("data:")){if(e.startsWith("data:"+Tr.mineType(n)))return!0}else{if(e.includes("."+n)||e.includes("."+Tr.upperCaseTypeMap[n]))return!0;if(n==="png"&&!e.includes("."))return!0}return!1},destroy(){mr.map={},mr.recycledList=[]}},mr=Bn,{IMAGE:$3,create:F3}=Or;class zb{get url(){return this.config.url}get completed(){return this.ready||!!this.error}constructor(t){this.use=0,this.waitComplete=[],this.innerId=F3($3),this.config=t||{url:""},this.isSVG=Bn.isFormat("svg",t),this.hasOpacityPixel=Bn.hasOpacityPixel(t)}load(t,e){return this.loading||(this.loading=!0,Bn.tasker.add(()=>Ib(this,void 0,void 0,function*(){return yield ut.origin.loadImage(this.url).then(i=>{this.ready=!0,this.width=i.naturalWidth||i.width,this.height=i.naturalHeight||i.height,this.view=i,this.onComplete(!0)}).catch(i=>{this.error=i,this.onComplete(!1)})}))),this.waitComplete.push(t,e),this.waitComplete.length-2}unload(t,e){const i=this.waitComplete;if(e){const s=i[t+1];s&&s({type:"stop"})}i[t]=i[t+1]=void 0}onComplete(t){let e;this.waitComplete.forEach((i,s)=>{e=s%2,i&&(t?e||i(this):e&&i(this.error))}),this.waitComplete.length=0,this.loading=!1}getCanvas(t,e,i,s){if(t||(t=this.width),e||(e=this.height),this.cache){let{params:u,data:h}=this.cache;for(let d in u)if(u[d]!==arguments[d]){h=null;break}if(h)return h}const a=ut.origin.createCanvas(t,e),l=a.getContext("2d");return i&&(l.globalAlpha=i),l.drawImage(this.view,0,0,t,e),this.cache=this.use>1?{data:a,params:arguments}:null,a}getPattern(t,e,i,s){const a=ut.canvas.createPattern(t,e);try{i&&a.setTransform&&(a.setTransform(i),i=null)}catch{}return s&&(s.transform=i),a}destroy(){this.config={url:""},this.cache=null,this.waitComplete.length=0}}function Xn(n,t,e,i){e.configurable=e.enumerable=!0,Object.defineProperty(n,t,e)}function Hb(n,t){return Object.getOwnPropertyDescriptor(n,t)}function N3(n){return Object.getOwnPropertyNames(n)}function Ne(n,t){return(e,i)=>W3(e,i,n,t&&t(i))}function W3(n,t,e,i){Xn(n,t,Object.assign({get(){return this.__getAttr(t)},set(a){this.__setAttr(t,a)}},i||{})),Kb(n,t,e)}function Ni(n){return Ne(n)}function Zo(n,t){return Ne(n,e=>({set(i){this.__setAttr(e,i,t)&&(this.__layout.matrixChanged||this.__layout.matrixChange())}}))}function Vb(n){return Ne(n,t=>({set(e){this.__setAttr(t,e)&&(this.__layout.matrixChanged||this.__layout.matrixChange(),this.__hasAutoLayout=!!(this.origin||this.around||this.flow),this.__local||this.__layout.createLocal())}}))}function Ub(n,t){return Ne(n,e=>({set(i){this.__setAttr(e,i,t)&&(this.__layout.scaleChanged||this.__layout.scaleChange())}}))}function hp(n,t){return Ne(n,e=>({set(i){this.__setAttr(e,i,t)&&(this.__layout.rotationChanged||this.__layout.rotationChange())}}))}function ce(n,t){return Ne(n,e=>({set(i){this.__setAttr(e,i,t)&&dl(this)}}))}function z3(n){return Ne(n,t=>({set(e){this.__setAttr(t,e)&&(dl(this),this.__.__removeNaturalSize())}}))}function dl(n){n.__layout.boxChanged||n.__layout.boxChange(),n.__hasAutoLayout&&(n.__layout.matrixChanged||n.__layout.matrixChange())}function H3(n){return Ne(n,t=>({set(e){const i=this.__;i.__pathInputed!==2&&(i.__pathInputed=e?1:0),e||(i.__pathForRender=void 0),this.__setAttr(t,e),dl(this)}}))}const mn=ce;function gc(n){return Ne(n,t=>({set(e){this.__setAttr(t,e)&&V3(this)}}))}function V3(n){n.__layout.strokeChanged||n.__layout.strokeChange(),n.__.__useArrow&&dl(n)}const ir=gc;function Gb(n){return Ne(n,t=>({set(e){this.__setAttr(t,e),this.__layout.renderChanged||this.__layout.renderChange()}}))}function fl(n){return Ne(n,t=>({set(e){this.__setAttr(t,e)&&(this.__layout.surfaceChanged||this.__layout.surfaceChange())}}))}function U3(n){return Ne(n,t=>({set(e){this.__setAttr(t,e)&&(this.__layout.opacityChanged||this.__layout.opacityChange())}}))}function G3(n){return Ne(n,t=>({set(e){const i=this.visible;if(i===!0&&e===0){if(this.animationOut)return this.__runAnimation("out",()=>W0(this,t,e,i))}else i===0&&e===!0&&this.animation&&this.__runAnimation("in");W0(this,t,e,i)}}))}function W0(n,t,e,i){n.__setAttr(t,e)&&(n.__layout.opacityChanged||n.__layout.opacityChange(),(i===0||e===0)&&dl(n))}function K3(n){return Ne(n,t=>({set(e){this.__setAttr(t,e)&&(this.__layout.surfaceChanged||this.__layout.surfaceChange(),this.waitParent(()=>{this.parent.__layout.childrenSortChange()}))}}))}function j3(n){return Ne(n,t=>({set(e){this.__setAttr(t,e)&&(this.__layout.boxChanged||this.__layout.boxChange(),this.waitParent(()=>{this.parent.__updateMask(e)}))}}))}function Y3(n){return Ne(n,t=>({set(e){this.__setAttr(t,e)&&this.waitParent(()=>{this.parent.__updateEraser(e)})}}))}function js(n){return Ne(n,t=>({set(e){this.__setAttr(t,e)&&(this.__layout.hitCanvasChanged=!0,te.showHitView&&(this.__layout.surfaceChanged||this.__layout.surfaceChange()),this.leafer&&this.leafer.updateCursor())}}))}function X3(n){return Ne(n,t=>({set(e){this.__setAttr(t,e),this.leafer&&this.leafer.updateCursor()}}))}function un(n){return(t,e)=>{Xn(t,"__DataProcessor",{get(){return n}})}}function Z3(n){return"set"+n.charAt(0).toUpperCase()+n.slice(1)}function Kb(n,t,e){const i=n.__DataProcessor.prototype,s="_"+t,a=Z3(t),l={get(){const d=this[s];return d===void 0?e:d},set(d){this[s]=d}};if(e===void 0)l.get=function(){return this[s]};else if(typeof e=="object"){const{clone:d}=Be;l.get=function(){let p=this[s];return p===void 0&&(this[s]=p=d(e)),p}}t==="width"?l.get=function(){const d=this[s];if(d===void 0){const p=this;return p._height&&p.__naturalWidth&&p.__useNaturalRatio?p._height*p.__naturalWidth/p.__naturalHeight:p.__naturalWidth||e}else return d}:t==="height"&&(l.get=function(){const d=this[s];if(d===void 0){const p=this;return p._width&&p.__naturalHeight&&p.__useNaturalRatio?p._width*p.__naturalHeight/p.__naturalWidth:p.__naturalHeight||e}else return d});let u,h=i;for(;!u&&h;)u=Hb(h,t),h=h.__proto__;u&&u.set&&(l.set=u.set),i[a]&&(l.set=i[a],delete i[a]),Xn(i,t,l)}const q3=new te("rewrite"),zu=[],J3=["destroy","constructor"];function Wi(n){return(t,e)=>{zu.push({name:t.constructor.name+"."+e,run:()=>{t[e]=n}})}}function _c(){return n=>{jb()}}function jb(n){zu.length&&(zu.forEach(t=>{n&&q3.error(t.name,"Class@rewriteAble()"),t.run()}),zu.length=0)}setTimeout(()=>jb(!0));function Ri(n,t){return e=>{(n.prototype?N3(n.prototype):Object.keys(n)).forEach(s=>{!J3.includes(s)&&(!t||!t.includes(s))&&(n.prototype?Hb(n.prototype,s).writable&&(e.prototype[s]=n.prototype[s]):e.prototype[s]=n[s])})}}function cn(){return n=>{pc.register(n)}}function us(){return n=>{Vo.register(n)}}const{copy:yo,toInnerPoint:Q3,toOuterPoint:tD,scaleOfOuter:z0,rotateOfOuter:eD,skewOfOuter:nD,multiplyParent:H0,divideParent:V0,getLayout:iD}=Ct,Ce={},An={updateAllMatrix(n,t,e){if(t&&n.__hasAutoLayout&&n.__layout.matrixChanged&&(e=!0),sD(n,t,e),n.isBranch){const{children:i}=n;for(let s=0,a=i.length;s<a;s++)rD(i[s],t,e)}},updateMatrix(n,t,e){const i=n.__layout;t?e&&(i.waitAutoLayout=!0,n.__hasAutoLayout&&(i.matrixChanged=!1)):i.waitAutoLayout&&(i.waitAutoLayout=!1),i.matrixChanged&&n.__updateLocalMatrix(),i.waitAutoLayout||n.__updateWorldMatrix()},updateBounds(n){const t=n.__layout;t.boundsChanged&&n.__updateLocalBounds(),t.waitAutoLayout||n.__updateWorldBounds()},updateAllWorldOpacity(n){if(n.__updateWorldOpacity(),n.isBranch){const{children:t}=n;for(let e=0,i=t.length;e<i;e++)U0(t[e])}},updateAllChange(n){if(U0(n),n.__updateChange(),n.isBranch){const{children:t}=n;for(let e=0,i=t.length;e<i;e++)oD(t[e])}},worldHittable(n){for(;n;){if(!n.__.hittable)return!1;n=n.parent}return!0},moveWorld(n,t,e=0,i){const s=typeof t=="object"?Object.assign({},t):{x:t,y:e};i?tD(n.localTransform,s,s,!0):n.parent&&Q3(n.parent.worldTransform,s,s,!0),gn.moveLocal(n,s.x,s.y)},moveLocal(n,t,e=0){typeof t=="object"?(n.x+=t.x,n.y+=t.y):(n.x+=t,n.y+=e)},zoomOfWorld(n,t,e,i,s){gn.zoomOfLocal(n,_d(n,t),e,i,s)},zoomOfLocal(n,t,e,i=e,s){yo(Ce,n.__localMatrix),z0(Ce,t,e,i),n.origin||n.around?gn.setTransform(n,Ce,s):(G0(n,Ce),n.scaleResize(e,i,s!==!0))},rotateOfWorld(n,t,e){gn.rotateOfLocal(n,_d(n,t),e)},rotateOfLocal(n,t,e){yo(Ce,n.__localMatrix),eD(Ce,t,e),n.origin||n.around?gn.setTransform(n,Ce):(G0(n,Ce),n.rotation=je.formatRotation(n.rotation+e))},skewOfWorld(n,t,e,i,s){gn.skewOfLocal(n,_d(n,t),e,i,s)},skewOfLocal(n,t,e,i=0,s){yo(Ce,n.__localMatrix),nD(Ce,t,e,i),gn.setTransform(n,Ce,s)},transformWorld(n,t,e){yo(Ce,n.worldTransform),H0(Ce,t),n.parent&&V0(Ce,n.parent.worldTransform),gn.setTransform(n,Ce,e)},transform(n,t,e){yo(Ce,n.localTransform),H0(Ce,t),gn.setTransform(n,Ce,e)},setTransform(n,t,e){const i=iD(t,n.origin&&gn.getInnerOrigin(n,n.origin),n.around&&gn.getInnerOrigin(n,n.around));if(e){const s=i.scaleX/n.scaleX,a=i.scaleY/n.scaleY;delete i.scaleX,delete i.scaleY,n.set(i),n.scaleResize(s,a,e!==!0)}else n.set(i)},getFlipTransform(n,t){const e=Qu(),i=t==="x"?1:-1;return z0(e,gn.getLocalOrigin(n,"center"),-1*i,1*i),e},getLocalOrigin(n,t){return Et.tempToOuterOf(gn.getInnerOrigin(n,t),n.localTransform)},getInnerOrigin(n,t){const e={};return Pr.toPoint(t,n.boxBounds,e),e},getRelativeWorld(n,t,e){return yo(Ce,n.worldTransform),V0(Ce,t.worldTransform),e?Ce:Object.assign({},Ce)},drop(n,t,e,i){n.setTransform(gn.getRelativeWorld(n,t,!0),i),t.add(n,e)},hasParent(n,t){if(!t)return!1;for(;n;){if(t===n)return!0;n=n.parent}}},gn=An,{updateAllMatrix:rD,updateMatrix:sD,updateAllWorldOpacity:U0,updateAllChange:oD}=gn;function G0(n,t){const{e,f:i}=n.__localMatrix;n.x+=t.e-e,n.y+=t.f-i}function _d(n,t){return n.__layout.update(),n.parent?Et.tempToInnerOf(t,n.parent.__world):t}const vc={worldBounds(n){return n.__world},localBoxBounds(n){return n.__.eraser||n.__.visible===0?null:n.__local||n.__layout},localStrokeBounds(n){return n.__.eraser||n.__.visible===0?null:n.__layout.localStrokeBounds},localRenderBounds(n){return n.__.eraser||n.__.visible===0?null:n.__layout.localRenderBounds},maskLocalBoxBounds(n){return n.__.mask?n.__localBoxBounds:null},maskLocalStrokeBounds(n){return n.__.mask?n.__layout.localStrokeBounds:null},maskLocalRenderBounds(n){return n.__.mask?n.__layout.localRenderBounds:null},excludeRenderBounds(n,t){return!!(t.bounds&&!t.bounds.hit(n.__world,t.matrix)||t.hideBounds&&t.hideBounds.includes(n.__world,t.matrix))}},{updateBounds:K0}=An,pl={sort(n,t){return n.__.zIndex===t.__.zIndex?n.__tempNumber-t.__tempNumber:n.__.zIndex-t.__.zIndex},pushAllChildBranch(n,t){if(n.__tempNumber=1,n.__.__childBranchNumber){const{children:e}=n;for(let i=0,s=e.length;i<s;i++)n=e[i],n.isBranch&&(n.__tempNumber=1,t.add(n),aD(n,t))}},pushAllParent(n,t){const{keys:e}=t;if(e)for(;n.parent&&e[n.parent.innerId]===void 0;)t.add(n.parent),n=n.parent;else for(;n.parent;)t.add(n.parent),n=n.parent},pushAllBranchStack(n,t){let e=t.length;const{children:i}=n;for(let s=0,a=i.length;s<a;s++)i[s].isBranch&&t.push(i[s]);for(let s=e,a=t.length;s<a;s++)j0(t[s],t)},updateBounds(n,t){const e=[n];j0(n,e),lD(e,t)},updateBoundsByBranchStack(n,t){let e,i;for(let s=n.length-1;s>-1;s--){e=n[s],i=e.children;for(let a=0,l=i.length;a<l;a++)K0(i[a]);t&&t===e||K0(e)}}},{pushAllChildBranch:aD,pushAllBranchStack:j0,updateBoundsByBranchStack:lD}=pl,Ea={run(n){if(n&&n.length){const t=n.length;for(let e=0;e<t;e++)n[e]();n.length===t?n.length=0:n.splice(0,t)}}},{getRelativeWorld:Y0}=An,{toOuterOf:Ru,getPoints:uD,copy:cD}=_t,vd="_localContentBounds",md="_worldContentBounds",yd="_worldBoxBounds",bd="_worldStrokeBounds";class hD{get contentBounds(){return this._contentBounds||this.boxBounds}set contentBounds(t){this._contentBounds=t}get strokeBounds(){return this._strokeBounds||this.boxBounds}get renderBounds(){return this._renderBounds||this.boxBounds}get localContentBounds(){return Ru(this.contentBounds,this.leaf.__localMatrix,this[vd]||(this[vd]={})),this[vd]}get localStrokeBounds(){return this._localStrokeBounds||this}get localRenderBounds(){return this._localRenderBounds||this}get worldContentBounds(){return Ru(this.contentBounds,this.leaf.__world,this[md]||(this[md]={})),this[md]}get worldBoxBounds(){return Ru(this.boxBounds,this.leaf.__world,this[yd]||(this[yd]={})),this[yd]}get worldStrokeBounds(){return Ru(this.strokeBounds,this.leaf.__world,this[bd]||(this[bd]={})),this[bd]}get a(){return 1}get b(){return 0}get c(){return 0}get d(){return 1}get e(){return this.leaf.__.x}get f(){return this.leaf.__.y}get x(){return this.e+this.boxBounds.x}get y(){return this.f+this.boxBounds.y}get width(){return this.boxBounds.width}get height(){return this.boxBounds.height}constructor(t){this.leaf=t,this.boxBounds={x:0,y:0,width:0,height:0},this.leaf.__local&&(this._localRenderBounds=this._localStrokeBounds=this.leaf.__local),this.boxChange(),this.matrixChange()}createLocal(){const t=this.leaf.__local={a:1,b:0,c:0,d:1,e:0,f:0,x:0,y:0,width:0,height:0};this._localStrokeBounds||(this._localStrokeBounds=t),this._localRenderBounds||(this._localRenderBounds=t)}update(){const{leafer:t}=this.leaf;if(t)t.ready?t.watcher.changed&&t.layouter.layout():t.start();else{let e=this.leaf;for(;e.parent&&!e.parent.leafer;)e=e.parent;ut.layout(e)}}getTransform(t="world"){this.update();const{leaf:e}=this;switch(t){case"world":return e.__world;case"local":return e.__localMatrix;case"inner":return Ct.defaultMatrix;case"page":t=e.zoomLayer;default:return Y0(e,t)}}getBounds(t,e="world"){switch(this.update(),e){case"world":return this.getWorldBounds(t);case"local":return this.getLocalBounds(t);case"inner":return this.getInnerBounds(t);case"page":e=this.leaf.zoomLayer;default:return new pe(this.getInnerBounds(t)).toOuterOf(this.getTransform(e))}}getInnerBounds(t="box"){switch(t){case"render":return this.renderBounds;case"content":if(this.contentBounds)return this.contentBounds;case"box":return this.boxBounds;case"stroke":return this.strokeBounds}}getLocalBounds(t="box"){switch(t){case"render":return this.localRenderBounds;case"stroke":return this.localStrokeBounds;case"content":if(this.contentBounds)return this.localContentBounds;case"box":return this.leaf.__localBoxBounds}}getWorldBounds(t="box"){switch(t){case"render":return this.leaf.__world;case"stroke":return this.worldStrokeBounds;case"content":if(this.contentBounds)return this.worldContentBounds;case"box":return this.worldBoxBounds}}getLayoutBounds(t,e="world",i){const{leaf:s}=this;let a,l,u,h=this.getInnerBounds(t);switch(e){case"world":a=s.getWorldPoint(h),l=s.__world;break;case"local":const{scaleX:d,scaleY:p,rotation:v,skewX:b,skewY:_}=s.__;u={scaleX:d,scaleY:p,rotation:v,skewX:b,skewY:_},a=s.getLocalPointByInner(h);break;case"inner":a=h,l=Ct.defaultMatrix;break;case"page":e=s.zoomLayer;default:a=s.getWorldPoint(h,e),l=Y0(s,e,!0)}if(u||(u=Ct.getLayout(l)),cD(u,h),Et.copy(u,a),i){const{scaleX:d,scaleY:p}=u,v=Math.abs(d),b=Math.abs(p);(v!==1||b!==1)&&(u.scaleX/=v,u.scaleY/=b,u.width*=v,u.height*=b)}return u}getLayoutPoints(t,e="world"){const{leaf:i}=this,s=uD(this.getInnerBounds(t));let a;switch(e){case"world":a=null;break;case"local":a=i.parent;break;case"inner":break;case"page":e=i.zoomLayer;default:a=e}return a!==void 0&&s.forEach(l=>i.innerToWorld(l,null,!1,a)),s}shrinkContent(){const{x:t,y:e,width:i,height:s}=this.boxBounds;this._contentBounds={x:t,y:e,width:i,height:s}}spreadStroke(){const{x:t,y:e,width:i,height:s}=this.strokeBounds;this._strokeBounds={x:t,y:e,width:i,height:s},this._localStrokeBounds={x:t,y:e,width:i,height:s},this.renderSpread||this.spreadRenderCancel()}spreadRender(){const{x:t,y:e,width:i,height:s}=this.renderBounds;this._renderBounds={x:t,y:e,width:i,height:s},this._localRenderBounds={x:t,y:e,width:i,height:s}}shrinkContentCancel(){this._contentBounds=void 0}spreadStrokeCancel(){const t=this.renderBounds===this.strokeBounds;this._strokeBounds=this.boxBounds,this._localStrokeBounds=this.leaf.__localBoxBounds,t&&this.spreadRenderCancel()}spreadRenderCancel(){this._renderBounds=this._strokeBounds,this._localRenderBounds=this._localStrokeBounds}boxChange(){this.boxChanged=!0,this.localBoxChanged||this.localBoxChange(),this.hitCanvasChanged=!0}localBoxChange(){this.localBoxChanged=!0,this.boundsChanged=!0}strokeChange(){this.strokeChanged=!0,this.strokeSpread||(this.strokeSpread=1),this.boundsChanged=!0,this.hitCanvasChanged=!0}renderChange(){this.renderChanged=!0,this.renderSpread||(this.renderSpread=1),this.boundsChanged=!0}scaleChange(){this.scaleChanged=!0,this._scaleOrRotationChange()}rotationChange(){this.rotationChanged=!0,this.affectRotation=!0,this._scaleOrRotationChange()}_scaleOrRotationChange(){this.affectScaleOrRotation=!0,this.matrixChange(),this.leaf.__local||this.createLocal()}matrixChange(){this.matrixChanged=!0,this.localBoxChanged||this.localBoxChange()}surfaceChange(){this.surfaceChanged=!0}opacityChange(){this.opacityChanged=!0,this.surfaceChanged||this.surfaceChange()}childrenSortChange(){this.childrenSortChanged||(this.childrenSortChanged=!0,this.leaf.forceUpdate("surface"))}destroy(){}}let rr=class{constructor(t,e){this.bubbles=!1,this.type=t,e&&(this.target=e)}stopDefault(){this.isStopDefault=!0,this.origin&&ut.event.stopDefault(this.origin)}stopNow(){this.isStopNow=!0,this.isStop=!0,this.origin&&ut.event.stopNow(this.origin)}stop(){this.isStop=!0,this.origin&&ut.event.stop(this.origin)}};class Pe extends rr{constructor(t,e,i){super(t,e),this.parent=i,this.child=e}}Pe.ADD="child.add";Pe.REMOVE="child.remove";Pe.CREATED="created";Pe.MOUNTED="mounted";Pe.UNMOUNTED="unmounted";Pe.DESTROY="destroy";class qi extends rr{constructor(t,e,i,s,a){super(t,e),this.attrName=i,this.oldValue=s,this.newValue=a}}qi.CHANGE="property.change";qi.LEAFER_CHANGE="property.leafer_change";class nr extends rr{constructor(t,e){super(t),Object.assign(this,e)}}nr.LOAD="image.load";nr.LOADED="image.loaded";nr.ERROR="image.error";class Lr extends rr{get bigger(){if(!this.old)return!0;const{width:t,height:e}=this.old;return this.width>=t&&this.height>=e}get smaller(){return!this.bigger}get samePixelRatio(){return this.old?this.pixelRatio===this.old.pixelRatio:!0}constructor(t,e){typeof t=="object"?(super(Lr.RESIZE),Object.assign(this,t)):super(t),this.old=e}}Lr.RESIZE="resize";class is extends rr{constructor(t,e){super(t),this.data=e}}is.REQUEST="watch.request";is.DATA="watch.data";class Jt extends rr{constructor(t,e,i){super(t),e&&(this.data=e,this.times=i)}}Jt.CHECK_UPDATE="layout.check_update";Jt.REQUEST="layout.request";Jt.START="layout.start";Jt.BEFORE="layout.before";Jt.LAYOUT="layout";Jt.AFTER="layout.after";Jt.AGAIN="layout.again";Jt.END="layout.end";class Qt extends rr{constructor(t,e,i,s){super(t),e&&(this.times=e),i&&(this.renderBounds=i,this.renderOptions=s)}}Qt.REQUEST="render.request";Qt.CHILD_START="render.child_start";Qt.START="render.start";Qt.BEFORE="render.before";Qt.RENDER="render";Qt.AFTER="render.after";Qt.AGAIN="render.again";Qt.END="render.end";Qt.NEXT="render.next";class Re extends rr{}Re.START="leafer.start";Re.BEFORE_READY="leafer.before_ready";Re.READY="leafer.ready";Re.AFTER_READY="leafer.after_ready";Re.VIEW_READY="leafer.view_ready";Re.VIEW_COMPLETED="leafer.view_completed";Re.STOP="leafer.stop";Re.RESTART="leafer.restart";Re.END="leafer.end";const X0={};class dD{set event(t){this.on(t)}on(t,e,i){if(!e){let p,v=t;for(let b in v)p=v[b],p instanceof Array?this.on(b,p[0],p[1]):this.on(b,p);return}let s,a;i&&(i==="once"?a=!0:typeof i=="boolean"?s=i:(s=i.capture,a=i.once));let l;const u=wd(this,s,!0),h=typeof t=="string"?t.split(" "):t,d=a?{listener:e,once:a}:{listener:e};h.forEach(p=>{p&&(l=u[p],l?l.findIndex(v=>v.listener===e)===-1&&l.push(d):u[p]=[d])})}off(t,e,i){if(t){const s=typeof t=="string"?t.split(" "):t;if(e){let a;i&&(a=typeof i=="boolean"?i:i==="once"?!1:i.capture);let l,u;const h=wd(this,a);s.forEach(d=>{d&&(l=h[d],l&&(u=l.findIndex(p=>p.listener===e),u>-1&&l.splice(u,1),l.length||delete h[d]))})}else{const{__bubbleMap:a,__captureMap:l}=this;s.forEach(u=>{a&&delete a[u],l&&delete l[u]})}}else this.__bubbleMap=this.__captureMap=void 0}on_(t,e,i,s){return i&&(e=e.bind(i)),this.on(t,e,s),{type:t,current:this,listener:e,options:s}}off_(t){if(!t)return;const e=t instanceof Array?t:[t];e.forEach(i=>i.current.off(i.type,i.listener,i.options)),e.length=0}once(t,e,i){this.on(t,e,{once:!0,capture:i})}emit(t,e,i){!e&&Vo.has(t)&&(e=Vo.get(t,{type:t,target:this,current:this}));const a=wd(this,i)[t];if(a){let l;for(let u=0,h=a.length;u<h&&(l=a[u],l.listener(e),l.once&&(this.off(t,l.listener,i),u--,h--),!(e&&e.isStopNow));u++);}this.syncEventer&&this.syncEventer.emitEvent(e,i)}emitEvent(t,e){t.current=this,this.emit(t.type,t,e)}hasEvent(t,e){if(this.syncEventer&&this.syncEventer.hasEvent(t,e))return!0;const{__bubbleMap:i,__captureMap:s}=this,a=i&&i[t],l=s&&s[t];return!!(e===void 0?a||l:e?l:a)}destroy(){this.__captureMap=this.__bubbleMap=this.syncEventer=null}}function wd(n,t,e){if(t){const{__captureMap:i}=n;return i||(e?n.__captureMap={}:X0)}else{const{__bubbleMap:i}=n;return i||(e?n.__bubbleMap={}:X0)}}const{on:fD,on_:pD,off:gD,off_:_D,once:vD,emit:mD,emitEvent:yD,hasEvent:bD,destroy:wD}=dD.prototype,xD={on:fD,on_:pD,off:gD,off_:_D,once:vD,emit:mD,emitEvent:yD,hasEvent:bD,destroyEventer:wD},{isFinite:ED}=Number,SD=te.get("setAttr"),CD={__setAttr(n,t,e){if(this.leaferIsCreated){const i=this.__.__getInput(n);if(e&&!ED(t)&&t!==void 0&&(SD.warn(this.innerName,n,t),t=void 0),typeof t=="object"||i!==t){this.__realSetAttr(n,t);const{CHANGE:s}=qi,a=new qi(s,this,n,i,t);return this.isLeafer?this.emitEvent(new qi(qi.LEAFER_CHANGE,this,n,i,t)):this.hasEvent(s)&&this.emitEvent(a),this.leafer.emitEvent(a),!0}else return!1}else return this.__realSetAttr(n,t),!0},__realSetAttr(n,t){const e=this.__;e[n]=t,this.__proxyData&&this.setProxyAttr(n,t),e.normalStyle&&(this.lockNormalStyle||e.normalStyle[n]===void 0||(e.normalStyle[n]=t))},__getAttr(n){return this.__proxyData?this.getProxyAttr(n):this.__.__get(n)}},{setLayout:TD,multiplyParent:RD,translateInner:OD,defaultWorld:PD}=Ct,{toPoint:LD,tempPoint:xd}=Pr,kD={__updateWorldMatrix(){RD(this.__local||this.__layout,this.parent?this.parent.__world:PD,this.__world,!!this.__layout.affectScaleOrRotation,this.__,this.parent&&this.parent.__)},__updateLocalMatrix(){if(this.__local){const n=this.__layout,t=this.__local,e=this.__;n.affectScaleOrRotation&&(n.scaleChanged||n.rotationChanged)&&(TD(t,e,null,null,n.affectRotation),n.scaleChanged=n.rotationChanged=!1),t.e=e.x+e.offsetX,t.f=e.y+e.offsetY,(e.around||e.origin)&&(LD(e.around||e.origin,n.boxBounds,xd),OD(t,-xd.x,-xd.y,!e.around))}this.__layout.matrixChanged=!1}},{updateMatrix:ID,updateAllMatrix:Z0}=An,{updateBounds:q0}=pl,{toOuterOf:Ou,copyAndSpread:J0,copy:BD}=_t,{toBounds:AD}=cp,MD={__updateWorldBounds(){Ou(this.__layout.renderBounds,this.__world,this.__world),this.__layout.resized&&(this.__onUpdateSize(),this.__layout.resized=!1)},__updateLocalBounds(){const n=this.__layout;n.boxChanged&&(this.__.__pathInputed||this.__updatePath(),this.__updateRenderPath(),this.__updateBoxBounds(),n.resized=!0),n.localBoxChanged&&(this.__local&&this.__updateLocalBoxBounds(),n.localBoxChanged=!1,n.strokeSpread&&(n.strokeChanged=!0),n.renderSpread&&(n.renderChanged=!0),this.parent&&this.parent.__layout.boxChange()),n.boxChanged=!1,n.strokeChanged&&(n.strokeSpread=this.__updateStrokeSpread(),n.strokeSpread?(n.strokeBounds===n.boxBounds&&n.spreadStroke(),this.__updateStrokeBounds(),this.__updateLocalStrokeBounds()):n.spreadStrokeCancel(),n.strokeChanged=!1,(n.renderSpread||n.strokeSpread!==n.strokeBoxSpread)&&(n.renderChanged=!0),this.parent&&this.parent.__layout.strokeChange(),n.resized=!0),n.renderChanged&&(n.renderSpread=this.__updateRenderSpread(),n.renderSpread?((n.renderBounds===n.boxBounds||n.renderBounds===n.strokeBounds)&&n.spreadRender(),this.__updateRenderBounds(),this.__updateLocalRenderBounds()):n.spreadRenderCancel(),n.renderChanged=!1,this.parent&&this.parent.__layout.renderChange()),n.boundsChanged=!1},__updateLocalBoxBounds(){this.__hasMotionPath&&this.__updateMotionPath(),this.__hasAutoLayout&&this.__updateAutoLayout(),Ou(this.__layout.boxBounds,this.__local,this.__local)},__updateLocalStrokeBounds(){Ou(this.__layout.strokeBounds,this.__localMatrix,this.__layout.localStrokeBounds)},__updateLocalRenderBounds(){Ou(this.__layout.renderBounds,this.__localMatrix,this.__layout.localRenderBounds)},__updateBoxBounds(){const n=this.__layout.boxBounds,t=this.__;t.__pathInputed?AD(t.path,n):(n.x=0,n.y=0,n.width=t.width,n.height=t.height)},__updateAutoLayout(){this.__layout.matrixChanged=!0,this.isBranch?(this.leaferIsReady&&this.leafer.layouter.addExtra(this),this.__.flow?(this.__layout.boxChanged&&this.__updateFlowLayout(),Z0(this),q0(this,this),this.__.__autoSide&&this.__updateBoxBounds(!0)):(Z0(this),q0(this,this))):ID(this)},__updateNaturalSize(){const{__:n,__layout:t}=this;n.__naturalWidth=t.boxBounds.width,n.__naturalHeight=t.boxBounds.height},__updateStrokeBounds(){const n=this.__layout;J0(n.strokeBounds,n.boxBounds,n.strokeBoxSpread)},__updateRenderBounds(){const n=this.__layout;n.renderSpread>0?J0(n.renderBounds,n.boxBounds,n.renderSpread):BD(n.renderBounds,n.strokeBounds)}},DD={__render(n,t){if(this.__worldOpacity)if(n.setWorld(this.__nowWorld=this.__getNowWorld(t)),n.opacity=this.__.opacity,this.__.__single){if(this.__.eraser==="path")return this.__renderEraser(n,t);const e=n.getSameCanvas(!0,!0);this.__draw(e,t),this.__worldFlipped?n.copyWorldByReset(e,this.__nowWorld,null,this.__.__blendMode,!0):n.copyWorldToInner(e,this.__nowWorld,this.__layout.renderBounds,this.__.__blendMode),e.recycle(this.__nowWorld)}else this.__draw(n,t)},__clip(n,t){this.__worldOpacity&&(n.setWorld(this.__nowWorld=this.__getNowWorld(t)),this.__drawRenderPath(n),this.windingRule?n.clip(this.windingRule):n.clip())},__updateWorldOpacity(){this.__worldOpacity=this.__.visible?this.parent?this.parent.__worldOpacity*this.__.opacity:this.__.opacity:0,this.__layout.opacityChanged&&(this.__layout.opacityChanged=!1)}},{excludeRenderBounds:Q0}=vc,$D={__updateChange(){const{__layout:n}=this;n.childrenSortChanged&&(this.__updateSortChildren(),n.childrenSortChanged=!1),this.__.__checkSingle()},__render(n,t){if(this.__worldOpacity)if(this.__.__single){if(this.__.eraser==="path")return this.__renderEraser(n,t);const e=n.getSameCanvas(!1,!0);this.__renderBranch(e,t);const i=this.__getNowWorld(t);n.opacity=this.__.opacity,n.copyWorldByReset(e,i,i,this.__.__blendMode,!0),e.recycle(i)}else this.__renderBranch(n,t)},__renderBranch(n,t){if(this.__hasMask)this.__renderMask(n,t);else{const{children:e}=this;for(let i=0,s=e.length;i<s;i++)Q0(e[i],t)||e[i].__render(n,t)}},__clip(n,t){if(this.__worldOpacity){const{children:e}=this;for(let i=0,s=e.length;i<s;i++)Q0(e[i],t)||e[i].__clip(n,t)}}},{LEAF:FD,create:ND}=Or,{toInnerPoint:WD,toOuterPoint:zD,multiplyParent:HD}=Ct,{toOuterOf:tm}=_t,{copy:em,move:nm}=Et,{moveLocal:VD,zoomOfLocal:UD,rotateOfLocal:GD,skewOfLocal:KD,moveWorld:im,zoomOfWorld:jD,rotateOfWorld:YD,skewOfWorld:XD,transform:rm,transformWorld:ZD,setTransform:qD,getFlipTransform:JD,getLocalOrigin:Ed,getRelativeWorld:QD,drop:t$}=An;let Ws=class{get tag(){return this.__tag}set tag(t){}get __tag(){return"Leaf"}get innerName(){return this.__.name||this.tag+this.innerId}get __DataProcessor(){return kb}get __LayoutProcessor(){return hD}get leaferIsCreated(){return this.leafer&&this.leafer.created}get leaferIsReady(){return this.leafer&&this.leafer.ready}get isLeafer(){return!1}get isBranch(){return!1}get isBranchLeaf(){return!1}get __localMatrix(){return this.__local||this.__layout}get __localBoxBounds(){return this.__local||this.__layout}get worldTransform(){return this.__layout.getTransform("world")}get localTransform(){return this.__layout.getTransform("local")}get boxBounds(){return this.getBounds("box","inner")}get renderBounds(){return this.getBounds("render","inner")}get worldBoxBounds(){return this.getBounds("box")}get worldStrokeBounds(){return this.getBounds("stroke")}get worldRenderBounds(){return this.getBounds("render")}get worldOpacity(){return this.__layout.update(),this.__worldOpacity}get __worldFlipped(){return this.__world.scaleX<0||this.__world.scaleY<0}get __onlyHitMask(){return this.__hasMask&&!this.__.hitChildren}get __ignoreHitWorld(){return(this.__hasMask||this.__hasEraser)&&this.__.hitChildren}get __inLazyBounds(){const{leafer:t}=this;return t&&t.created&&t.lazyBounds.hit(this.__world)}get pathInputed(){return this.__.__pathInputed}set event(t){this.on(t)}constructor(t){this.innerId=ND(FD),this.reset(t),this.__bubbleMap&&this.__emitLifeEvent(Pe.CREATED)}reset(t){this.leafer&&this.leafer.forceRender(this.__world),this.__world={a:1,b:0,c:0,d:1,e:0,f:0,x:0,y:0,width:0,height:0,scaleX:1,scaleY:1},t!==null&&(this.__local={a:1,b:0,c:0,d:1,e:0,f:0,x:0,y:0,width:0,height:0}),this.__worldOpacity=1,this.__=new this.__DataProcessor(this),this.__layout=new this.__LayoutProcessor(this),this.__level&&this.resetCustom(),t&&(t.__&&(t=t.toJSON()),t.children?this.set(t):Object.assign(this,t))}resetCustom(){this.__hasMask=this.__hasEraser=null,this.forceUpdate()}waitParent(t,e){e&&(t=t.bind(e)),this.parent?t():this.on(Pe.ADD,t,"once")}waitLeafer(t,e){e&&(t=t.bind(e)),this.leafer?t():this.on(Pe.MOUNTED,t,"once")}nextRender(t,e,i){this.leafer?this.leafer.nextRender(t,e,i):this.waitLeafer(()=>this.leafer.nextRender(t,e,i))}removeNextRender(t){this.nextRender(t,null,"off")}__bindLeafer(t){if(this.isLeafer&&t!==null&&(t=this),this.leafer&&!t&&this.leafer.leafs--,this.leafer=t,t?(t.leafs++,this.__level=this.parent?this.parent.__level+1:1,this.animation&&this.__runAnimation("in"),this.__bubbleMap&&this.__emitLifeEvent(Pe.MOUNTED)):this.__emitLifeEvent(Pe.UNMOUNTED),this.isBranch){const{children:e}=this;for(let i=0,s=e.length;i<s;i++)e[i].__bindLeafer(t)}}set(t,e){}get(t){}setAttr(t,e){this[t]=e}getAttr(t){return this[t]}getComputedAttr(t){return this.__[t]}toJSON(t){return t&&this.__layout.update(),this.__.__getInputData(null,t)}toString(t){return JSON.stringify(this.toJSON(t))}toSVG(){}__SVG(t){}toHTML(){}__setAttr(t,e){return!0}__getAttr(t){}setProxyAttr(t,e){}getProxyAttr(t){}find(t,e){}findTag(t){}findOne(t,e){}findId(t){}focus(t){}updateState(){}updateLayout(){this.__layout.update()}forceUpdate(t){t===void 0?t="width":t==="surface"&&(t="blendMode");const e=this.__.__getInput(t);this.__[t]=e===void 0?null:void 0,this[t]=e}forceRender(t){this.forceUpdate("surface")}__updateWorldMatrix(){}__updateLocalMatrix(){}__updateWorldBounds(){}__updateLocalBounds(){}__updateLocalBoxBounds(){}__updateLocalStrokeBounds(){}__updateLocalRenderBounds(){}__updateBoxBounds(){}__updateContentBounds(){}__updateStrokeBounds(){}__updateRenderBounds(){}__updateAutoLayout(){}__updateFlowLayout(){}__updateNaturalSize(){}__updateStrokeSpread(){return 0}__updateRenderSpread(){return 0}__onUpdateSize(){}__updateEraser(t){this.__hasEraser=t?!0:this.children.some(e=>e.__.eraser)}__renderEraser(t,e){t.save(),this.__clip(t,e);const{renderBounds:i}=this.__layout;t.clearRect(i.x,i.y,i.width,i.height),t.restore()}__updateMask(t){this.__hasMask=t?!0:this.children.some(e=>e.__.mask)}__renderMask(t,e){}__getNowWorld(t){if(t.matrix){this.__cameraWorld||(this.__cameraWorld={});const e=this.__cameraWorld;return HD(this.__world,t.matrix,e,void 0,this.__world),tm(this.__layout.renderBounds,e,e),e}else return this.__world}getTransform(t){return this.__layout.getTransform(t||"local")}getBounds(t,e){return this.__layout.getBounds(t,e)}getLayoutBounds(t,e,i){return this.__layout.getLayoutBounds(t,e,i)}getLayoutPoints(t,e){return this.__layout.getLayoutPoints(t,e)}getWorldBounds(t,e,i){const s=e?QD(this,e):this.worldTransform,a=i?t:{};return tm(t,s,a),a}worldToLocal(t,e,i,s){this.parent?this.parent.worldToInner(t,e,i,s):e&&em(e,t)}localToWorld(t,e,i,s){this.parent?this.parent.innerToWorld(t,e,i,s):e&&em(e,t)}worldToInner(t,e,i,s){s&&(s.innerToWorld(t,e,i),t=e||t),WD(this.worldTransform,t,e,i)}innerToWorld(t,e,i,s){zD(this.worldTransform,t,e,i),s&&s.worldToInner(e||t,null,i)}getBoxPoint(t,e,i,s){return this.getBoxPointByInner(this.getInnerPoint(t,e,i,s),null,null,!0)}getBoxPointByInner(t,e,i,s){const a=s?t:Object.assign({},t),{x:l,y:u}=this.boxBounds;return nm(a,-l,-u),a}getInnerPoint(t,e,i,s){const a=s?t:{};return this.worldToInner(t,a,i,e),a}getInnerPointByBox(t,e,i,s){const a=s?t:Object.assign({},t),{x:l,y:u}=this.boxBounds;return nm(a,l,u),a}getInnerPointByLocal(t,e,i,s){return this.getInnerPoint(t,this.parent,i,s)}getLocalPoint(t,e,i,s){const a=s?t:{};return this.worldToLocal(t,a,i,e),a}getLocalPointByInner(t,e,i,s){return this.getWorldPoint(t,this.parent,i,s)}getPagePoint(t,e,i,s){return(this.leafer?this.leafer.zoomLayer:this).getInnerPoint(t,e,i,s)}getWorldPoint(t,e,i,s){const a=s?t:{};return this.innerToWorld(t,a,i,e),a}getWorldPointByBox(t,e,i,s){return this.getWorldPoint(this.getInnerPointByBox(t,null,null,s),e,i,!0)}getWorldPointByLocal(t,e,i,s){const a=s?t:{};return this.localToWorld(t,a,i,e),a}getWorldPointByPage(t,e,i,s){return(this.leafer?this.leafer.zoomLayer:this).getWorldPoint(t,e,i,s)}setTransform(t,e){qD(this,t,e)}transform(t,e){rm(this,t,e)}move(t,e){VD(this,t,e)}moveInner(t,e){im(this,t,e,!0)}scaleOf(t,e,i,s){UD(this,Ed(this,t),e,i,s)}rotateOf(t,e){GD(this,Ed(this,t),e)}skewOf(t,e,i,s){KD(this,Ed(this,t),e,i,s)}transformWorld(t,e){ZD(this,t,e)}moveWorld(t,e){im(this,t,e)}scaleOfWorld(t,e,i,s){jD(this,t,e,i,s)}rotateOfWorld(t,e){YD(this,t,e)}skewOfWorld(t,e,i,s){XD(this,t,e,i,s)}flip(t){rm(this,JD(this,t))}scaleResize(t,e=t,i){this.scaleX*=t,this.scaleY*=e}__scaleResize(t,e){}resizeWidth(t){}resizeHeight(t){}__hitWorld(t){return!0}__hit(t){return!0}__hitFill(t){return!0}__hitStroke(t,e){return!0}__hitPixel(t){return!0}__drawHitPath(t){}__updateHitCanvas(){}__render(t,e){}__drawFast(t,e){}__draw(t,e){}__clip(t,e){}__renderShape(t,e,i,s){}__updateWorldOpacity(){}__updateChange(){}__drawPath(t){}__drawRenderPath(t){}__updatePath(){}__updateRenderPath(){}getMotionPathData(){return Ho("path")}getMotionPoint(t){return Ho("path")}getMotionTotal(){return 0}__updateMotionPath(){}__runAnimation(t,e){}__updateSortChildren(){}add(t,e){}remove(t,e){this.parent&&this.parent.remove(this,e)}dropTo(t,e,i){t$(this,t,e,i)}on(t,e,i){}off(t,e,i){}on_(t,e,i,s){}off_(t){}once(t,e,i){}emit(t,e,i){}emitEvent(t,e){}hasEvent(t,e){return!1}static changeAttr(t,e,i){i?this.addAttr(t,e,i):Kb(this.prototype,t,e)}static addAttr(t,e,i){i||(i=ce),i(e)(this.prototype,t)}__emitLifeEvent(t){this.hasEvent(t)&&this.emitEvent(new Pe(t,this,this.parent))}destroy(){this.destroyed||(this.parent&&this.remove(),this.children&&this.clear(),this.__emitLifeEvent(Pe.DESTROY),this.__.destroy(),this.__layout.destroy(),this.destroyEventer(),this.destroyed=!0)}};Ws=dt([Ri(CD),Ri(kD),Ri(MD),Ri(xD),Ri(DD)],Ws);const{setListWithFn:Sd}=_t,{sort:e$}=pl,{localBoxBounds:n$,localStrokeBounds:i$,localRenderBounds:r$,maskLocalBoxBounds:s$,maskLocalStrokeBounds:o$,maskLocalRenderBounds:a$}=vc;let lf=class extends Ws{__updateStrokeSpread(){const{children:t}=this;for(let e=0,i=t.length;e<i;e++)if(t[e].__layout.strokeSpread)return 1;return 0}__updateRenderSpread(){const{children:t}=this;for(let e=0,i=t.length;e<i;e++)if(t[e].__layout.renderSpread)return 1;return 0}__updateBoxBounds(){Sd(this.__layout.boxBounds,this.children,this.__hasMask?s$:n$)}__updateStrokeBounds(){Sd(this.__layout.strokeBounds,this.children,this.__hasMask?o$:i$)}__updateRenderBounds(){Sd(this.__layout.renderBounds,this.children,this.__hasMask?a$:r$)}__updateSortChildren(){let t;const{children:e}=this;if(e.length>1){for(let i=0,s=e.length;i<s;i++)e[i].__tempNumber=i,e[i].__.zIndex&&(t=!0);e.sort(e$),this.__layout.affectChildrenSort=t}}add(t,e){if(t===this)return;const i=e===void 0;if(!t.__){if(t instanceof Array)return t.forEach(s=>{this.add(s,e),i||e++});t=pc.get(t.tag,t)}t.parent&&t.parent.remove(t),t.parent=this,i?this.children.push(t):this.children.splice(e,0,t),t.isBranch&&(this.__.__childBranchNumber=(this.__.__childBranchNumber||0)+1),t.__layout.boxChanged||t.__layout.boxChange(),t.__layout.matrixChanged||t.__layout.matrixChange(),t.__bubbleMap&&t.__emitLifeEvent(Pe.ADD),this.leafer&&(t.__bindLeafer(this.leafer),this.leafer.created&&this.__emitChildEvent(Pe.ADD,t)),this.__layout.affectChildrenSort&&this.__layout.childrenSortChange()}addMany(...t){this.add(t)}remove(t,e){t?t.__?t.animationOut?t.__runAnimation("out",()=>this.__remove(t,e)):this.__remove(t,e):this.find(t).forEach(i=>this.remove(i,e)):t===void 0&&super.remove(null,e)}removeAll(t){const{children:e}=this;e.length&&(this.children=[],this.__preRemove(),this.__.__childBranchNumber=0,e.forEach(i=>{this.__realRemoveChild(i),t&&i.destroy()}))}clear(){this.removeAll(!0)}__remove(t,e){const i=this.children.indexOf(t);i>-1&&(this.children.splice(i,1),t.isBranch&&(this.__.__childBranchNumber=(this.__.__childBranchNumber||1)-1),this.__preRemove(),this.__realRemoveChild(t),e&&t.destroy())}__preRemove(){this.__hasMask&&this.__updateMask(),this.__hasEraser&&this.__updateEraser(),this.__layout.boxChange(),this.__layout.affectChildrenSort&&this.__layout.childrenSortChange()}__realRemoveChild(t){t.__emitLifeEvent(Pe.REMOVE),t.parent=null,this.leafer&&(t.__bindLeafer(null),this.leafer.created&&(this.__emitChildEvent(Pe.REMOVE,t),this.leafer.hitCanvasManager&&this.leafer.hitCanvasManager.clear()))}__emitChildEvent(t,e){const i=new Pe(t,e,this);this.hasEvent(t)&&!this.isLeafer&&this.emitEvent(i),this.leafer.emitEvent(i)}};lf=dt([Ri($D)],lf);class ae{get length(){return this.list.length}constructor(t){this.reset(),t&&(t instanceof Array?this.addList(t):this.add(t))}has(t){return t&&this.keys[t.innerId]!==void 0}indexAt(t){return this.list[t]}indexOf(t){const e=this.keys[t.innerId];return e===void 0?-1:e}add(t){const{list:e,keys:i}=this;i[t.innerId]===void 0&&(e.push(t),i[t.innerId]=e.length-1)}addAt(t,e=0){const{keys:i}=this;if(i[t.innerId]===void 0){const{list:s}=this;for(let a=e,l=s.length;a<l;a++)i[s[a].innerId]++;e===0?s.unshift(t):(e>s.length&&(e=s.length),s.splice(e,0,t)),i[t.innerId]=e}}addList(t){for(let e=0;e<t.length;e++)this.add(t[e])}remove(t){const{list:e}=this;let i;for(let s=0,a=e.length;s<a;s++)i!==void 0?this.keys[e[s].innerId]=s-1:e[s].innerId===t.innerId&&(i=s,delete this.keys[t.innerId]);i!==void 0&&e.splice(i,1)}sort(t){const{list:e}=this;t?e.sort((i,s)=>s.__level-i.__level):e.sort((i,s)=>i.__level-s.__level)}forEach(t){this.list.forEach(t)}clone(){const t=new ae;return t.list=[...this.list],t.keys=Object.assign({},this.keys),t}update(){this.keys={};const{list:t,keys:e}=this;for(let i=0,s=t.length;i<s;i++)e[t[i].innerId]=i}reset(){this.list=[],this.keys={}}destroy(){this.reset()}}class l${get length(){return this._length}constructor(t){this._length=0,this.reset(),t&&(t instanceof Array?this.addList(t):this.add(t))}has(t){return this.keys[t.innerId]!==void 0}without(t){return this.keys[t.innerId]===void 0}sort(t){const{levels:e}=this;t?e.sort((i,s)=>s-i):e.sort((i,s)=>i-s)}addList(t){t.forEach(e=>{this.add(e)})}add(t){const{keys:e,levelMap:i}=this;e[t.innerId]||(e[t.innerId]=1,i[t.__level]?i[t.__level].push(t):(i[t.__level]=[t],this.levels.push(t.__level)),this._length++)}forEach(t){let e;this.levels.forEach(i=>{e=this.levelMap[i];for(let s=0,a=e.length;s<a;s++)t(e[s])})}reset(){this.levelMap={},this.keys={},this.levels=[],this._length=0}destroy(){this.levelMap=null}}function D(n,t,e,i){var s=arguments.length,a=s<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,t,e,i);else for(var u=n.length-1;u>=0;u--)(l=n[u])&&(a=(s<3?l(a):s>3?l(t,e,a):l(t,e))||a);return s>3&&a&&Object.defineProperty(t,e,a),a}function gl(n){return Ne(n,t=>({set(e){this.__setAttr(t,e),e&&(this.__.__useEffect=!0),this.__layout.renderChanged||this.__layout.renderChange()}}))}function _l(n){return Ne(n,t=>({set(e){this.__setAttr(t,e),this.__layout.boxChanged||this.__layout.boxChange(),this.__updateSize()}}))}function u$(){return(n,t)=>{const e="_"+t;Xn(n,t,{set(i){this.isLeafer&&(this[e]=i)},get(){return this.isApp?this.tree.zoomLayer:this.isLeafer?this[e]||this:this.leafer&&this.leafer.zoomLayer}})}}const Yb={},zs={},sm={number(n,t){return typeof n=="object"?n.type==="percent"?n.value*t:n.value:n}},Xb={},Te={},Hs={},Hu={},uf={},Io={},om={setStyleName(n,t,e){return Ho("state")},set(n,t){return Ho("state")}},{parse:c$,objectToCanvasData:h$}=Ns,am={},lm=te.get("UIData");class Ir extends kb{get scale(){const{scaleX:t,scaleY:e}=this;return t!==e?{x:t,y:e}:t}get __strokeWidth(){const{strokeWidth:t,strokeWidthFixed:e}=this;if(e){const i=this.__leaf;let{scaleX:s}=i.__nowWorld||i.__world;return s<0&&(s=-s),s>1?t/s:t}else return t}get __hasStroke(){return this.stroke&&this.strokeWidth}get __clipAfterFill(){return this.cornerRadius||this.__pathInputed}get __autoWidth(){return!this._width}get __autoHeight(){return!this._height}get __autoSide(){return!this._width||!this._height}get __autoSize(){return!this._width&&!this._height}setVisible(t){this._visible=t;const{leafer:e}=this.__leaf;e&&(e.watcher.hasVisible=!0)}setWidth(t){t<0?(this._width=-t,this.__leaf.scaleX*=-1,lm.warn("width < 0, instead -scaleX ",this)):this._width=t}setHeight(t){t<0?(this._height=-t,this.__leaf.scaleY*=-1,lm.warn("height < 0, instead -scaleY",this)):this._height=t}setFill(t){this.__naturalWidth&&this.__removeNaturalSize(),typeof t=="string"||!t?(this.__isFills&&(this.__removeInput("fill"),Hs.recycleImage("fill",this),this.__isFills=!1,this.__pixelFill&&(this.__pixelFill=!1)),this._fill=t):typeof t=="object"&&(this.__setInput("fill",t),this.__leaf.__layout.boxChanged||this.__leaf.__layout.boxChange(),this.__isFills=!0,this._fill||(this._fill=am))}setStroke(t){typeof t=="string"||!t?(this.__isStrokes&&(this.__removeInput("stroke"),Hs.recycleImage("stroke",this),this.__isStrokes=!1,this.__pixelStroke&&(this.__pixelStroke=!1)),this._stroke=t):typeof t=="object"&&(this.__setInput("stroke",t),this.__leaf.__layout.boxChanged||this.__leaf.__layout.boxChange(),this.__isStrokes=!0,this._stroke||(this._stroke=am))}setPath(t){const e=typeof t=="string";e||t&&typeof t[0]=="object"?(this.__setInput("path",t),this._path=e?c$(t):h$(t)):(this.__input&&this.__removeInput("path"),this._path=t)}setShadow(t){this.__setInput("shadow",t),t instanceof Array?(t.some(e=>e.visible===!1)&&(t=t.filter(e=>e.visible!==!1)),this._shadow=t.length?t:null):this._shadow=t&&t.visible!==!1?[t]:null}setInnerShadow(t){this.__setInput("innerShadow",t),t instanceof Array?(t.some(e=>e.visible===!1)&&(t=t.filter(e=>e.visible!==!1)),this._innerShadow=t.length?t:null):this._innerShadow=t&&t.visible!==!1?[t]:null}__computePaint(){const{fill:t,stroke:e}=this.__input;t&&Te.compute("fill",this.__leaf),e&&Te.compute("stroke",this.__leaf),this.__needComputePaint=!1}}class mc extends Ir{}class Zb extends mc{get __boxStroke(){return!this.__pathInputed}get __drawAfterFill(){return this.overflow==="hide"&&this.__clipAfterFill&&this.__leaf.children.length}get __clipAfterFill(){return this.__leaf.isOverflow||super.__clipAfterFill}}class d$ extends mc{__getInputData(t,e){const i=super.__getInputData(t,e);return Xi.forEach(s=>delete i[s]),i}}class f$ extends Zb{}class p$ extends Ir{}class dp extends Ir{get __boxStroke(){return!this.__pathInputed}}class g$ extends Ir{get __boxStroke(){return!this.__pathInputed}}class _$ extends Ir{}class v$ extends Ir{}class m$ extends Ir{get __pathInputed(){return 2}}class y$ extends mc{}const b$={thin:100,"extra-light":200,light:300,normal:400,medium:500,"semi-bold":600,bold:700,"extra-bold":800,black:900};class w$ extends Ir{get __useNaturalRatio(){return!1}setFontWeight(t){typeof t=="string"?(this.__setInput("fontWeight",t),this._fontWeight=b$[t]||400):(this.__input&&this.__removeInput("fontWeight"),this._fontWeight=t)}}class x$ extends dp{setUrl(t){this.__setImageFill(t),this._url=t}__setImageFill(t){this.__leaf.image&&(this.__leaf.image=null),this.fill=t?{type:"image",mode:"stretch",url:t}:void 0}__getData(){const t=super.__getData();return delete t.fill,t}__getInputData(t,e){const i=super.__getInputData(t,e);return delete i.fill,i}}class E$ extends dp{get __isCanvas(){return!0}get __drawAfterFill(){return!0}__getInputData(t,e){const i=super.__getInputData(t,e);return i.url=this.__leaf.canvas.toDataURL("image/png"),i}}const S$={__updateStrokeSpread(){let n=0,t=0;const e=this.__,{strokeAlign:i,strokeWidth:s}=e;if((e.stroke||e.hitStroke==="all")&&s&&i!=="inside"&&(t=n=i==="center"?s/2:s,!e.__boxStroke)){const a=e.__isLinePath?0:10*n,l=e.strokeCap==="none"?0:s;n+=Math.max(a,l)}return e.__useArrow&&(n+=s*5),this.__layout.strokeBoxSpread=t,n},__updateRenderSpread(){let n=0;const{shadow:t,innerShadow:e,blur:i,backgroundBlur:s}=this.__;t&&t.forEach(l=>n=Math.max(n,Math.max(Math.abs(l.y),Math.abs(l.x))+(l.spread>0?l.spread:0)+l.blur*1.5)),i&&(n=Math.max(n,i));let a=n=Math.ceil(n);return e&&e.forEach(l=>a=Math.max(a,Math.max(Math.abs(l.y),Math.abs(l.x))+(l.spread<0?-l.spread:0)+l.blur*1.5)),s&&(a=Math.max(a,s)),this.__layout.renderShapeSpread=a,n+(this.__layout.strokeSpread||0)}},C$={__updateChange(){const n=this.__;if(n.__useEffect){const{shadow:e,innerShadow:i,blur:s,backgroundBlur:a}=this.__;n.__useEffect=!!(e||i||s||a)}n.__checkSingle(),n.__isFills||n.__isStrokes||n.cornerRadius||n.__useEffect?n.__complex=!0:n.__complex&&(n.__complex=!1)},__drawFast(n,t){um(this,n,t)},__draw(n,t){const e=this.__;if(e.__complex){e.__needComputePaint&&e.__computePaint();const{fill:i,stroke:s,__drawAfterFill:a}=e;if(this.__drawRenderPath(n),e.__useEffect){const l=Te.shape(this,n,t);this.__nowWorld=this.__getNowWorld(t);const{shadow:u,innerShadow:h}=e;u&&uf.shadow(this,n,l),i&&(e.__isFills?Te.fills(i,this,n):Te.fill(i,this,n)),a&&this.__drawAfterFill(n,t),h&&uf.innerShadow(this,n,l),s&&(e.__isStrokes?Te.strokes(s,this,n):Te.stroke(s,this,n)),l.worldCanvas&&l.worldCanvas.recycle(),l.canvas.recycle()}else i&&(e.__isFills?Te.fills(i,this,n):Te.fill(i,this,n)),a&&this.__drawAfterFill(n,t),s&&(e.__isStrokes?Te.strokes(s,this,n):Te.stroke(s,this,n))}else e.__pathInputed?um(this,n,t):this.__drawFast(n,t)},__renderShape(n,t,e,i){if(this.__worldOpacity){n.setWorld(this.__nowWorld=this.__getNowWorld(t));const{fill:s,stroke:a}=this.__;this.__drawRenderPath(n),s&&!e&&(this.__.__pixelFill?Te.fills(s,this,n):Te.fill("#000000",this,n)),this.__.__isCanvas&&this.__drawAfterFill(n,t),a&&!i&&(this.__.__pixelStroke?Te.strokes(a,this,n):Te.stroke("#000000",this,n))}},__drawAfterFill(n,t){this.__.__clipAfterFill?(n.save(),this.windingRule?n.clip(this.windingRule):n.clip(),this.__drawContent(n,t),n.restore()):this.__drawContent(n,t)}};function um(n,t,e){const{fill:i,stroke:s,__drawAfterFill:a}=n.__;n.__drawRenderPath(t),i&&Te.fill(i,n,t),a&&n.__drawAfterFill(t,e),s&&Te.stroke(s,n,t)}const T$={__drawFast(n,t){let{width:e,height:i,fill:s,stroke:a,__drawAfterFill:l}=this.__;if(s&&(n.fillStyle=s,n.fillRect(0,0,e,i)),l&&this.__drawAfterFill(n,t),a){const{strokeAlign:u,__strokeWidth:h}=this.__;if(!h)return;n.setStroke(a,h,this.__);const d=h/2;switch(u){case"center":n.strokeRect(0,0,e,i);break;case"inside":e-=h,i-=h,e<0||i<0?(n.save(),this.__clip(n,t),n.strokeRect(d,d,e,i),n.restore()):n.strokeRect(d,d,e,i);break;case"outside":n.strokeRect(-d,-d,e+h,i+h);break}}}};var cf;let Q=cf=class extends Ws{get app(){return this.leafer&&this.leafer.app}get isFrame(){return!1}set scale(t){je.assignScale(this,t)}get scale(){return this.__.scale}get pen(){const{path:t}=this.__;return xa.set(this.path=t||[]),t||this.__drawPathByBox(xa),xa}get editConfig(){}get editOuter(){return""}get editInner(){return""}constructor(t){super(t)}reset(t){}set(t,e){e?(this.lockNormalStyle=!0,Object.assign(this,t),this.lockNormalStyle=!1):Object.assign(this,t)}get(t){return typeof t=="string"?this.__.__getInput(t):this.__.__getInputData(t)}createProxyData(){}find(t,e){}findTag(t){return this.find({tag:t})}findOne(t,e){}findId(t){return this.findOne({id:t})}getPath(t,e){this.__layout.update();let i=e?this.__.__pathForRender:this.__.path;return i||(xa.set(i=[]),this.__drawPathByBox(xa)),t?Ns.toCanvasData(i,!0):i}getPathString(t,e,i){return Ns.stringify(this.getPath(t,e),i)}load(){this.__.__computePaint()}__onUpdateSize(){if(this.__.__input){const t=this.__;t.lazy&&!this.__inLazyBounds&&!Io.running?t.__needComputePaint=!0:t.__computePaint()}}__updateRenderPath(){if(this.__.path){const t=this.__;t.__pathForRender=t.cornerRadius?I3.smooth(t.path,t.cornerRadius,t.cornerSmoothing):t.path,t.__useArrow&&Xb.addArrows(this,!t.cornerRadius)}}__drawRenderPath(t){t.beginPath(),this.__drawPathByData(t,this.__.__pathForRender)}__drawPath(t){t.beginPath(),this.__drawPathByData(t,this.__.path)}__drawPathByData(t,e){e?d3.drawPathByData(t,e):this.__drawPathByBox(t)}__drawPathByBox(t){const{x:e,y:i,width:s,height:a}=this.__layout.boxBounds;if(this.__.cornerRadius){const{cornerRadius:l}=this.__;t.roundRect(e,i,s,a,typeof l=="number"?[l]:l)}else t.rect(e,i,s,a)}animate(t,e,i,s){return Ho("animate")}killAnimate(t){}export(t,e){return Io.export(this,t,e)}clone(t){const e=this.toJSON();return t&&Object.assign(e,t),cf.one(e)}static one(t,e,i,s,a){return pc.get(t.tag||this.prototype.__tag,t,e,i,s,a)}static registerUI(){cn()(this)}static registerData(t){un(t)(this.prototype)}static setEditConfig(t){}static setEditOuter(t){}static setEditInner(t){}destroy(){this.fill=this.stroke=null,this.__animate&&this.killAnimate(),super.destroy()}};D([un(Ir)],Q.prototype,"__",void 0);D([u$()],Q.prototype,"zoomLayer",void 0);D([Ni("")],Q.prototype,"id",void 0);D([Ni("")],Q.prototype,"name",void 0);D([Ni("")],Q.prototype,"className",void 0);D([fl("pass-through")],Q.prototype,"blendMode",void 0);D([U3(1)],Q.prototype,"opacity",void 0);D([G3(!0)],Q.prototype,"visible",void 0);D([fl(!1)],Q.prototype,"locked",void 0);D([K3(0)],Q.prototype,"zIndex",void 0);D([j3(!1)],Q.prototype,"mask",void 0);D([Y3(!1)],Q.prototype,"eraser",void 0);D([Zo(0,!0)],Q.prototype,"x",void 0);D([Zo(0,!0)],Q.prototype,"y",void 0);D([ce(100,!0)],Q.prototype,"width",void 0);D([ce(100,!0)],Q.prototype,"height",void 0);D([Ub(1,!0)],Q.prototype,"scaleX",void 0);D([Ub(1,!0)],Q.prototype,"scaleY",void 0);D([hp(0,!0)],Q.prototype,"rotation",void 0);D([hp(0,!0)],Q.prototype,"skewX",void 0);D([hp(0,!0)],Q.prototype,"skewY",void 0);D([Zo(0,!0)],Q.prototype,"offsetX",void 0);D([Zo(0,!0)],Q.prototype,"offsetY",void 0);D([Zo(0,!0)],Q.prototype,"scrollX",void 0);D([Zo(0,!0)],Q.prototype,"scrollY",void 0);D([Vb()],Q.prototype,"origin",void 0);D([Vb()],Q.prototype,"around",void 0);D([Ni(!1)],Q.prototype,"lazy",void 0);D([z3(1)],Q.prototype,"pixelRatio",void 0);D([H3()],Q.prototype,"path",void 0);D([mn()],Q.prototype,"windingRule",void 0);D([mn(!0)],Q.prototype,"closed",void 0);D([ce(0)],Q.prototype,"padding",void 0);D([Ni(!1)],Q.prototype,"draggable",void 0);D([Ni()],Q.prototype,"dragBounds",void 0);D([Ni(!1)],Q.prototype,"editable",void 0);D([js(!0)],Q.prototype,"hittable",void 0);D([js("path")],Q.prototype,"hitFill",void 0);D([ir("path")],Q.prototype,"hitStroke",void 0);D([js(!1)],Q.prototype,"hitBox",void 0);D([js(!0)],Q.prototype,"hitChildren",void 0);D([js(!0)],Q.prototype,"hitSelf",void 0);D([js()],Q.prototype,"hitRadius",void 0);D([X3("")],Q.prototype,"cursor",void 0);D([fl()],Q.prototype,"fill",void 0);D([ir()],Q.prototype,"stroke",void 0);D([ir("inside")],Q.prototype,"strokeAlign",void 0);D([ir(1)],Q.prototype,"strokeWidth",void 0);D([ir(!1)],Q.prototype,"strokeWidthFixed",void 0);D([ir("none")],Q.prototype,"strokeCap",void 0);D([ir("miter")],Q.prototype,"strokeJoin",void 0);D([ir()],Q.prototype,"dashPattern",void 0);D([ir()],Q.prototype,"dashOffset",void 0);D([ir(10)],Q.prototype,"miterLimit",void 0);D([mn(0)],Q.prototype,"cornerRadius",void 0);D([mn()],Q.prototype,"cornerSmoothing",void 0);D([gl()],Q.prototype,"shadow",void 0);D([gl()],Q.prototype,"innerShadow",void 0);D([gl()],Q.prototype,"blur",void 0);D([gl()],Q.prototype,"backgroundBlur",void 0);D([gl()],Q.prototype,"grayscale",void 0);D([Ni({})],Q.prototype,"data",void 0);D([Wi(Ws.prototype.reset)],Q.prototype,"reset",null);Q=cf=D([Ri(S$),Ri(C$),_c()],Q);let Ke=class extends Q{get __tag(){return"Group"}get isBranch(){return!0}constructor(t){super(t)}reset(t){this.__setBranch(),super.reset(t)}__setBranch(){this.children||(this.children=[])}set(t,e){if(t.children){const{children:i}=t;delete t.children,this.children?this.clear():this.__setBranch(),super.set(t,e),i.forEach(s=>this.add(s)),t.children=i}else super.set(t,e)}toJSON(t){const e=super.toJSON(t);return e.children=this.children.map(i=>i.toJSON(t)),e}pick(t,e){}addAt(t,e){this.add(t,e)}addAfter(t,e){this.add(t,this.children.indexOf(e)+1)}addBefore(t,e){this.add(t,this.children.indexOf(e))}add(t,e){}addMany(...t){}remove(t,e){}removeAll(t){}clear(){}};D([un(mc)],Ke.prototype,"__",void 0);Ke=D([Ri(lf),cn()],Ke);var Vu;const Cd=te.get("Leafer");let ss=Vu=class extends Ke{get __tag(){return"Leafer"}get isApp(){return!1}get app(){return this.parent||this}get isLeafer(){return!0}get imageReady(){return this.viewReady&&Bn.isComplete}get layoutLocked(){return!this.layouter.running}get FPS(){return this.renderer?this.renderer.FPS:60}get cursorPoint(){return this.interaction&&this.interaction.hoverData||{x:this.width/2,y:this.height/2}}get clientBounds(){return this.canvas&&this.canvas.getClientBounds()}constructor(t,e){super(e),this.config={type:"design",start:!0,hittable:!0,smooth:!0,lazySpeard:100,zoom:{min:.01,max:256},move:{holdSpaceKey:!0,holdMiddleKey:!0,autoDistance:2}},this.leafs=0,this.__eventIds=[],this.__controllers=[],this.__readyWait=[],this.__viewReadyWait=[],this.__viewCompletedWait=[],this.__nextRenderWait=[],this.userConfig=t,t&&(t.view||t.width)&&this.init(t),Vu.list.add(this)}init(t,e){if(this.canvas)return;this.__setLeafer(this),t&&Be.assign(this.config,t);let i;const{config:s}=this;this.initType(s.type);const a=this.canvas=Oe.canvas(s);this.__controllers.push(this.renderer=Oe.renderer(this,a,s),this.watcher=Oe.watcher(this,s),this.layouter=Oe.layouter(this,s)),this.isApp&&this.__setApp(),this.__checkAutoLayout(s,e),this.view=a.view,e?(this.__bindApp(e),i=e.running):(this.selector=Oe.selector(this),this.interaction=Oe.interaction(this,a,this.selector,s),this.interaction&&(this.__controllers.unshift(this.interaction),this.hitCanvasManager=Oe.hitCanvasManager()),this.canvasManager=new Lb,i=s.start),this.hittable=s.hittable,this.fill=s.fill,this.canvasManager.add(a),this.__listenEvents(),i&&(this.__startTimer=setTimeout(this.start.bind(this))),Ea.run(this.__initWait),this.onInit()}onInit(){}initType(t){}set(t){this.waitInit(()=>{super.set(t)})}start(){clearTimeout(this.__startTimer),!this.running&&this.canvas&&(this.running=!0,this.ready?this.emitLeafer(Re.RESTART):this.emitLeafer(Re.START),this.__controllers.forEach(t=>t.start()),this.isApp||this.renderer.render())}stop(){clearTimeout(this.__startTimer),this.running&&this.canvas&&(this.__controllers.forEach(t=>t.stop()),this.running=!1,this.emitLeafer(Re.STOP))}unlockLayout(){this.layouter.start(),this.updateLayout()}lockLayout(){this.updateLayout(),this.layouter.stop()}resize(t){const e=Be.copyAttrs({},t,Xi);Object.keys(e).forEach(i=>this[i]=e[i])}forceRender(t){this.renderer.addBlock(t?new pe(t):this.canvas.bounds),this.viewReady&&this.renderer.update()}updateCursor(t){const e=this.interaction;e&&(t?e.setCursor(t):e.updateCursor())}updateLazyBounds(){this.lazyBounds=this.canvas.bounds.clone().spread(this.config.lazySpeard)}__doResize(t){const{canvas:e}=this;if(!e||e.isSameSize(t))return;const i=Be.copyAttrs({},this.canvas,Xi);e.resize(t),this.updateLazyBounds(),this.__onResize(new Lr(t,i))}__onResize(t){this.emitEvent(t),Be.copyAttrs(this.__,t,Xi),(!t.width||!t.height)&&Cd.warn("w = 0 or h = 0"),setTimeout(()=>{this.canvasManager&&this.canvasManager.clearRecycled()},0)}__setApp(){}__bindApp(t){this.selector=t.selector,this.interaction=t.interaction,this.canvasManager=t.canvasManager,this.hitCanvasManager=t.hitCanvasManager}__setLeafer(t){this.leafer=t,this.__level=1}__checkAutoLayout(t,e){e||((!t.width||!t.height)&&(this.autoLayout=new IM(t)),this.canvas.startAutoLayout(this.autoLayout,this.__onResize.bind(this)))}__setAttr(t,e){return this.canvas&&(Xi.includes(t)?(e||Cd.warn(t+" is 0"),this.__changeCanvasSize(t,e)):t==="fill"?this.__changeFill(e):t==="hittable"?this.parent||(this.canvas.hittable=e):t==="zIndex"&&(this.canvas.zIndex=e,setTimeout(()=>this.parent&&this.parent.__updateSortChildren()))),super.__setAttr(t,e)}__getAttr(t){return this.canvas&&Xi.includes(t)?this.canvas[t]:super.__getAttr(t)}__changeCanvasSize(t,e){const i=Be.copyAttrs({},this.canvas,Xi);i[t]=this.config[t]=e,e&&this.canvas.stopAutoLayout(),this.__doResize(i)}__changeFill(t){this.config.fill=t,this.canvas.allowBackgroundColor?this.canvas.backgroundColor=t:this.forceRender()}__onCreated(){this.created=!0}__onReady(){this.ready||(this.ready=!0,this.emitLeafer(Re.BEFORE_READY),this.emitLeafer(Re.READY),this.emitLeafer(Re.AFTER_READY),Ea.run(this.__readyWait))}__onViewReady(){this.viewReady||(this.viewReady=!0,this.emitLeafer(Re.VIEW_READY),Ea.run(this.__viewReadyWait))}__onNextRender(){if(this.viewReady){Ea.run(this.__nextRenderWait);const{imageReady:t}=this;t&&!this.viewCompleted&&this.__checkViewCompleted(),t||(this.viewCompleted=!1)}}__checkViewCompleted(t=!0){this.nextRender(()=>{this.imageReady&&(t&&this.emitLeafer(Re.VIEW_COMPLETED),Ea.run(this.__viewCompletedWait),this.viewCompleted=!0)})}__onWatchData(){this.watcher.childrenChanged&&this.interaction&&this.nextRender(()=>this.interaction.updateCursor())}waitInit(t,e){e&&(t=t.bind(e)),this.__initWait||(this.__initWait=[]),this.canvas?t():this.__initWait.push(t)}waitReady(t,e){e&&(t=t.bind(e)),this.ready?t():this.__readyWait.push(t)}waitViewReady(t,e){e&&(t=t.bind(e)),this.viewReady?t():this.__viewReadyWait.push(t)}waitViewCompleted(t,e){e&&(t=t.bind(e)),this.__viewCompletedWait.push(t),this.viewCompleted?this.__checkViewCompleted(!1):this.running||this.start()}nextRender(t,e,i){e&&(t=t.bind(e));const s=this.__nextRenderWait;if(i){for(let a=0;a<s.length;a++)if(s[a]===t){s.splice(a,1);break}}else s.push(t)}zoom(t,e,i){return Ho("view")}getValidMove(t,e){return{x:t,y:e}}getValidScale(t){return t}getWorldPointByClient(t,e){return this.interaction&&this.interaction.getLocal(t,e)}getPagePointByClient(t,e){return this.getPagePoint(this.getWorldPointByClient(t,e))}updateClientBounds(){this.canvas&&this.canvas.updateClientBounds()}receiveEvent(t){}__checkUpdateLayout(){this.__layout.update()}emitLeafer(t){this.emitEvent(new Re(t,this))}__listenEvents(){const t=Oi.start("FirstCreate "+this.innerName);this.once(Re.START,()=>Oi.end(t)),this.once(Jt.START,()=>this.updateLazyBounds()),this.once(Jt.END,()=>this.__onReady()),this.once(Qt.START,()=>this.__onCreated()),this.once(Qt.END,()=>this.__onViewReady()),this.__eventIds.push(this.on_(is.DATA,this.__onWatchData,this),this.on_(Qt.NEXT,this.__onNextRender,this),this.on_(Jt.CHECK_UPDATE,this.__checkUpdateLayout,this))}__removeListenEvents(){this.off_(this.__eventIds),this.__eventIds.length=0}destroy(t){const e=()=>{if(!this.destroyed){Vu.list.remove(this);try{this.stop(),this.emitEvent(new Re(Re.END,this)),this.__removeListenEvents(),this.__controllers.forEach(i=>!(this.parent&&i===this.interaction)&&i.destroy()),this.__controllers.length=0,this.parent||(this.selector&&this.selector.destroy(),this.hitCanvasManager&&this.hitCanvasManager.destroy(),this.canvasManager.destroy()),this.canvas.destroy(),this.config.view=this.view=null,this.userConfig&&(this.userConfig.view=null),super.destroy(),setTimeout(()=>{Bn.clearRecycled()},100)}catch(i){Cd.error(i)}}};t?e():setTimeout(e)}};ss.list=new ae;D([un(d$)],ss.prototype,"__",void 0);D([ce()],ss.prototype,"pixelRatio",void 0);ss=Vu=D([cn()],ss);let Ai=class extends Q{get __tag(){return"Rect"}constructor(t){super(t)}};D([un(dp)],Ai.prototype,"__",void 0);Ai=D([Ri(T$),_c(),cn()],Ai);const{copy:R$,add:O$,includes:P$}=_t,Ys=Ai.prototype,L$=Ke.prototype,Td={};let Ue=class extends Ke{get __tag(){return"Box"}get isBranchLeaf(){return!0}constructor(t){super(t),this.__layout.renderChanged||this.__layout.renderChange()}__updateStrokeSpread(){return 0}__updateRectRenderSpread(){return 0}__updateRenderSpread(){return this.__updateRectRenderSpread()||-1}__updateRectBoxBounds(){}__updateBoxBounds(t){const e=this.__;if(this.children.length)if(e.__autoSide){super.__updateBoxBounds();const{boxBounds:i}=this.__layout;e.__autoSize||(e.__autoWidth?(i.width+=i.x,i.x=0,i.height=e.height,i.y=0):(i.height+=i.y,i.y=0,i.width=e.width,i.x=0)),this.__updateNaturalSize()}else this.__updateRectBoxBounds();else this.__updateRectBoxBounds()}__updateStrokeBounds(){}__updateRenderBounds(){let t;const{renderBounds:e}=this.__layout;this.children.length?(super.__updateRenderBounds(),R$(Td,e),this.__updateRectRenderBounds(),t=!P$(e,Td),t&&this.__.overflow!=="hide"&&O$(e,Td)):this.__updateRectRenderBounds(),!this.isOverflow!=!t&&(this.isOverflow=t)}__updateRectRenderBounds(){}__updateRectChange(){}__updateChange(){super.__updateChange(),this.__updateRectChange()}__renderRect(t,e){}__renderGroup(t,e){}__render(t,e){this.__.__drawAfterFill?this.__renderRect(t,e):(this.__renderRect(t,e),this.children.length&&this.__renderGroup(t,e))}__drawContent(t,e){this.__renderGroup(t,e),this.__.__hasStroke&&(t.setWorld(this.__nowWorld),this.__drawRenderPath(t))}};D([un(Zb)],Ue.prototype,"__",void 0);D([Ni(!1)],Ue.prototype,"resizeChildren",void 0);D([Ni(!1)],Ue.prototype,"textBox",void 0);D([Gb("show")],Ue.prototype,"overflow",void 0);D([Wi(Ys.__updateStrokeSpread)],Ue.prototype,"__updateStrokeSpread",null);D([Wi(Ys.__updateRenderSpread)],Ue.prototype,"__updateRectRenderSpread",null);D([Wi(Ys.__updateBoxBounds)],Ue.prototype,"__updateRectBoxBounds",null);D([Wi(Ys.__updateStrokeBounds)],Ue.prototype,"__updateStrokeBounds",null);D([Wi(Ys.__updateRenderBounds)],Ue.prototype,"__updateRectRenderBounds",null);D([Wi(Ys.__updateChange)],Ue.prototype,"__updateRectChange",null);D([Wi(Ys.__render)],Ue.prototype,"__renderRect",null);D([Wi(L$.__render)],Ue.prototype,"__renderGroup",null);Ue=D([_c(),cn()],Ue);let Uo=class extends Ue{get __tag(){return"Frame"}get isFrame(){return!0}constructor(t){super(t)}};D([un(f$)],Uo.prototype,"__",void 0);D([fl("#FFFFFF")],Uo.prototype,"fill",void 0);D([Gb("hide")],Uo.prototype,"overflow",void 0);Uo=D([cn()],Uo);const{moveTo:cm,closePath:hm,ellipse:bo}=Ks;let Vs=class extends Q{get __tag(){return"Ellipse"}constructor(t){super(t)}__updatePath(){const{width:t,height:e,innerRadius:i,startAngle:s,endAngle:a}=this.__,l=t/2,u=e/2,h=this.__.path=[];i?(s||a?(i<1&&bo(h,l,u,l*i,u*i,0,s,a,!1),bo(h,l,u,l,u,0,a,s,!0),i<1&&hm(h)):(i<1&&(bo(h,l,u,l*i,u*i),cm(h,t,u)),bo(h,l,u,l,u,0,360,0,!0)),ut.ellipseToCurve&&(this.__.path=this.getPath(!0))):s||a?(cm(h,l,u),bo(h,l,u,l,u,0,s,a,!1),hm(h)):bo(h,l,u,l,u)}};D([un(g$)],Vs.prototype,"__",void 0);D([mn(0)],Vs.prototype,"innerRadius",void 0);D([mn(0)],Vs.prototype,"startAngle",void 0);D([mn(0)],Vs.prototype,"endAngle",void 0);Vs=D([cn()],Vs);const{moveTo:k$,lineTo:I$,drawPoints:dm}=Ks,{rotate:B$,getAngle:A$,getDistance:M$,defaultPoint:fm}=Et,{toBounds:D$}=cp;let Mi=class extends Q{get __tag(){return"Line"}get toPoint(){const{width:t,rotation:e}=this.__,i=op();return t&&(i.x=t),e&&B$(i,e),i}set toPoint(t){this.width=M$(fm,t),this.rotation=A$(fm,t),this.height&&(this.height=0)}constructor(t){super(t)}__updatePath(){const t=this.__,e=t.path=[];t.points?dm(e,t.points,!1,t.closed):(k$(e,0,0),I$(e,this.width,0))}__updateRenderPath(){const t=this.__;!this.pathInputed&&t.points&&t.curve?(dm(t.__pathForRender=[],t.points,t.curve,t.closed),t.__useArrow&&Xb.addArrows(this,!1)):super.__updateRenderPath()}__updateBoxBounds(){this.points?D$(this.__.__pathForRender,this.__layout.boxBounds):super.__updateBoxBounds()}};D([un(p$)],Mi.prototype,"__",void 0);D([gc("center")],Mi.prototype,"strokeAlign",void 0);D([ce(0)],Mi.prototype,"height",void 0);D([mn()],Mi.prototype,"points",void 0);D([mn(0)],Mi.prototype,"curve",void 0);D([mn(!1)],Mi.prototype,"closed",void 0);Mi=D([cn()],Mi);const{sin:$$,cos:F$,PI:pm}=Math,{moveTo:N$,lineTo:W$,closePath:z$,drawPoints:H$}=Ks,qb=Mi.prototype;let kr=class extends Q{get __tag(){return"Polygon"}constructor(t){super(t)}__updatePath(){const t=this.__.path=[];if(this.__.points)H$(t,this.__.points,!1,!0);else{const{width:e,height:i,sides:s}=this.__,a=e/2,l=i/2;N$(t,a,0);for(let u=1;u<s;u++)W$(t,a+a*$$(u*2*pm/s),l-l*F$(u*2*pm/s))}z$(t)}__updateRenderPath(){}__updateBoxBounds(){}};D([un(_$)],kr.prototype,"__",void 0);D([mn(3)],kr.prototype,"sides",void 0);D([mn()],kr.prototype,"points",void 0);D([mn(0)],kr.prototype,"curve",void 0);D([Wi(qb.__updateRenderPath)],kr.prototype,"__updateRenderPath",null);D([Wi(qb.__updateBoxBounds)],kr.prototype,"__updateBoxBounds",null);kr=D([_c(),cn()],kr);const{sin:V$,cos:U$,PI:gm}=Math,{moveTo:G$,lineTo:K$,closePath:j$}=Ks;let el=class extends Q{get __tag(){return"Star"}constructor(t){super(t)}__updatePath(){const{width:t,height:e,corners:i,innerRadius:s}=this.__,a=t/2,l=e/2,u=this.__.path=[];G$(u,a,0);for(let h=1;h<i*2;h++)K$(u,a+(h%2===0?a:a*s)*V$(h*gm/i),l-(h%2===0?l:l*s)*U$(h*gm/i));j$(u)}};D([un(v$)],el.prototype,"__",void 0);D([mn(5)],el.prototype,"corners",void 0);D([mn(.382)],el.prototype,"innerRadius",void 0);el=D([cn()],el);let nl=class extends Ai{get __tag(){return"Image"}get ready(){return this.image?this.image.ready:!1}constructor(t){super(t),this.on(nr.LOADED,e=>{e.attrName==="fill"&&e.attrValue.url===this.url&&(this.image=e.image)})}destroy(){this.image=null,super.destroy()}};D([un(x$)],nl.prototype,"__",void 0);D([ce("")],nl.prototype,"url",void 0);nl=D([cn()],nl);let os=class extends Ai{get __tag(){return"Canvas"}get ready(){return!this.url}constructor(t){super(t),this.canvas=Oe.canvas(this.__),this.context=this.canvas.context,t&&t.url&&this.drawImage(t.url)}drawImage(t){new zb({url:t}).load(e=>{this.context.drawImage(e.view,0,0),this.url=void 0,this.paint(),this.emitEvent(new nr(nr.LOADED,{image:e}))})}draw(t,e,i,s){const a=new In(t.worldTransform).invert(),l=new In;e&&l.translate(e.x,e.y),i&&(typeof i=="number"?l.scale(i):l.scale(i.x,i.y)),s&&l.rotate(s),a.multiplyParent(l),t.__render(this.canvas,{matrix:a.withScale()}),this.paint()}paint(){this.forceRender()}__drawContent(t,e){const{width:i,height:s}=this.__,{view:a}=this.canvas;t.drawImage(a,0,0,a.width,a.height,0,0,i,s)}__updateSize(){const{canvas:t}=this;if(t){const{smooth:e}=this.__;t.smooth!==e&&(t.smooth=e),t.resize(this.__)}}destroy(){this.canvas&&(this.canvas.destroy(),this.canvas=this.context=null),super.destroy()}};D([un(E$)],os.prototype,"__",void 0);D([_l(100)],os.prototype,"width",void 0);D([_l(100)],os.prototype,"height",void 0);D([_l(1)],os.prototype,"pixelRatio",void 0);D([_l(!0)],os.prototype,"smooth",void 0);D([_l()],os.prototype,"contextSettings",void 0);os=D([cn()],os);const{copyAndSpread:Y$,includes:X$,isSame:Z$,spread:q$,setList:J$}=_t;let se=class extends Q{get __tag(){return"Text"}get textDrawData(){return this.__layout.update(),this.__.__textDrawData}constructor(t){super(t)}__drawHitPath(t){const{__lineHeight:e,fontSize:i,__baseLine:s,__textDrawData:a}=this.__;t.beginPath(),this.__.__letterSpacing<0?this.__drawPathByData(t):a.rows.forEach(l=>t.rect(l.x,l.y-s,l.width,e<i?i:e))}__drawPathByData(t,e){const{x:i,y:s,width:a,height:l}=this.__layout.boxBounds;t.rect(i,s,a,l)}__drawRenderPath(t){t.font=this.__.__font}__updateTextDrawData(){const t=this.__,{lineHeight:e,letterSpacing:i,fontFamily:s,fontSize:a,fontWeight:l,italic:u,textCase:h,textOverflow:d,padding:p}=t;t.__lineHeight=sm.number(e,a),t.__letterSpacing=sm.number(i,a),t.__padding=p?je.fourNumber(p):void 0,t.__baseLine=t.__lineHeight-(t.__lineHeight-a*.7)/2,t.__font=`${u?"italic ":""}${h==="small-caps"?"small-caps ":""}${l!=="normal"?l+" ":""}${a}px ${s}`,t.__clipText=d!=="show"&&!t.__autoSize,t.__textDrawData=Yb.getDrawData(t.text,this.__)}__updateBoxBounds(){const t=this.__,e=this.__layout,{fontSize:i,italic:s,padding:a,__autoWidth:l,__autoHeight:u}=t;this.__updateTextDrawData();const{bounds:h}=t.__textDrawData,d=e.boxBounds;if(t.__lineHeight<i&&q$(h,i/2),l||u){if(d.x=l?h.x:0,d.y=u?h.y:0,d.width=l?h.width:t.width,d.height=u?h.height:t.height,a){const[v,b,_,m]=t.__padding;l&&(d.x-=m,d.width+=b+m),u&&(d.y-=v,d.height+=_+v)}this.__updateNaturalSize()}else super.__updateBoxBounds();s&&(d.width+=i*.16);const p=X$(d,h)?d:h;Z$(p,e.contentBounds)?t.__textBoxBounds=p:(e.contentBounds=p,e.renderChanged=!0,J$(t.__textBoxBounds={},[d,h]))}__updateRenderSpread(){let t=super.__updateRenderSpread();return t||(t=this.__layout.boxBounds===this.__layout.contentBounds?0:1),t}__updateRenderBounds(){Y$(this.__layout.renderBounds,this.__.__textBoxBounds,this.__layout.renderSpread)}};D([un(w$)],se.prototype,"__",void 0);D([ce(0)],se.prototype,"width",void 0);D([ce(0)],se.prototype,"height",void 0);D([Ni(!1)],se.prototype,"resizeFontSize",void 0);D([fl("#000000")],se.prototype,"fill",void 0);D([gc("outside")],se.prototype,"strokeAlign",void 0);D([js("all")],se.prototype,"hitFill",void 0);D([ce("")],se.prototype,"text",void 0);D([ce("L")],se.prototype,"fontFamily",void 0);D([ce(12)],se.prototype,"fontSize",void 0);D([ce("normal")],se.prototype,"fontWeight",void 0);D([ce(!1)],se.prototype,"italic",void 0);D([ce("none")],se.prototype,"textCase",void 0);D([ce("none")],se.prototype,"textDecoration",void 0);D([ce(0)],se.prototype,"letterSpacing",void 0);D([ce({type:"percent",value:1.5})],se.prototype,"lineHeight",void 0);D([ce(0)],se.prototype,"paraIndent",void 0);D([ce(0)],se.prototype,"paraSpacing",void 0);D([ce("left")],se.prototype,"textAlign",void 0);D([ce("top")],se.prototype,"verticalAlign",void 0);D([ce(!0)],se.prototype,"autoSizeAlign",void 0);D([ce("normal")],se.prototype,"textWrap",void 0);D([ce("show")],se.prototype,"textOverflow",void 0);se=D([cn()],se);let Go=class extends Q{get __tag(){return"Path"}constructor(t){super(t)}};D([un(m$)],Go.prototype,"__",void 0);D([gc("center")],Go.prototype,"strokeAlign",void 0);Go=D([cn()],Go);let nc=class extends Ke{get __tag(){return"Pen"}constructor(t){super(t)}setStyle(t){const e=this.pathElement=new Go(t);return this.pathStyle=t,this.__path=e.path||(e.path=[]),this.add(e),this}beginPath(){return this}moveTo(t,e){return this}lineTo(t,e){return this}bezierCurveTo(t,e,i,s,a,l){return this}quadraticCurveTo(t,e,i,s){return this}closePath(){return this}rect(t,e,i,s){return this}roundRect(t,e,i,s,a){return this}ellipse(t,e,i,s,a,l,u,h){return this}arc(t,e,i,s,a,l){return this}arcTo(t,e,i,s,a){return this}drawEllipse(t,e,i,s,a,l,u,h){return this}drawArc(t,e,i,s,a,l){return this}drawPoints(t,e,i){return this}clearPath(){return this}paint(){this.pathElement.__layout.boxChanged||this.pathElement.forceUpdate("path")}};D([un(y$)],nc.prototype,"__",void 0);D([Q$()],nc.prototype,"path",void 0);nc=D([Ri(up,["set","path","paint"]),cn()],nc);function Q$(){return(n,t)=>{Xn(n,t,{get(){return this.__path}})}}function Br(n,t,e,i){var s=arguments.length,a=s<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,t,e,i);else for(var u=n.length-1;u>=0;u--)(l=n[u])&&(a=(s<3?l(a):s>3?l(t,e,a):l(t,e))||a);return s>3&&a&&Object.defineProperty(t,e,a),a}let hf=class extends ss{get __tag(){return"App"}get isApp(){return!0}constructor(t,e){super(t,e)}init(t,e){if(super.init(t,e),t){const{ground:i,tree:s,sky:a,editor:l}=t;i&&(this.ground=this.addLeafer(i)),(s||l)&&(this.tree=this.addLeafer(s)),(a||l)&&(this.sky=this.addLeafer(a||{type:"draw",usePartRender:!1})),l&&this.sky.add(this.editor=Oe.editor(l))}}__setApp(){const{canvas:t}=this,{realCanvas:e,view:i}=this.config;e||i===this.canvas.view||!t.parentView?this.realCanvas=!0:t.unrealCanvas(),this.leafer=this,this.watcher.disable(),this.layouter.disable(),this.__eventIds.push(this.on_(qi.CHANGE,this.__onPropertyChange,this))}start(){super.start(),this.children.forEach(t=>t.start())}stop(){this.children.forEach(t=>t.stop()),super.stop()}unlockLayout(){super.unlockLayout(),this.children.forEach(t=>t.unlockLayout())}lockLayout(){super.lockLayout(),this.children.forEach(t=>t.lockLayout())}forceRender(t){this.children.forEach(e=>e.forceRender(t))}addLeafer(t){const e=new ss(t);return this.add(e),e}add(t,e){if(!t.view){if(this.realCanvas&&!this.canvas.bounds){setTimeout(()=>this.add(t,e),10);return}t.init(this.__getChildConfig(t.userConfig),this)}super.add(t,e),e!==void 0&&(t.canvas.childIndex=e),this.__listenChildEvents(t)}__onPropertyChange(){te.showHitView&&this.children.forEach(t=>t.forceUpdate("surface"))}__onCreated(){this.created=this.children.every(t=>t.created)}__onReady(){this.children.every(t=>t.ready)&&super.__onReady()}__onViewReady(){this.children.every(t=>t.viewReady)&&super.__onViewReady()}__onChildRenderEnd(t){this.renderer.addBlock(t.renderBounds),this.viewReady&&this.renderer.update()}__render(t,e){if(t.context){const i=e.matrix;i&&t.setTransform(i.a,i.b,i.c,i.d,i.e,i.f),this.children.forEach(s=>t.copyWorld(s.canvas))}}__onResize(t){this.children.forEach(e=>e.resize(t)),super.__onResize(t)}__checkUpdateLayout(){this.children.forEach(t=>t.__layout.update())}__getChildConfig(t){let e=Object.assign({},this.config);return e.hittable=e.realCanvas=void 0,t&&Be.assign(e,t),this.autoLayout&&Be.copyAttrs(e,this,Xi),e.view=this.realCanvas?void 0:this.view,e.fill=void 0,e}__listenChildEvents(t){t.once(Jt.END,()=>this.__onReady()),t.once(Qt.START,()=>this.__onCreated()),t.once(Qt.END,()=>this.__onViewReady()),this.realCanvas&&this.__eventIds.push(t.on_(Qt.END,this.__onChildRenderEnd,this))}};hf=Br([cn()],hf);const Pu={},Ga={isHoldSpaceKey(){return Ga.isHold("Space")},isHold(n){return Pu[n]},setDownCode(n){Pu[n]||(Pu[n]=!0)},setUpCode(n){Pu[n]=!1}},Ci={LEFT:1,RIGHT:2,MIDDLE:4,defaultLeft(n){n.buttons||(n.buttons=1)},left(n){return n.buttons===1},right(n){return n.buttons===2},middle(n){return n.buttons===4}};class yc extends rr{get spaceKey(){return Ga.isHoldSpaceKey()}get left(){return Ci.left(this)}get right(){return Ci.right(this)}get middle(){return Ci.middle(this)}constructor(t){super(t.type),this.bubbles=!0,Object.assign(this,t)}getBoxPoint(t){return t||(t=this.current),t.getBoxPoint(this)}getInnerPoint(t){return t||(t=this.current),t.getInnerPoint(this)}getLocalPoint(t){return t||(t=this.current),t.getLocalPoint(this)}getPagePoint(){return this.current.getPagePoint(this)}getInner(t){return this.getInnerPoint(t)}getLocal(t){return this.getLocalPoint(t)}getPage(){return this.getPagePoint()}static changeName(t,e){Vo.changeName(t,e)}}let gt=class extends yc{};gt.POINTER="pointer";gt.BEFORE_DOWN="pointer.before_down";gt.BEFORE_MOVE="pointer.before_move";gt.BEFORE_UP="pointer.before_up";gt.DOWN="pointer.down";gt.MOVE="pointer.move";gt.UP="pointer.up";gt.OVER="pointer.over";gt.OUT="pointer.out";gt.ENTER="pointer.enter";gt.LEAVE="pointer.leave";gt.TAP="tap";gt.DOUBLE_TAP="double_tap";gt.CLICK="click";gt.DOUBLE_CLICK="double_click";gt.LONG_PRESS="long_press";gt.LONG_TAP="long_tap";gt.MENU="pointer.menu";gt.MENU_TAP="pointer.menu_tap";gt=Br([us()],gt);const Sa={};let At=class extends gt{static setList(t){this.list=t instanceof ae?t:new ae(t)}static setData(t){this.data=t}static getValidMove(t,e,i){const{draggable:s,dragBounds:a,x:l,y:u}=t,h=t.getLocalPoint(i,null,!0);return h.x+=e.x-l,h.y+=e.y-u,a&&this.getMoveInDragBounds(t.__local,a==="parent"?t.parent.boxBounds:a,h,!0),s==="x"&&(h.y=0),s==="y"&&(h.x=0),h}static getMoveInDragBounds(t,e,i,s){const a=t.x+i.x,l=t.y+i.y,u=a+t.width,h=l+t.height,d=e.x+e.width,p=e.y+e.height;return s||(i=Object.assign({},i)),_t.includes(t,e)?(a>e.x?i.x+=e.x-a:u<d&&(i.x+=d-u),l>e.y?i.y+=e.y-l:h<p&&(i.y+=p-h)):(a<e.x?i.x+=e.x-a:u>d&&(i.x+=d-u),l<e.y?i.y+=e.y-l:h>p&&(i.y+=p-h)),i}getPageMove(t){return this.assignMove(t),this.current.getPagePoint(Sa,null,!0)}getInnerMove(t,e){return t||(t=this.current),this.assignMove(e),t.getInnerPoint(Sa,null,!0)}getLocalMove(t,e){return t||(t=this.current),this.assignMove(e),t.getLocalPoint(Sa,null,!0)}getPageTotal(){return this.getPageMove(!0)}getInnerTotal(t){return this.getInnerMove(t,!0)}getLocalTotal(t){return this.getLocalMove(t,!0)}getPageBounds(){const t=this.getPageTotal(),e=this.getPagePoint(),i={};return _t.set(i,e.x-t.x,e.y-t.y,t.x,t.y),_t.unsign(i),i}assignMove(t){Sa.x=t?this.totalX:this.moveX,Sa.y=t?this.totalY:this.moveY}};At.BEFORE_DRAG="drag.before_drag";At.START="drag.start";At.DRAG="drag";At.END="drag.end";At.OVER="drag.over";At.OUT="drag.out";At.ENTER="drag.enter";At.LEAVE="drag.leave";At=Br([us()],At);let il=class extends gt{static setList(t){At.setList(t)}static setData(t){At.setData(t)}};il.DROP="drop";il=Br([us()],il);let Ve=class extends At{};Ve.BEFORE_MOVE="move.before_move";Ve.START="move.start";Ve.MOVE="move";Ve.END="move.end";Ve=Br([us()],Ve);let ci=class extends yc{};ci.BEFORE_ROTATE="rotate.before_rotate";ci.START="rotate.start";ci.ROTATE="rotate";ci.END="rotate.end";ci=Br([us()],ci);let Pi=class extends At{};Pi.SWIPE="swipe";Pi.LEFT="swipe.left";Pi.RIGHT="swipe.right";Pi.UP="swipe.up";Pi.DOWN="swipe.down";Pi=Br([us()],Pi);let Pn=class extends yc{};Pn.BEFORE_ZOOM="zoom.before_zoom";Pn.START="zoom.start";Pn.ZOOM="zoom";Pn.END="zoom.end";Pn=Br([us()],Pn);let Li=class extends yc{};Li.DOWN="key.down";Li.HOLD="key.hold";Li.UP="key.up";Li=Br([us()],Li);function Jb(n){n.isApp||n.__eventIds.push(n.on_(Ve.BEFORE_MOVE,t=>{n.zoomLayer.move(n.getValidMove(t.moveX,t.moveY))}),n.on_(Pn.BEFORE_ZOOM,t=>{const{zoomLayer:e}=n,i=n.getValidScale(t.scale);i!==1&&(Et.scaleOf(e,t,i),e.scale=e.__.scaleX*i)}))}function t5(n){Jb(n);const{move:t,zoom:e}=n.config;t.scroll="limit",e.min=1}function e5(n){const{config:t}=n;(t.wheel||(t.wheel={})).preventDefault=!1,(t.touch||(t.touch={})).preventDefault="auto"}const n5=te.get("LeaferTypeCreator"),Qb={list:{},register(n,t){Rd[n]?n5.repeat(n):Rd[n]=t},run(n,t){const e=Rd[n];e&&e(t)}},{list:Rd,register:fp}=Qb;fp("design",Jb);fp("document",t5);fp("block",e5);const pp=ss.prototype;pp.initType=function(n){Qb.run(n,this)};pp.getValidMove=function(n,t){const{scroll:e,disabled:i}=this.app.config.move;if(e&&(Math.abs(n)>Math.abs(t)?t=0:n=0,e==="limit")){const{x:s,y:a,width:l,height:u}=new pe(this.__world).addPoint(this.zoomLayer),h=s+l-this.width,d=a+u-this.height;s>=0&&h<=0?n=0:n>0?s+n>0&&(n=-s):n<0&&h+n<0&&(n=-h),a>=0&&d<=0?t=0:t>0?a+t>0&&(t=-a):t<0&&d+t<0&&(t=-d)}return{x:i?0:n,y:i?0:t}};pp.getValidScale=function(n){const{scaleX:t}=this.zoomLayer.__,{min:e,max:i,disabled:s}=this.app.config.zoom,a=Math.abs(t*n);return a<e?n=e/t:a>i&&(n=i/t),s?1:n};class i5{get transforming(){return!!(this.moveData||this.zoomData||this.rotateData)}constructor(t){this.interaction=t}move(t){const{interaction:e}=this;if(t.moveType||(t.moveType="move"),!this.moveData){const{path:i}=e.selector.getByPoint(t,e.hitRadius);t.path=i,this.moveData=Object.assign(Object.assign({},t),{moveX:0,moveY:0}),e.cancelHover(),e.emit(Ve.START,this.moveData)}t.path=this.moveData.path,e.emit(Ve.BEFORE_MOVE,t),e.emit(Ve.MOVE,t),this.transformEndWait()}zoom(t){const{interaction:e}=this;if(!this.zoomData){const{path:i}=e.selector.getByPoint(t,e.hitRadius);t.path=i,this.zoomData=Object.assign(Object.assign({},t),{scale:1}),e.cancelHover(),e.emit(Pn.START,this.zoomData)}t.path=this.zoomData.path,e.emit(Pn.BEFORE_ZOOM,t),e.emit(Pn.ZOOM,t),this.transformEndWait()}rotate(t){const{interaction:e}=this;if(!this.rotateData){const{path:i}=e.selector.getByPoint(t,e.hitRadius);t.path=i,this.rotateData=Object.assign(Object.assign({},t),{rotation:0}),e.cancelHover(),e.emit(ci.START,this.rotateData)}t.path=this.rotateData.path,e.emit(ci.BEFORE_ROTATE,t),e.emit(ci.ROTATE,t),this.transformEndWait()}transformEndWait(){clearTimeout(this.transformTimer),this.transformTimer=setTimeout(()=>{this.transformEnd()},this.interaction.config.pointer.transformTime)}transformEnd(){this.moveEnd(),this.zoomEnd(),this.rotateEnd()}moveEnd(){this.moveData&&(this.interaction.emit(Ve.END,this.moveData),this.moveData=null)}zoomEnd(){this.zoomData&&(this.interaction.emit(Pn.END,this.zoomData),this.zoomData=null)}rotateEnd(){this.rotateData&&(this.interaction.emit(ci.END,this.rotateData),this.rotateData=null)}destroy(){this.zoomData=this.moveData=this.rotateData=null}}const ki={getMoveEventData(n,t,e){return Object.assign(Object.assign({},e),{x:n.x,y:n.y,moveX:t.x,moveY:t.y})},getRotateEventData(n,t,e){return Object.assign(Object.assign({},e),{x:n.x,y:n.y,rotation:t})},getZoomEventData(n,t,e){return Object.assign(Object.assign({},e),{x:n.x,y:n.y,scale:t})},getDragEventData(n,t,e){return Object.assign(Object.assign({},e),{x:e.x,y:e.y,moveX:e.x-t.x,moveY:e.y-t.y,totalX:e.x-n.x,totalY:e.y-n.y})},getDropEventData(n,t,e){return Object.assign(Object.assign({},n),{list:t,data:e})},getSwipeDirection(n){return n<-45&&n>-135?Pi.UP:n>45&&n<135?Pi.DOWN:n<=45&&n>=-45?Pi.RIGHT:Pi.LEFT},getSwipeEventData(n,t,e){return Object.assign(Object.assign({},e),{moveX:t.moveX,moveY:t.moveY,totalX:e.x-n.x,totalY:e.y-n.y,type:r5.getSwipeDirection(Et.getAngle(n,e))})},getBase(n){const t=n.button===1?4:n.button;return{altKey:n.altKey,ctrlKey:n.ctrlKey,shiftKey:n.shiftKey,metaKey:n.metaKey,buttons:n.buttons===void 0?1:n.buttons===0?t:n.buttons,origin:n}},pathHasEventType(n,t){const{list:e}=n;for(let i=0,s=e.length;i<s;i++)if(e[i].hasEvent(t))return!0;return!1},filterPathByEventType(n,t){const e=new ae,{list:i}=n;for(let s=0,a=i.length;s<a;s++)i[s].hasEvent(t)&&e.add(i[s]);return e},pathCanDrag(n){return n&&n.list.some(t=>t.draggable||t.editable||!t.isLeafer&&t.hasEvent(At.DRAG))},pathHasOutside(n){return n&&n.list.some(t=>t.isOutside)}},r5=ki,_m=new ae,{getDragEventData:Od,getDropEventData:s5,getSwipeEventData:o5}=ki;class a5{constructor(t){this.interaction=t}setDragData(t){this.animateWait&&this.dragEndReal(),this.downData=this.interaction.downData,this.dragData=Od(t,t,t),this.canAnimate=this.canDragOut=!0}getList(t,e){const{proxy:i}=this.interaction.selector,s=i&&i.list.length,a=At.list||this.draggableList||_m;return this.dragging&&(s?t?_m:new ae(e?[...i.list,...i.dragHoverExclude]:i.list):a)}checkDrag(t,e){const{interaction:i}=this;if(this.moving&&t.buttons<1){this.canAnimate=!1,i.pointerCancel();return}!this.moving&&e&&(this.moving=i.canMove(this.downData)||i.isHoldRightKey||i.isMobileDragEmpty)&&(this.dragData.moveType="drag",i.emit(Ve.START,this.dragData)),this.moving||this.dragStart(t,e),this.drag(t)}dragStart(t,e){this.dragging||(this.dragging=e&&Ci.left(t),this.dragging&&(this.interaction.emit(At.START,this.dragData),this.getDraggableList(this.dragData.path),this.setDragStartPoints(this.realDraggableList=this.getList(!0))))}setDragStartPoints(t){this.dragStartPoints={},t.forEach(e=>this.dragStartPoints[e.innerId]={x:e.x,y:e.y})}getDraggableList(t){let e;for(let i=0,s=t.length;i<s;i++)if(e=t.list[i],(e.draggable||e.editable)&&e.hitSelf&&!e.locked){this.draggableList=new ae(e);break}}drag(t){const{interaction:e,dragData:i,downData:s}=this,{path:a,throughPath:l}=s;this.dragData=Od(s,i,t),l&&(this.dragData.throughPath=l),this.dragData.path=a,this.moving?(this.dragData.moveType="drag",e.emit(Ve.BEFORE_MOVE,this.dragData),e.emit(Ve.MOVE,this.dragData)):this.dragging&&(this.dragReal(),e.emit(At.BEFORE_DRAG,this.dragData),e.emit(At.DRAG,this.dragData))}dragReal(){const{running:t}=this.interaction,e=this.realDraggableList;if(e.length&&t){const{totalX:i,totalY:s}=this.dragData;e.forEach(a=>a.draggable&&a.move(At.getValidMove(a,this.dragStartPoints[a.innerId],{x:i,y:s})))}}dragOverOrOut(t){const{interaction:e}=this,{dragOverPath:i}=this,{path:s}=t;this.dragOverPath=s,i?s.indexAt(0)!==i.indexAt(0)&&(e.emit(At.OUT,t,i),e.emit(At.OVER,t,s)):e.emit(At.OVER,t,s)}dragEnterOrLeave(t){const{interaction:e}=this,{dragEnterPath:i}=this,{path:s}=t;e.emit(At.LEAVE,t,i,s),e.emit(At.ENTER,t,s,i),this.dragEnterPath=s}dragEnd(t,e){if(!this.dragging&&!this.moving)return;const{moveX:i,moveY:s}=this.dragData;this.interaction.config.move.dragAnimate&&this.canAnimate&&this.moving&&(Math.abs(i)>1||Math.abs(s)>1)?(t=Object.assign({},t),e=(e||(t.pointerType==="touch"?2:1))*.9,Et.move(t,i*e,s*e),this.drag(t),this.animate(()=>{this.dragEnd(t,1)})):this.dragEndReal(t)}dragEndReal(t){const{interaction:e,downData:i,dragData:s}=this;t||(t=s);const{path:a,throughPath:l}=i,u=Od(i,t,t);if(l&&(u.throughPath=l),u.path=a,this.moving&&(this.moving=!1,u.moveType="drag",e.emit(Ve.END,u)),this.dragging){const h=this.getList();this.dragging=!1,e.emit(At.END,u),this.swipe(t,i,s,u),this.drop(t,h,this.dragEnterPath)}this.autoMoveCancel(),this.dragReset(),this.animate(null,"off")}animate(t,e){const i=t||this.animateWait;i&&this.interaction.target.nextRender(i,null,e),this.animateWait=t}swipe(t,e,i,s){const{interaction:a}=this;if(Et.getDistance(e,t)>a.config.pointer.swipeDistance){const l=o5(e,i,s);this.interaction.emit(l.type,l)}}drop(t,e,i){const s=s5(t,e,At.data);s.path=i,this.interaction.emit(il.DROP,s),this.interaction.emit(At.LEAVE,t,i)}dragReset(){At.list=At.data=this.draggableList=this.dragData=this.downData=this.dragOverPath=this.dragEnterPath=null}checkDragOut(t){const{interaction:e}=this;this.autoMoveCancel(),this.dragging&&!e.shrinkCanvasBounds.hitPoint(t)&&this.autoMoveOnDragOut(t)}autoMoveOnDragOut(t){const{interaction:e,downData:i,canDragOut:s}=this,{autoDistance:a,dragOut:l}=e.config.move;if(!l||!s||!a)return;const u=e.shrinkCanvasBounds,{x:h,y:d}=u,p=_t.maxX(u),v=_t.maxY(u),b=t.x<h?a:p<t.x?-a:0,_=t.y<d?a:v<t.y?-a:0;let m=0,x=0;this.autoMoveTimer=setInterval(()=>{m+=b,x+=_,Et.move(i,b,_),Et.move(this.dragData,b,_),e.move(Object.assign(Object.assign({},t),{moveX:b,moveY:_,totalX:m,totalY:x,moveType:"drag"})),e.pointerMoveReal(t)},10)}autoMoveCancel(){this.autoMoveTimer&&(clearInterval(this.autoMoveTimer),this.autoMoveTimer=0)}destroy(){this.dragReset()}}const l5=te.get("emit");function u5(n,t,e,i){if(!e&&!t.path)return;let s;t.type=n,e?t=Object.assign(Object.assign({},t),{path:e}):e=t.path,t.target=e.indexAt(0);try{for(let a=e.length-1;a>-1;a--){if(s=e.list[a],df(s,n,t,!0,i))return;s.isApp&&vm(s,n,t,!0,i)}for(let a=0,l=e.length;a<l;a++)if(s=e.list[a],s.isApp&&vm(s,n,t,!1,i),df(s,n,t,!1,i))return}catch(a){l5.error(a)}}const c5=["move","zoom","rotate","key"];function vm(n,t,e,i,s){if(c5.some(a=>t.startsWith(a))&&n.__.hitChildren&&!tw(n,s)){let a;for(let l=0,u=n.children.length;l<u;l++)a=n.children[l],!e.path.has(a)&&a.__.hittable&&df(a,t,e,i,s)}}function df(n,t,e,i,s){if(n.destroyed)return!1;if(n.__.hitSelf&&!tw(n,s)&&(om.updateEventStyle&&!i&&om.updateEventStyle(n,t),n.hasEvent(t,i))){e.phase=i?1:n===e.target?2:3;const a=Vo.get(t,e);if(n.emitEvent(a,i),a.isStop)return!0}return!1}function tw(n,t){return t&&t.has(n)}const h5={getData(n){const t=n[0],e=n[1],i=Et.getCenter(t.from,e.from),s=Et.getCenter(t.to,e.to),a={x:s.x-i.x,y:s.y-i.y},l=Et.getDistance(t.from,e.from),h=Et.getDistance(t.to,e.to)/l,d=Et.getRotation(t.from,e.from,t.to,e.to);return{move:a,scale:h,angle:d,center:s}}},d5={wheel:{zoomSpeed:.5,moveSpeed:.5,rotateSpeed:.5,delta:{x:80/4,y:8},preventDefault:!0},pointer:{hitRadius:5,tapTime:120,longPressTime:800,transformTime:500,hover:!0,dragHover:!0,dragDistance:2,swipeDistance:20,preventDefaultMenu:!0},touch:{preventDefault:!0},multiTouch:{},cursor:!0,keyEvent:!0},{pathHasEventType:Pd,getMoveEventData:f5,getZoomEventData:p5,getRotateEventData:g5,pathCanDrag:_5,pathHasOutside:mm}=ki;class v5{get dragging(){return this.dragger.dragging}get transforming(){return this.transformer.transforming}get moveMode(){return this.m.drag===!0||this.isHoldSpaceKey||this.isHoldMiddleKey||this.isHoldRightKey&&this.dragger.moving||this.isDragEmpty}get canHover(){return this.p.hover&&!this.config.mobile}get isDragEmpty(){return this.m.dragEmpty&&this.isRootPath(this.hoverData)&&(!this.downData||this.isRootPath(this.downData))}get isMobileDragEmpty(){return this.m.dragEmpty&&!this.canHover&&this.downData&&this.isTreePath(this.downData)}get isHoldMiddleKey(){return this.m.holdMiddleKey&&this.downData&&Ci.middle(this.downData)}get isHoldRightKey(){return this.m.holdRightKey&&this.downData&&Ci.right(this.downData)}get isHoldSpaceKey(){return this.m.holdSpaceKey&&Ga.isHoldSpaceKey()}get m(){return this.config.move}get p(){return this.config.pointer}get hitRadius(){return this.p.hitRadius}constructor(t,e,i,s){this.config=Be.clone(d5),this.tapCount=0,this.downKeyMap={},this.target=t,this.canvas=e,this.selector=i,this.defaultPath=new ae(t),this.transformer=new i5(this),this.dragger=new a5(this),s&&(this.config=Be.default(s,this.config)),this.__listenEvents()}start(){this.running=!0}stop(){this.running=!1}receive(t){}pointerDown(t,e){t||(t=this.hoverData),t&&(Ci.defaultLeft(t),this.updateDownData(t),this.checkPath(t,e),this.downTime=Date.now(),this.emit(gt.BEFORE_DOWN,t),this.emit(gt.DOWN,t),Ci.left(t)&&(this.tapWait(),this.longPressWait(t)),this.waitRightTap=Ci.right(t),this.dragger.setDragData(t),this.isHoldRightKey||this.updateCursor(t))}pointerMove(t){if(t||(t=this.hoverData),!t)return;const{downData:e}=this;e&&Ci.defaultLeft(t),(this.canvas.bounds.hitPoint(t)||e)&&(this.pointerMoveReal(t),e&&this.dragger.checkDragOut(t))}pointerMoveReal(t){const{dragHover:e,dragDistance:i}=this.p;if(this.emit(gt.BEFORE_MOVE,t,this.defaultPath),this.downData){const s=Et.getDistance(this.downData,t)>i;s&&(this.waitTap&&this.pointerWaitCancel(),this.waitRightTap=!1),this.dragger.checkDrag(t,s)}this.dragger.moving||(this.updateHoverData(t),this.checkPath(t),this.emit(gt.MOVE,t),this.dragging&&!e||this.pointerHover(t),this.dragger.dragging&&(this.dragger.dragOverOrOut(t),this.dragger.dragEnterOrLeave(t))),this.updateCursor(this.downData||t)}pointerUp(t){const{downData:e}=this;if(t||(t=e),!e)return;Ci.defaultLeft(t),t.multiTouch=e.multiTouch,this.findPath(t);const i=Object.assign(Object.assign({},t),{path:t.path.clone()});t.path.addList(e.path.list),this.checkPath(t),this.downData=null,this.emit(gt.BEFORE_UP,t),this.emit(gt.UP,t),this.touchLeave(t),t.isCancel||(this.tap(t),this.menuTap(t)),this.dragger.dragEnd(t),this.updateCursor(i)}pointerCancel(){const t=Object.assign({},this.dragger.dragData);t.isCancel=!0,this.pointerUp(t)}multiTouch(t,e){if(this.config.multiTouch.disabled)return;const{move:i,angle:s,scale:a,center:l}=h5.getData(e);this.rotate(g5(l,s,t)),this.zoom(p5(l,a,t)),this.move(f5(l,i,t))}menu(t){this.findPath(t),this.emit(gt.MENU,t),this.waitMenuTap=!0,!this.downData&&this.waitRightTap&&this.menuTap(t)}menuTap(t){this.waitRightTap&&this.waitMenuTap&&(this.emit(gt.MENU_TAP,t),this.waitRightTap=this.waitMenuTap=!1)}move(t){this.transformer.move(t)}zoom(t){this.transformer.zoom(t)}rotate(t){this.transformer.rotate(t)}transformEnd(){this.transformer.transformEnd()}keyDown(t){if(!this.config.keyEvent)return;const{code:e}=t;this.downKeyMap[e]||(this.downKeyMap[e]=!0,Ga.setDownCode(e),this.emit(Li.HOLD,t,this.defaultPath),this.moveMode&&(this.cancelHover(),this.updateCursor())),this.emit(Li.DOWN,t,this.defaultPath)}keyUp(t){if(!this.config.keyEvent)return;const{code:e}=t;this.downKeyMap[e]=!1,Ga.setUpCode(e),this.emit(Li.UP,t,this.defaultPath),this.cursor==="grab"&&this.updateCursor()}pointerHover(t){this.canHover&&(this.pointerOverOrOut(t),this.pointerEnterOrLeave(t))}pointerOverOrOut(t){const{path:e}=t,{overPath:i}=this;this.overPath=e,i?e.indexAt(0)!==i.indexAt(0)&&(this.emit(gt.OUT,t,i),this.emit(gt.OVER,t,e)):this.emit(gt.OVER,t,e)}pointerEnterOrLeave(t){let{path:e}=t;this.downData&&!this.moveMode&&(e=e.clone(),this.downData.path.forEach(s=>e.add(s)));const{enterPath:i}=this;this.enterPath=e,this.emit(gt.LEAVE,t,i,e),this.emit(gt.ENTER,t,e,i)}touchLeave(t){t.pointerType==="touch"&&this.enterPath&&(this.emit(gt.LEAVE,t),this.dragger.dragging&&this.emit(il.LEAVE,t))}tap(t){const{pointer:e}=this.config,i=this.longTap(t);if(!e.tapMore&&i||!this.waitTap)return;e.tapMore&&this.emitTap(t);const s=Date.now()-this.downTime,a=[gt.DOUBLE_TAP,gt.DOUBLE_CLICK].some(l=>Pd(t.path,l));s<e.tapTime+50&&a?(this.tapCount++,this.tapCount===2?(this.tapWaitCancel(),this.emitDoubleTap(t)):(clearTimeout(this.tapTimer),this.tapTimer=setTimeout(()=>{e.tapMore||(this.tapWaitCancel(),this.emitTap(t))},e.tapTime))):e.tapMore||(this.tapWaitCancel(),this.emitTap(t))}findPath(t,e){const{hitRadius:i,through:s}=this.p,{bottomList:a}=this,l=this.selector.getByPoint(t,i,Object.assign({bottomList:a,name:t.type},e||{through:s}));return l.throughPath&&(t.throughPath=l.throughPath),t.path=l.path,l.path}isRootPath(t){return t&&t.path.list[0].isLeafer}isTreePath(t){const e=this.target.app;return!e||!e.isApp?!1:e.editor&&!t.path.has(e.editor)&&t.path.has(e.tree)&&!t.target.syncEventer}checkPath(t,e){(e||this.moveMode&&!mm(t.path))&&(t.path=this.defaultPath)}canMove(t){return t&&(this.moveMode||this.m.drag==="auto"&&!_5(t.path))&&!mm(t.path)}isDrag(t){return this.dragger.getList().has(t)}isPress(t){return this.downData&&this.downData.path.has(t)}isHover(t){return this.enterPath&&this.enterPath.has(t)}isFocus(t){return this.focusData===t}cancelHover(){const{hoverData:t}=this;t&&(t.path=this.defaultPath,this.pointerHover(t))}updateDownData(t,e,i){const{downData:s}=this;!t&&s&&(t=s),t&&(this.findPath(t,e),i&&s&&t.path.addList(s.path.list),this.downData=t)}updateHoverData(t){t||(t=this.hoverData),t&&(this.findPath(t,{exclude:this.dragger.getList(!1,!0),name:gt.MOVE}),this.hoverData=t)}updateCursor(t){if(!this.config.cursor||!this.canHover)return;if(t||(this.updateHoverData(),t=this.downData||this.hoverData),this.dragger.moving)return this.setCursor("grabbing");if(this.canMove(t))return this.setCursor(this.downData?"grabbing":"grab");if(!t)return;let e,i;const{path:s}=t;for(let a=0,l=s.length;a<l&&(e=s.list[a],i=e.syncEventer&&e.syncEventer.cursor||e.cursor,!i);a++);this.setCursor(i)}setCursor(t){this.cursor=t}getLocal(t,e){const i=this.canvas.getClientBounds(e);return{x:t.clientX-i.x,y:t.clientY-i.y}}emitTap(t){this.emit(gt.TAP,t),this.emit(gt.CLICK,t)}emitDoubleTap(t){this.emit(gt.DOUBLE_TAP,t),this.emit(gt.DOUBLE_CLICK,t)}pointerWaitCancel(){this.tapWaitCancel(),this.longPressWaitCancel()}tapWait(){clearTimeout(this.tapTimer),this.waitTap=!0}tapWaitCancel(){clearTimeout(this.tapTimer),this.waitTap=!1,this.tapCount=0}longPressWait(t){clearTimeout(this.longPressTimer),this.longPressTimer=setTimeout(()=>{this.longPressed=!0,this.emit(gt.LONG_PRESS,t)},this.p.longPressTime)}longTap(t){let e;return this.longPressed&&(this.emit(gt.LONG_TAP,t),(Pd(t.path,gt.LONG_TAP)||Pd(t.path,gt.LONG_PRESS))&&(e=!0)),this.longPressWaitCancel(),e}longPressWaitCancel(){clearTimeout(this.longPressTimer),this.longPressed=!1}__onResize(){this.shrinkCanvasBounds=new pe(this.canvas.bounds),this.shrinkCanvasBounds.spread(-2)}__listenEvents(){const{target:t}=this;this.__eventIds=[t.on_(Lr.RESIZE,this.__onResize,this)],t.once(Re.READY,()=>this.__onResize())}__removeListenEvents(){this.target.off_(this.__eventIds),this.__eventIds.length=0}emit(t,e,i,s){this.running&&u5(t,e,i,s)}destroy(){this.__eventIds.length&&(this.stop(),this.__removeListenEvents(),this.dragger.destroy(),this.transformer.destroy(),this.downData=this.overPath=this.enterPath=null)}}class ew{static set(t,e){this.custom[t]=e}static get(t){return this.custom[t]}}ew.custom={};class m5 extends Lb{constructor(){super(...arguments),this.maxTotal=1e3,this.pathList=new ae,this.pixelList=new ae}getPixelType(t,e){return this.__autoClear(),this.pixelList.add(t),Oe.hitCanvas(e)}getPathType(t){return this.__autoClear(),this.pathList.add(t),Oe.hitCanvas()}clearImageType(){this.__clearLeafList(this.pixelList)}clearPathType(){this.__clearLeafList(this.pathList)}__clearLeafList(t){t.length&&(t.forEach(e=>{e.__hitCanvas&&(e.__hitCanvas.destroy(),e.__hitCanvas=null)}),t.reset())}__autoClear(){this.pathList.length+this.pixelList.length>this.maxTotal&&this.clear()}clear(){this.clearPathType(),this.clearImageType()}}const{toInnerRadiusPointOf:y5,copy:b5,setRadius:w5}=Et,Ca={},vl=Ws.prototype;vl.__hitWorld=function(n){if(!this.__.hitSelf)return!1;this.__.hitRadius&&(b5(Ca,n),n=Ca,w5(n,this.__.hitRadius)),y5(n,this.__world,Ca);const{width:t,height:e}=this.__world,i=t<10&&e<10;if(this.__.hitBox||i){if(_t.hitRadiusPoint(this.__layout.boxBounds,Ca))return!0;if(i)return!1}return(this.__layout.hitCanvasChanged||!this.__hitCanvas)&&(this.__updateHitCanvas(),this.__layout.boundsChanged||(this.__layout.hitCanvasChanged=!1)),this.__hit(Ca)};vl.__hitFill=function(n){var t;return(t=this.__hitCanvas)===null||t===void 0?void 0:t.hitFill(n,this.__.windingRule)};vl.__hitStroke=function(n,t){var e;return(e=this.__hitCanvas)===null||e===void 0?void 0:e.hitStroke(n,t)};vl.__hitPixel=function(n){var t;return(t=this.__hitCanvas)===null||t===void 0?void 0:t.hitPixel(n,this.__layout.renderBounds,this.__hitCanvas.hitScale)};vl.__drawHitPath=function(n){n&&this.__drawRenderPath(n)};const x5=new In,nw=Q.prototype;nw.__updateHitCanvas=function(){const n=this.__,{hitCanvasManager:t}=this.leafer,e=(n.__pixelFill||n.__isCanvas)&&n.hitFill==="pixel",i=n.__pixelStroke&&n.hitStroke==="pixel",s=e||i;this.__hitCanvas||(this.__hitCanvas=s?t.getPixelType(this,{contextSettings:{willReadFrequently:!0}}):t.getPathType(this));const a=this.__hitCanvas;if(s){const{renderBounds:l}=this.__layout,u=ut.image.hitCanvasSize,h=a.hitScale=ie.set(0,0,u,u).getFitMatrix(l).a,{x:d,y:p,width:v,height:b}=ie.set(l).scale(h);a.resize({width:v,height:b,pixelRatio:1}),a.clear(),Bn.patternLocked=!0,this.__renderShape(a,{matrix:x5.setWith(this.__world).scaleWith(1/h).invertWith().translate(-d,-p)},!e,!i),Bn.patternLocked=!1,a.resetTransform(),n.__isHitPixel=!0}else n.__isHitPixel&&(n.__isHitPixel=!1);this.__drawHitPath(a),a.setStrokeOptions(n)};nw.__hit=function(n){ut.name==="miniapp"&&this.__drawHitPath(this.__hitCanvas);const t=this.__;if(t.__isHitPixel&&this.__hitPixel(n))return!0;const{hitFill:e}=t,i=(t.fill||t.__isCanvas)&&(e==="path"||e==="pixel"&&!(t.__pixelFill||t.__isCanvas))||e==="all";if(i&&this.__hitFill(n))return!0;const{hitStroke:s,__strokeWidth:a}=t,l=t.stroke&&(s==="path"||s==="pixel"&&!t.__pixelStroke)||s==="all";if(!i&&!l)return!1;const u=n.radiusX*2;let h=u;if(l)switch(t.strokeAlign){case"inside":if(h+=a*2,!i&&this.__hitFill(n)&&this.__hitStroke(n,h))return!0;h=u;break;case"center":h+=a;break;case"outside":if(h+=a*2,!i){if(!this.__hitFill(n)&&this.__hitStroke(n,h))return!0;h=u}break}return h?this.__hitStroke(n,h):!1};const iw=Q.prototype,rw=Ai.prototype,sw=Ue.prototype;rw.__updateHitCanvas=sw.__updateHitCanvas=function(){this.stroke||this.cornerRadius||(this.fill||this.__.__isCanvas)&&this.hitFill==="pixel"||this.hitStroke==="all"?iw.__updateHitCanvas.call(this):this.__hitCanvas&&(this.__hitCanvas=null)};rw.__hitFill=sw.__hitFill=function(n){return this.__hitCanvas?iw.__hitFill.call(this,n):_t.hitRadiusPoint(this.__layout.boxBounds,n)};const ow=Q.prototype,E5=Ke.prototype;function gp(n){return n.leafer?n.leafer.selector:ut.selector||(ut.selector=Oe.selector())}ow.find=function(n,t){return gp(this).getBy(n,this,!1,t)};ow.findOne=function(n,t){return gp(this).getBy(n,this,!0,t)};E5.pick=function(n,t){return this.__layout.update(),t||(t={}),gp(this).getByPoint(n,t.hitRadius||0,Object.assign(Object.assign({},t),{target:this}))};const _p=lp.prototype;_p.hitFill=function(n,t){return t?this.context.isPointInPath(n.x,n.y,t):this.context.isPointInPath(n.x,n.y)};_p.hitStroke=function(n,t){return this.strokeWidth=t,this.context.isPointInStroke(n.x,n.y)};_p.hitPixel=function(n,t,e=1){let{x:i,y:s,radiusX:a,radiusY:l}=n;t&&(i-=t.x,s-=t.y),ie.set(i-a,s-l,a*2,l*2).scale(e).ceil();const{data:u}=this.context.getImageData(ie.x,ie.y,ie.width||1,ie.height||1);for(let h=0,d=u.length;h<d;h+=4)if(u[h+3]>0)return!0;return u[3]>0};const{M:S5,L:C5,C:T5,Q:R5,Z:O5,N:P5,D:L5,X:k5,G:ym,F:bm,O:I5,P:B5,U:A5}=gi,vp={scale(n,t,e){if(!n)return;let i,s=0,a=n.length;for(;s<a;)switch(i=n[s],i){case S5:case C5:xi(n,t,e,s,1),s+=3;break;case T5:xi(n,t,e,s,3),s+=7;break;case R5:xi(n,t,e,s,2),s+=5;break;case O5:s+=1;break;case P5:xi(n,t,e,s,2),s+=5;break;case L5:xi(n,t,e,s,2),s+=9;break;case k5:xi(n,t,e,s,2),s+=6;break;case ym:xi(n,t,e,s,2),s+=9;break;case bm:xi(n,t,e,s,2),s+=5;break;case I5:n[s]=ym,n.splice(s+4,0,n[s+3],0),xi(n,t,e,s,2),s+=9,a+=2;break;case B5:n[s]=bm,n.splice(s+4,0,n[s+3]),xi(n,t,e,s,2),s+=5,a+=1;break;case A5:xi(n,t,e,s,2),s+=6;break}},scalePoints(n,t,e,i,s){for(let a=s?i+1:0,l=s?a+s*2:n.length;a<l;a+=2)n[a]*=t,n[a+1]*=e}},{scalePoints:xi}=vp,Ld=Ct.get(),{topLeft:M5,top:D5,topRight:$5,right:F5,bottom:N5,left:W5}=zo;function bc(n,t,e){n.pathInputed?wc(n,t,e):(t!==1&&(n.width*=t),e!==1&&(n.height*=e))}function z5(n,t,e){const{app:i}=n,s=i&&i.editor;let a=t;if(s.editing){const u=n.__layout;let{width:h,height:d}=u.boxBounds;switch(h*=e-t,d*=t-e,s.resizeDirection){case D5:case N5:a=e,u.affectScaleOrRotation?n.moveInner(-h/2,0):n.x-=h/2;break;case W5:case F5:u.affectScaleOrRotation?n.moveInner(0,-d/2):n.y-=d/2;break;case M5:case $5:u.affectScaleOrRotation?n.moveInner(0,-d):n.y-=d;break}}n.fontSize*=a;const l=n.__;l.__autoWidth||(n.width*=a),l.__autoHeight||(n.height*=a)}function wc(n,t,e){vp.scale(n.__.path,t,e),n.path=n.__.path}function aw(n,t,e){const{points:i}=n;typeof i[0]=="object"?i.forEach(s=>{s.x*=t,s.y*=e}):vp.scalePoints(i,t,e),n.points=i}function ff(n,t,e){const{children:i}=n;for(let s=0;s<i.length;s++)Ld.a=t,Ld.d=e,i[s].transform(Ld,!0)}const xc=Ws.prototype;xc.scaleResize=function(n,t=n,e){const i=this;e||i.editConfig&&i.editConfig.editSize==="scale"?(i.scaleX*=n,i.scaleY*=t):(n<0&&(i.scaleX*=-1,n=-n),t<0&&(i.scaleY*=-1,t=-t),this.__scaleResize(n,t))};xc.__scaleResize=function(n,t){bc(this,n,t)};xc.resizeWidth=function(n){const t=n/this.getBounds("box","local").width;this.scaleOf(this.__layout.boxBounds,t,this.__.lockRatio?t:1,!0)};xc.resizeHeight=function(n){const t=n/this.getBounds("box","local").height;this.scaleOf(this.__layout.boxBounds,this.__.lockRatio?t:1,t,!0)};se.prototype.__scaleResize=function(n,t){this.__.resizeFontSize||this.editConfig&&this.editConfig.editSize==="font-size"?z5(this,n,t):bc(this,n,t)};Go.prototype.__scaleResize=function(n,t){wc(this,n,t)};Mi.prototype.__scaleResize=function(n,t){this.pathInputed?wc(this,n,t):this.points?aw(this,n,t):this.width*=n};kr.prototype.__scaleResize=function(n,t){this.pathInputed?wc(this,n,t):this.points?aw(this,n,t):bc(this,n,t)};Ke.prototype.__scaleResize=function(n,t){ff(this,n,t)};Ue.prototype.__scaleResize=function(n,t){this.__.__autoSize&&this.children.length?ff(this,n,t):(bc(this,n,t),this.__.resizeChildren&&ff(this,n,t))};function ml(n,t,e,i){var s=arguments.length,a=s<3?t:i,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,t,e,i);else for(var u=n.length-1;u>=0;u--)(l=n[u])&&(a=(s<3?l(a):s>3?l(t,e,a):l(t,e))||a);return s>3&&a&&Object.defineProperty(t,e,a),a}function wm(n){return n?n instanceof Array?n:[n]:[]}class rn extends rr{get list(){return wm(this.value)}get oldList(){return wm(this.oldValue)}constructor(t,e){super(t),e&&Object.assign(this,e)}}rn.SELECT="editor.select";rn.HOVER="editor.hover";class pf extends rn{constructor(t,e){super(t,e)}}pf.MOVE="editor.move";class Ls extends rn{constructor(t,e){super(t,e)}}Ls.SCALE="editor.scale";class gf extends rn{constructor(t,e){super(t,e)}}gf.ROTATE="editor.rotate";class _f extends rn{constructor(t,e){super(t,e)}}_f.SKEW="editor.skew";function mp(n){return(t,e)=>{const i="_"+e;Xn(t,e,{get(){return this[i]},set(s){const a=this[i];a!==s&&(this[i]=s,n(this,a))}})}}const kd=Ct.get(),{abs:Id}=Math,{copy:H5,scale:V5}=Ct;class vf extends Q{constructor(){super(),this.list=[],this.hittable=!1,this.strokeAlign="center"}setTarget(t,e){this.set(e),this.target=t}__draw(t,e){const{list:i}=this;if(i.length){let s;const a=this.__,{stroke:l,strokeWidth:u,fill:h}=a,{bounds:d}=e;for(let p=0;p<i.length;p++){s=i[p];const{worldTransform:v,worldRenderBounds:b}=s;if(d&&d.hit(b,e.matrix)){const _=Id(v.scaleX),m=Id(v.scaleY);if(_!==m){H5(kd,v),V5(kd,1/_,1/m),t.setWorld(kd,e.matrix),t.beginPath(),a.strokeWidth=u;const{x,y:R,width:C,height:L}=s.__layout.boxBounds;t.rect(x*_,R*m,C*_,L*m)}else t.setWorld(v,e.matrix),t.beginPath(),s.__.__useArrow?s.__drawPath(t):s.__.__pathForRender?s.__drawRenderPath(t):s.__drawPathByBox(t),a.strokeWidth=u/Id(v.scaleX);l&&(typeof l=="string"?Te.stroke(l,this,t):Te.strokes(l,this,t)),h&&(typeof h=="string"?Te.fill(h,this,t):Te.fills(h,this,t))}}a.strokeWidth=u}}destroy(){this.target=null,super.destroy()}}ml([mp(U5)],vf.prototype,"target",void 0);function U5(n){const t=n.target;n.list=t?t instanceof Array?t:[t]:[],n.forceUpdate()}class G5 extends Ke{constructor(t){super(t),this.strokeArea=new Ai({strokeAlign:"center"}),this.fillArea=new Ai,this.visible=this.hittable=!1,this.addMany(this.fillArea,this.strokeArea)}setStyle(t,e){const{visible:i,stroke:s,strokeWidth:a}=t;this.visible=i,this.strokeArea.reset(Object.assign({stroke:s,strokeWidth:a},e||{})),this.fillArea.reset({visible:!e,fill:s,opacity:.2})}setBounds(t){this.strokeArea.set(t),this.fillArea.set(t)}}const{No:Bd,Yes:K5,NoAndSkip:xm,YesAndSkip:Em}=tc,lw={findOne(n){return n.list.find(t=>t.editable)},findBounds(n,t){if(n.__.hittable&&n.__.visible&&!n.__.locked&&t.hit(n.__world)){if(n.__.editable){if(n.isBranch&&!n.__.hitChildren)return n.__.hitSelf?Em:xm;if(n.isFrame)return t.includes(n.__layout.boxBounds,n.__world)?Em:Bd;if(t.hit(n.__layout.boxBounds,n.__world)&&n.__.hitSelf)return K5}return Bd}else return n.isBranch?xm:Bd}},{findOne:Ad}=lw;class j5 extends Ke{get dragging(){return!!this.originList}get running(){const{editor:t}=this;return this.hittable&&t.visible&&t.hittable&&t.mergeConfig.selector}get isMoveMode(){return this.app&&this.app.interaction.moveMode}constructor(t){super(),this.hoverStroker=new vf,this.targetStroker=new vf,this.bounds=new pe,this.selectArea=new G5,this.__eventIds=[],this.editor=t,this.addMany(this.targetStroker,this.hoverStroker,this.selectArea),this.__listenEvents()}onHover(){const{editor:t}=this;if(this.running&&!this.dragging&&!t.dragging){const{stroke:e,strokeWidth:i,hover:s,hoverStyle:a}=t.mergeConfig;this.hoverStroker.setTarget(s?this.editor.hoverTarget:null,Object.assign({stroke:e,strokeWidth:i},a||{}))}else this.hoverStroker.target=null}onSelect(){if(this.running){const{mergeConfig:t,list:e}=this.editor,{stroke:i,strokeWidth:s}=t;this.targetStroker.setTarget(e,{stroke:i,strokeWidth:Math.max(1,s/2)}),this.hoverStroker.target=null}}update(){this.targetStroker.target&&this.targetStroker.forceUpdate()}onPointerMove(t){const{app:e,editor:i}=this;if(this.running&&!this.isMoveMode&&e.interaction.canHover&&!e.interaction.dragging){const s=this.findUI(t);i.hoverTarget=i.hasItem(s)?null:s}this.isMoveMode&&(i.hoverTarget=null)}onBeforeDown(t){if(t.multiTouch)return;const{select:e}=this.editor.mergeConfig;e==="press"&&(this.app.config.mobile?this.waitSelect=()=>this.checkAndSelect(t):this.checkAndSelect(t))}onTap(t){if(t.multiTouch)return;const{editor:e}=this,{select:i}=e.mergeConfig;i==="tap"?this.checkAndSelect(t):this.waitSelect&&this.waitSelect(),this.needRemoveItem?e.removeItem(this.needRemoveItem):this.isMoveMode&&(e.target=null)}checkAndSelect(t){if(this.needRemoveItem=null,this.allowSelect(t)){const{editor:e}=this,i=this.findUI(t);i?this.isMultipleSelect(t)?e.hasItem(i)?this.needRemoveItem=i:e.addItem(i):e.target=i:this.allow(t.target)&&(t.shiftKey||(e.target=null))}}onDragStart(t){if(!t.multiTouch&&(this.waitSelect&&this.waitSelect(),this.allowDrag(t))){const{editor:e}=this,{stroke:i,area:s}=e.mergeConfig,{x:a,y:l}=t.getInnerPoint(this);this.bounds.set(a,l),this.selectArea.setStyle({visible:!0,stroke:i,x:a,y:l},s),this.selectArea.setBounds(this.bounds.get()),this.originList=e.leafList.clone()}}onDrag(t){if(!t.multiTouch){if(this.editor.dragging)return this.onDragEnd(t);if(this.dragging){const{editor:e}=this,i=t.getInnerTotal(this),s=this.bounds.clone().unsign(),a=new ae(e.app.find(lw.findBounds,s));if(this.bounds.width=i.x,this.bounds.height=i.y,this.selectArea.setBounds(s.get()),a.length){const l=[];this.originList.forEach(u=>{a.has(u)||l.push(u)}),a.forEach(u=>{this.originList.has(u)||l.push(u)}),(l.length!==e.list.length||e.list.some((u,h)=>u!==l[h]))&&(e.target=l)}else e.target=this.originList.list}}}onDragEnd(t){t.multiTouch||this.dragging&&(this.originList=null,this.selectArea.visible=!1)}onAutoMove(t){if(this.dragging){const{x:e,y:i}=t.getLocalMove(this);this.bounds.x+=e,this.bounds.y+=i}}allow(t){return t.leafer!==this.editor.leafer}allowDrag(t){return this.running&&this.editor.mergeConfig.boxSelect&&!t.target.draggable?!this.editor.editing&&this.allow(t.target)||t.shiftKey&&!Ad(t.path):!1}allowSelect(t){return this.running&&!this.isMoveMode&&!t.middle}findDeepOne(t){const e={exclude:new ae(this.editor.editBox.rect)};return Ad(t.target.leafer.interaction.findPath(t,e))}findUI(t){return this.isMultipleSelect(t)?this.findDeepOne(t):Ad(t.path)}isMultipleSelect(t){return t.shiftKey||this.editor.mergeConfig.continuousSelect}__listenEvents(){const{editor:t}=this;t.waitLeafer(()=>{const{app:e}=t;e.selector.proxy=t,this.__eventIds=[t.on_(rn.HOVER,this.onHover,this),t.on_(rn.SELECT,this.onSelect,this),e.on_(gt.MOVE,this.onPointerMove,this),e.on_(gt.BEFORE_DOWN,this.onBeforeDown,this),e.on_(gt.TAP,this.onTap,this),e.on_(At.START,this.onDragStart,this,!0),e.on_(At.DRAG,this.onDrag,this),e.on_(At.END,this.onDragEnd,this),e.on_(Ve.MOVE,this.onAutoMove,this),e.on_([Pn.ZOOM,Ve.MOVE],()=>{this.editor.hoverTarget=null})]})}__removeListenEvents(){this.__eventIds&&(this.off_(this.__eventIds),this.__eventIds.length=0)}destroy(){this.editor=this.originList=this.needRemoveItem=null,this.__removeListenEvents(),super.destroy()}}const{topLeft:wo,top:Ta,topRight:xo,right:Ra,bottomRight:Eo,bottom:Oa,bottomLeft:So,left:Pa}=zo,{toPoint:Md}=Pr,{within:Sm}=je,Is={getScaleData(n,t,e,i,s,a,l,u){let h,d={},p=1,v=1;const{boxBounds:b,widthRange:_,heightRange:m}=n,{width:x,height:R}=t;a&&(i.x*=2,i.y*=2);const C=n.scaleX/t.scaleX,L=n.scaleY/t.scaleY,A=C<0?-1:1,O=L<0?-1:1,E=u?C:A*b.width/x,M=u?L:O*b.height/R;i.x*=u?C:A,i.y*=u?L:O,Math.abs(i.x)===x&&(i.x+=.1),Math.abs(i.y)===R&&(i.y+=.1);const I=(-i.y+R)/R,U=(i.x+x)/x,tt=(i.y+R)/R,Z=(-i.x+x)/x;switch(e){case Ta:v=I,h="bottom";break;case Ra:p=U,h="left";break;case Oa:v=tt,h="top";break;case Pa:p=Z,h="right";break;case wo:v=I,p=Z,h="bottom-right";break;case xo:v=I,p=U,h="bottom-left";break;case Eo:v=tt,p=U,h="top-left";break;case So:v=tt,p=Z,h="top-right"}if(s&&!(s==="corner"&&e%2)){let Y;switch(e){case Ta:case Oa:Y=v;break;case Pa:case Ra:Y=p;break;default:Y=Math.sqrt(Math.abs(p*v))}p=p<0?-Y:Y,v=v<0?-Y:Y}if(p/=E,v/=M,!l){const{worldTransform:J}=n;p<0&&(p=1/b.width/J.scaleX),v<0&&(v=1/b.height/J.scaleY)}if(_){const J=b.width*n.scaleX;p=Sm(J*p,_)/J}if(m){const J=b.height*n.scaleY;v=Sm(J*v,m)/J}return Md(a||h,b,d,!0),{origin:d,scaleX:p,scaleY:v,direction:e,lockRatio:s,around:a}},getRotateData(n,t,e,i,s){let a,l={};switch(t){case wo:a="bottom-right";break;case xo:a="bottom-left";break;case Eo:a="top-left";break;case So:a="top-right";break;default:a="center"}return Md(s||a,n,l,!0),{origin:l,rotation:Et.getRotation(i,l,e)}},getSkewData(n,t,e,i){let s,a={},l=0,u=0,h;switch(t){case Ta:h={x:.5,y:0},s="bottom",l=1;break;case Oa:h={x:.5,y:1},s="top",l=1;break;case Pa:h={x:0,y:.5},s="right",u=1;break;case Ra:h={x:1,y:.5},s="left",u=1}const{width:d,height:p}=n;h.x=h.x*d,h.y=h.y*p,Md(i||s,n,a,!0);const v=Et.getRotation(h,a,{x:h.x+(l?e.x:0),y:h.y+(u?e.y:0)});return l?l=-v:u=v,{origin:a,skewX:l,skewY:u}},getAround(n,t){return t&&!n?"center":n},getRotateDirection(n,t,e=8){return n=(n+Math.round(t/(360/e)))%e,n<0&&(n+=e),n},getFlipDirection(n,t,e){if(t)switch(n){case Pa:n=Ra;break;case wo:n=xo;break;case So:n=Eo;break;case Ra:n=Pa;break;case xo:n=wo;break;case Eo:n=So;break}if(e)switch(n){case Ta:n=Oa;break;case wo:n=So;break;case xo:n=Eo;break;case Oa:n=Ta;break;case So:n=wo;break;case Eo:n=xo;break}return n}},Dd={};function mf(n,t){const{editBox:e}=n,i=e.enterPoint;if(!i||!n.editing||!e.visible||i.name==="circle")return;if(i.pointType==="button"){i.cursor||(i.cursor="pointer");return}let{rotation:s}=e;const{resizeCursor:a,rotateCursor:l,skewCursor:u,resizeable:h,rotateable:d,skewable:p}=n.mergeConfig,{pointType:v}=i,{flippedX:b,flippedY:_}=e;let m=v==="resize";m&&d&&(t.metaKey||t.ctrlKey||!h)&&(m=!1);const R=p&&!m&&i.name==="resize-line"?u:m?a:l;s+=(Is.getFlipDirection(i.direction,b,_)+1)*45,s=Math.round(je.formatRotation(s,!0)/2)*2;const{url:C,x:L,y:A}=R,O=C+s;Dd[O]?i.cursor=Dd[O]:Dd[O]=i.cursor={url:Y5(C,s),x:L,y:A}}function uw(n){const{moveCursor:t,moveable:e}=n.mergeConfig;n.editBox.rect.cursor=e?t:void 0}function Y5(n,t){return'"data:image/svg+xml,'+encodeURIComponent(n.replace("{{rotation}}",t.toString()))+'"'}class Lu extends Ue{}const Cm=["top","right","bottom","left"];class X5 extends Ke{get flipped(){return this.flippedX||this.flippedY}get flippedX(){return this.scaleX<0}get flippedY(){return this.scaleY<0}get flippedOne(){return this.scaleX*this.scaleY<0}constructor(t){super(),this.view=new Ke,this.rect=new Ue({name:"rect",hitFill:"all",hitStroke:"none",strokeAlign:"center",hitRadius:5}),this.circle=new Lu({name:"circle",strokeAlign:"center",around:"center",cursor:"crosshair",hitRadius:5}),this.buttons=new Ke({around:"center",hitSelf:!1}),this.resizePoints=[],this.rotatePoints=[],this.resizeLines=[],this.__eventIds=[],this.editor=t,this.visible=!1,this.create(),this.__listenEvents()}create(){let t,e,i;const{view:s,resizePoints:a,rotatePoints:l,resizeLines:u,rect:h,circle:d,buttons:p}=this,v=["bottom-right","bottom","bottom-left","left","top-left","top","top-right","right"];for(let b=0;b<8;b++)t=new Lu({name:"rotate-point",around:v[b],width:15,height:15,hitFill:"all"}),l.push(t),this.listenPointEvents(t,"rotate",b),b%2&&(e=new Lu({name:"resize-line",around:"center",width:10,height:10,hitFill:"all"}),u.push(e),this.listenPointEvents(e,"resize",b)),i=new Lu({name:"resize-point",hitRadius:5}),a.push(i),this.listenPointEvents(i,"resize",b);this.listenPointEvents(d,"rotate",2),s.addMany(...l,h,d,p,...u,...a),this.add(s)}load(){const{mergeConfig:t,element:e,single:i}=this.editor,{rect:s,circle:a,resizePoints:l}=this,{stroke:u,strokeWidth:h}=t,d=this.getPointsStyle(),p=this.getMiddlePointsStyle();let v;for(let b=0;b<8;b++)v=l[b],v.set(this.getPointStyle(b%2?p[(b-1)/2%p.length]:d[b/2%d.length])),b%2||(v.rotation=b/2*90);a.set(this.getPointStyle(t.circle||t.rotatePoint||d[0])),s.set(Object.assign({stroke:u,strokeWidth:h},t.rect||{})),s.hittable=!i,s.syncEventer=i&&this.editor,i&&(e.syncEventer=s,this.app.interaction.bottomList=[{target:s,proxy:e}])}update(t){if(this.visible=!this.editor.element.locked,this.view.worldOpacity){const{mergeConfig:e}=this.editor,{width:i,height:s}=t,{rect:a,circle:l,buttons:u,resizePoints:h,rotatePoints:d,resizeLines:p}=this,{middlePoint:v,resizeable:b,rotateable:_,hideOnSmall:m}=e,x=typeof m=="number"?m:10,R=!(m&&i<x&&s<x);let C={},L,A,O;for(let E=0;E<8;E++)Pr.toPoint(Pr.directionData[E],t,C),A=h[E],L=d[E],O=p[Math.floor(E/2)],A.set(C),L.set(C),O.set(C),A.visible=O.visible=R&&!!(b||_),L.visible=R&&_&&b&&!e.rotatePoint,E%2&&(A.visible=L.visible=R&&!!v,(E+1)/2%2?(O.width=i,A.width>i-30&&(A.visible=!1)):(O.height=s,A.rotation=90,A.width>s-30&&(A.visible=!1)));l.visible=R&&_&&!!(e.circle||e.rotatePoint),l.visible&&this.layoutCircle(e),a.path&&(a.path=null),a.set(Object.assign(Object.assign({},t),{visible:!0})),u.visible=R&&u.children.length>0,u.visible&&this.layoutButtons(e)}}layoutCircle(t){const{circleDirection:e,circleMargin:i,buttonsMargin:s,buttonsDirection:a,middlePoint:l}=t,u=Cm.indexOf(e||(this.buttons.children.length&&a==="bottom"?"top":"bottom"));this.setButtonPosition(this.circle,u,i||s,!!l)}layoutButtons(t){const{buttons:e}=this,{buttonsDirection:i,buttonsFixed:s,buttonsMargin:a,middlePoint:l}=t,{flippedX:u,flippedY:h}=this;let d=Cm.indexOf(i);(d%2&&u||(d+1)%2&&h)&&s&&(d=(d+2)%4);const p=s?Is.getRotateDirection(d,this.flippedOne?this.rotation:-this.rotation,4):d;this.setButtonPosition(e,p,a,!!l),s&&(e.rotation=(p-d)*90),e.scaleX=u?-1:1,e.scaleY=h?-1:1}setButtonPosition(t,e,i,s){const a=this.resizePoints[e*2+1],l=e%2,u=!e||e===3?-1:1,h=e%2,d=(i+(h?(s?a.width:0)+t.boxBounds.width:(s?a.height:0)+t.boxBounds.height)/2)*u;l?(t.x=a.x+d,t.y=a.y):(t.x=a.x,t.y=a.y+d)}unload(){this.visible=!1}getPointStyle(t){const{stroke:e,strokeWidth:i,pointFill:s,pointSize:a,pointRadius:l}=this.editor.mergeConfig,u={fill:s,stroke:e,strokeWidth:i,around:"center",strokeAlign:"center",width:a,height:a,cornerRadius:l};return t?Object.assign(u,t):u}getPointsStyle(){const{point:t}=this.editor.mergeConfig;return t instanceof Array?t:[t]}getMiddlePointsStyle(){const{middlePoint:t}=this.editor.mergeConfig;return t instanceof Array?t:t?[t]:this.getPointsStyle()}onSelect(t){t.oldList.length===1&&(t.oldList[0].syncEventer=null,this.app&&(this.app.interaction.bottomList=null))}onDragStart(t){this.dragging=!0;const{editor:e}=this;t.current.name==="rect"?(this.moving=!0,e.dragStartPoint={x:e.element.x,y:e.element.y},e.opacity=e.mergeConfig.hideOnMove?0:1):t.current.pointType==="resize"&&(e.dragStartBounds=Object.assign({},e.element.getLayoutBounds("box","local")),e.resizeDirection=t.current.direction)}onDragEnd(t){this.dragging=!1,this.moving=!1,t.current.name==="rect"&&(this.editor.opacity=1),this.editor.resizeDirection=void 0}onDrag(t){const{editor:e}=this,i=this.enterPoint=t.current;i.pointType==="rotate"||t.metaKey||t.ctrlKey||!e.mergeConfig.resizeable?e.mergeConfig.rotateable&&e.onRotate(t):i.pointType==="resize"&&e.onScale(t),mf(e,t)}onArrow(t){if(this.editor.editing&&this.editor.mergeConfig.keyEvent){const e={x:0,y:0},i=t.shiftKey?10:1;switch(t.code){case"ArrowDown":e.y=i;break;case"ArrowUp":e.y=-i;break;case"ArrowLeft":e.x=-i;break;case"ArrowRight":e.x=i}this.editor.move(e)}}onDoubleTap(t){this.editor.mergeConfig.openInner==="double"&&this.openInner(t)}onLongPress(t){this.editor.mergeConfig.openInner==="long"&&this.openInner(t)}openInner(t){const{editor:e}=this;if(e.single){const{element:i}=e;if(i.isBranch){if(i.textBox){const s=i.children.find(a=>a.editable&&a instanceof se);if(s)return e.openInnerEditor(s)}e.openGroup(i),e.target=e.selector.findDeepOne(t)}else e.openInnerEditor()}}listenPointEvents(t,e,i){const{editor:s}=this;t.direction=i,t.pointType=e,t.on_(At.START,this.onDragStart,this),t.on_(At.DRAG,this.onDrag,this),t.on_(At.END,this.onDragEnd,this),t.on_(gt.LEAVE,()=>this.enterPoint=null),t.name!=="circle"&&t.on_(gt.ENTER,a=>{this.enterPoint=t,mf(s,a)})}__listenEvents(){const{rect:t,editor:e}=this;this.__eventIds=[e.on_(rn.SELECT,this.onSelect,this),t.on_(At.START,this.onDragStart,this),t.on_(At.DRAG,e.onMove,e),t.on_(At.END,this.onDragEnd,this),t.on_(gt.ENTER,()=>uw(e)),t.on_(gt.DOUBLE_TAP,this.onDoubleTap,this),t.on_(gt.LONG_PRESS,this.onLongPress,this)]}__removeListenEvents(){this.off_(this.__eventIds),this.__eventIds.length=0}destroy(){this.editor=null,this.__removeListenEvents(),super.destroy()}}class Z5 extends Q{constructor(t){super(),this.editor=t,this.hittable=!1}__draw(t,e){const{editor:i}=this,{mask:s}=i.mergeConfig;if(s&&i.list.length){const{rect:a}=i.editBox,{width:l,height:u}=a.__;t.resetTransform(),t.fillWorld(t.bounds,s===!0?"rgba(0,0,0,0.8)":s),t.setWorld(a.__world,e.matrix),t.clearRect(0,0,l,u)}}destroy(){this.editor=null,super.destroy()}}const yp=`
<feOffset dy="1"/>
<feGaussianBlur stdDeviation="1.5"/>
<feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0"/>
<feBlend mode="normal" in="SourceGraphic" result="shape"/>`,q5=`
<svg width="24" height="24" xmlns="http://www.w3.org/2000/svg">
<g filter="url(#f)">
<g transform="rotate({{rotation}},12,12)">
<path d="M7.5 8.0H8.5V5.9L6.8 7.2L7.5 8.0ZM3 11.4L2.3 10.6L1.3 11.4L2.3 12.2L3 11.4ZM7.5 10.4H6.5V11.4H7.5V10.4ZM16.5 10.4V11.4H17.5V10.4H16.5ZM16.5 8.0L17.1 7.2L15.5 5.9V8.0H16.5ZM21 11.4L21.6 12.2L22.6 11.4L21.6 10.6L21 11.4ZM16.5 14.9H15.5V16.9L17.1 15.7L16.5 14.9ZM16.5 12.4H17.5V11.4H16.5V12.4ZM7.5 12.4V11.4H6.5V12.4H7.5ZM7.5 14.9L6.8 15.7L8.5 16.9V14.9H7.5ZM6.8 7.2L2.3 10.6L3.6 12.2L8.1 8.7L6.8 7.2ZM8.5 10.4V8.0H6.5V10.4H8.5ZM16.5 9.4H7.5V11.4H16.5V9.4ZM17.5 10.4V8.0H15.5V10.4H17.5ZM15.8 8.7L20.3 12.2L21.6 10.6L17.1 7.2L15.8 8.7ZM20.3 10.6L15.8 14.1L17.1 15.7L21.6 12.2L20.3 10.6ZM17.5 14.9V12.4H15.5V14.9H17.5ZM7.5 13.4H16.5V11.4H7.5V13.4ZM8.5 14.9V12.4H6.5V14.9H8.5ZM2.3 12.2L6.8 15.7L8.1 14.1L3.6 10.6L2.3 12.2Z" fill="white"/>
<path fill-rule="evenodd" d="M3 11.4L7.5 8.0V10.4H16.5V8.0L21 11.4L16.5 14.9V12.4H7.5V14.9L3 11.4Z" fill="black"/>
</g>
</g>
<defs>
<filter id="f" x="-1.6" y="3.9" width="27.2" height="16.9" filterUnits="userSpaceOnUse">
${yp}
</filter>
</defs>
</svg>
`,J5=`
<svg width="24" height="24" xmlns="http://www.w3.org/2000/svg">
<g filter="url(#f)">
<g transform="rotate(135,12,12),rotate({{rotation}},12,12)">
<path d="M20.4 8H21.4L20.8 7.1L17.3 2.6L17 2.1L16.6 2.6L13.1 7.1L12.5 8H13.5H15.4C14.9 11.8 11.8 14.9 8 15.4V13.5V12.5L7.1 13.1L2.6 16.6L2.1 17L2.6 17.3L7.1 20.8L8 21.4V20.4V18.4C13.5 17.9 17.9 13.5 18.4 8H20.4Z" stroke="white"/>
<path fill-rule="evenodd" d="M17 3L20.4 7.5H17.9C17.7 13.1 13.1 17.7 7.5 17.9V20.4L3 17L7.5 13.5V15.9C12.0 15.7 15.7 12.0 15.9 7.5H13.5L17 3Z" fill="black"/>
</g>
</g>
<defs>
<filter id="f" x="-1.6" y="-0.6" width="27.1" height="27.1" filterUnits="userSpaceOnUse">
${yp}
</filter>
</defs>
</svg>
`,Q5=`
<svg width="24" height="24" xmlns="http://www.w3.org/2000/svg">
<g filter="url(#f)">
<g transform="rotate(90,12,12),rotate({{rotation}},12,12)">
<path d="M21 10.4L21 11.4L23.8 11.4L21.6 9.6L21 10.4ZM17 10.4V11.4L17 11.4L17 10.4ZM15.5 6L16.1 5.2L14.5 3.9V6H15.5ZM15.5 8.4V9.4H16.5V8.4H15.5ZM6 8.4V7.4H5V8.4H6ZM6 10.4H5V11.4H6V10.4ZM7 14.4V13.4L7 13.4L7 14.4ZM3 14.4L3 13.4L0.1 13.4L2.3 15.2L3 14.4ZM8.5 18.9L7.8 19.7L9.5 21.0V18.9H8.5ZM8.5 16.4V15.4H7.5V16.4H8.5ZM19 16.4V17.4H20V16.4H19ZM19 14.4H20V13.4H19V14.4ZM21 9.4L17 9.4L17 11.4L21 11.4L21 9.4ZM14.8 6.7L20.3 11.2L21.6 9.6L16.1 5.2L14.8 6.7ZM16.5 8.4V6H14.5V8.4H16.5ZM6 9.4H15.5V7.4H6V9.4ZM7 10.4V8.4H5V10.4H7ZM15.5 9.4H6V11.4H15.5V9.4ZM17 9.4H15.5V11.4H17V9.4ZM7 15.4H8.5V13.4H7V15.4ZM3 15.4L7 15.4L7 13.4L3 13.4L3 15.4ZM9.1 18.1L3.6 13.6L2.3 15.2L7.8 19.7L9.1 18.1ZM7.5 16.4V18.9H9.5V16.4H7.5ZM19 15.4H8.5V17.4H19V15.4ZM18 14.4V16.4H20V14.4H18ZM8.5 15.4H19V13.4H8.5V15.4Z" fill="white"/>
<path fill-rule="evenodd" d="M17 10.4L21 10.4L15.5 6V8.4H6V10.4H15.5H17ZM8.5 14.4H7L3 14.4L8.5 18.9V16.4H19V14.4H8.5Z" fill="black"/>
</g>
</g>
<defs>
<filter x="-2.8" y="1.9" width="29.6" height="23.1" filterUnits="userSpaceOnUse" >
${yp}
</filter>
</defs>
</svg>
`,tF={editSize:"size",keyEvent:!0,stroke:"#836DFF",strokeWidth:2,pointFill:"#FFFFFF",pointSize:10,pointRadius:16,rotateGap:45,buttonsDirection:"bottom",buttonsMargin:12,hideOnSmall:!0,moveCursor:"move",resizeCursor:{url:q5,x:12,y:12},rotateCursor:{url:J5,x:12,y:12},skewCursor:{url:Q5,x:12,y:12},selector:!0,hover:!0,select:"press",openInner:"double",boxSelect:!0,moveable:!0,resizeable:!0,flipable:!0,rotateable:!0,skewable:!0},eF=new pe;function cw(n){const{simulateTarget:t,list:e}=n,{zoomLayer:i}=e[0].leafer.zoomLayer;t.safeChange(()=>t.reset(eF.setListWithFn(e,s=>s.getBounds("box","page")).get())),i.add(t)}function nF(n,t){const{target:e}=n;e?n.leafList=e instanceof ae?e:new ae((e instanceof Array,e)):(n.simulateTarget.remove(),n.leafList.reset(),n.closeInnerEditor()),n.emitEvent(new rn(rn.SELECT,{editor:n,value:e,oldValue:t})),n.checkOpenedGroups(),n.editing?n.waitLeafer(()=>{n.multiple&&cw(n),uw(n),n.updateEditTool(),n.update(),n.listenTargetEvents()}):(n.updateEditTool(),n.removeTargetEvents())}function iF(n,t){n.emitEvent(new rn(rn.HOVER,{editor:n,value:n.hoverTarget,oldValue:t}))}const Tm=(n,t)=>n.parent.children.indexOf(n)-t.parent.children.indexOf(t),Rm=(n,t)=>t.parent.children.indexOf(t)-n.parent.children.indexOf(n),ku={group(n,t,e){n.sort(Rm);const{app:i,parent:s}=n[0];let a;e&&e.add?a=e:a=new Ke(e),s.addAt(a,s.children.indexOf(n[0])),n.sort(Tm);const l=new In(t.worldTransform);return l.divideParent(s.worldTransform),a.setTransform(l),a.editable=!0,a.hitChildren=!1,i.lockLayout(),n.forEach(u=>u.dropTo(a)),i.unlockLayout(),a},ungroup(n){const{app:t}=n[0],e=[];return t.lockLayout(),n.forEach(i=>{if(i.isBranch&&!i.isBranchLeaf){const{parent:s,children:a}=i;for(;a.length;)e.push(a[0]),a[0].dropTo(s,s.children.indexOf(i));i.remove()}else e.push(i)}),t.unlockLayout(),e},toTop(n){n.sort(Tm),n.forEach(t=>{t.parent&&t.parent.add(t)})},toBottom(n){n.sort(Rm),n.forEach(t=>{t.parent&&t.parent.addAt(t,0)})}},rF=te.get("EditToolCreator");function hw(){return n=>{$s.register(n)}}const $s={list:{},register(n){const{tag:t}=n.prototype;$d[t]?rF.repeat(t):$d[t]=n},get(n,t){return new $d[n](t)}},{list:$d}=$s;class wr extends rn{constructor(t,e){super(t,e)}}wr.BEFORE_OPEN="innerEditor.before_open";wr.OPEN="innerEditor.open";wr.BEFORE_CLOSE="innerEditor.before_close";wr.CLOSE="innerEditor.close";class Ti extends rn{constructor(t,e){super(t,e)}}Ti.GROUP="editor.group";Ti.BEFORE_UNGROUP="editor.before_ungroup";Ti.UNGROUP="editor.ungroup";Ti.OPEN="editor.open_group";Ti.CLOSE="editor.close_group";const{updateMatrix:Fd}=An,sF={x:1,y:1,scaleX:1,scaleY:1,rotation:1,skewX:1,skewY:1},La="top-left";class oF extends Ai{get __tag(){return"SimulateElement"}constructor(t){super(),this.checkChange=!0,this.canChange=!0,this.visible=this.hittable=!1,this.on(qi.CHANGE,e=>{if(this.checkChange&&sF[e.attrName]){const{attrName:i,newValue:s,oldValue:a}=e,l=i[0]==="s"?(s||1)/(a||1):(s||0)-(a||0);this.canChange=!1;const u=this.__;u[i]=a,Fd(this.parent),Fd(this);const h=new In(this.__world);switch(u[i]=s,this.__layout.rotationChange(),Fd(this),this.changedTransform=new In(this.__world).divide(h),i){case"x":t.move(l,0);break;case"y":t.move(0,l);break;case"rotation":t.rotateOf(La,l);break;case"scaleX":t.scaleOf(La,l,1);break;case"scaleY":t.scaleOf(La,1,l);break;case"skewX":t.skewOf(La,l,0);break;case"skewY":t.skewOf(La,0,l)}this.canChange=!0}})}safeChange(t){this.canChange&&(this.checkChange=!1,t(),this.checkChange=!0)}}class bp extends Ke{get mergeConfig(){const{element:t,config:e}=this;return this.single&&t.editConfig?Object.assign(Object.assign({},e),t.editConfig):e}get list(){return this.leafList.list}get dragHoverExclude(){return[this.editBox.rect]}get editing(){return!!this.list.length}get groupOpening(){return!!this.openedGroupList.length}get multiple(){return this.list.length>1}get single(){return this.list.length===1}get dragging(){return this.editBox.dragging}get moving(){return this.editBox.moving}get element(){return this.multiple?this.simulateTarget:this.list[0]}get buttons(){return this.editBox.buttons}constructor(t,e){super(e),this.config=Be.clone(tF),this.leafList=new ae,this.openedGroupList=new ae,this.simulateTarget=new oF(this),this.editBox=new X5(this),this.editToolList={},this.selector=new j5(this),this.editMask=new Z5(this),this.targetEventIds=[],t&&(this.config=Be.default(t,this.config)),this.addMany(this.editMask,this.selector,this.editBox)}select(t){this.target=t}cancel(){this.target=null}hasItem(t){return this.leafList.has(t)}addItem(t){!this.hasItem(t)&&!t.locked&&(this.leafList.add(t),this.target=this.leafList.list)}removeItem(t){this.hasItem(t)&&(this.leafList.remove(t),this.target=this.leafList.list)}shiftItem(t){this.hasItem(t)?this.removeItem(t):this.addItem(t)}update(){this.editing&&(this.innerEditing&&this.innerEditor.update(),this.editTool.update(),this.selector.update())}updateEditBox(){this.multiple&&cw(this),this.update()}updateEditTool(){const t=this.editTool;if(t&&(this.editBox.unload(),t.unload(),this.editTool=null),this.editing){const e=this.single?this.list[0].editOuter:"EditTool";this.editTool=this.editToolList[e]=this.editToolList[e]||$s.get(e,this),this.editBox.load(),this.editTool.load()}}getEditSize(t){return this.mergeConfig.editSize}onMove(t){if(t instanceof Ve){if(t.moveType!=="drag"){const{moveable:e,resizeable:i}=this.mergeConfig,s=t.getLocalMove(this.element);e==="move"?(t.stop(),this.move(s.x,s.y)):i==="zoom"&&t.stop()}}else{const e={x:t.totalX,y:t.totalY};t.shiftKey&&(Math.abs(e.x)>Math.abs(e.y)?e.y=0:e.x=0),this.move(At.getValidMove(this.element,this.dragStartPoint,e))}}onScale(t){const{element:e}=this;let{around:i,lockRatio:s,resizeable:a,flipable:l,editSize:u}=this.mergeConfig;if(t instanceof Pn)a==="zoom"&&(t.stop(),this.scaleOf(e.getBoxPoint(t),t.scale,t.scale));else{const{direction:h}=t.current;(t.shiftKey||e.lockRatio)&&(s=!0);const d=Is.getScaleData(e,this.dragStartBounds,h,t.getInnerTotal(e),s,Is.getAround(i,t.altKey),l,this.multiple||u==="scale");this.editTool.onScaleWithDrag?(d.drag=t,this.scaleWithDrag(d)):this.scaleOf(d.origin,d.scaleX,d.scaleY)}}onRotate(t){const{skewable:e,rotateable:i,around:s,rotateGap:a}=this.mergeConfig,{direction:l,name:u}=t.current;if(e&&u==="resize-line")return this.onSkew(t);const{element:h}=this;let d,p;if(t instanceof ci)if(i==="rotate")t.stop(),p=t.rotation,d=h.getBoxPoint(t);else return;else{const v={x:t.x-t.moveX,y:t.y-t.moveY},b=Is.getRotateData(h.boxBounds,l,t.getBoxPoint(h),h.getBoxPoint(v),t.shiftKey?null:h.around||h.origin||s||"center");p=b.rotation,d=b.origin}p=je.getGapRotation(p,a,h.rotation),p&&(h.scaleX*h.scaleY<0&&(p=-p),this.rotateOf(d,je.float(p,2)))}onSkew(t){const{element:e}=this,{around:i}=this.mergeConfig,{origin:s,skewX:a,skewY:l}=Is.getSkewData(e.boxBounds,t.current.direction,t.getInnerMove(e),Is.getAround(i,t.altKey));!a&&!l||this.skewOf(s,a,l)}move(t,e=0){if(!this.checkTransform("moveable"))return;const{element:i}=this,s=i.getWorldPointByLocal(typeof t=="object"?Object.assign({},t):{x:t,y:e},null,!0);this.multiple&&i.safeChange(()=>i.move(t,e));const a=new pf(pf.MOVE,{target:i,editor:this,moveX:s.x,moveY:s.y});this.editTool.onMove(a),this.emitEvent(a)}scaleWithDrag(t){if(!this.checkTransform("resizeable"))return;const{element:e}=this,i=new Ls(Ls.SCALE,Object.assign(Object.assign({},t),{target:e,editor:this,worldOrigin:e.getWorldPoint(t.origin)}));this.editTool.onScaleWithDrag(i),this.emitEvent(i)}scaleOf(t,e,i=e,s){if(!this.checkTransform("resizeable"))return;const{element:a}=this,l=this.getWorldOrigin(t),u=this.multiple&&this.getChangedTransform(()=>a.safeChange(()=>a.scaleOf(t,e,i))),h=new Ls(Ls.SCALE,{target:a,editor:this,worldOrigin:l,scaleX:e,scaleY:i,transform:u});this.editTool.onScale(h),this.emitEvent(h)}flip(t){if(!this.checkTransform("resizeable"))return;const{element:e}=this,i=this.getWorldOrigin("center"),s=this.multiple?this.getChangedTransform(()=>e.safeChange(()=>e.flip(t))):new In(An.getFlipTransform(e,t)),a=new Ls(Ls.SCALE,{target:e,editor:this,worldOrigin:i,scaleX:t==="x"?-1:1,scaleY:t==="y"?-1:1,transform:s});this.editTool.onScale(a),this.emitEvent(a)}rotateOf(t,e){if(!this.checkTransform("rotateable"))return;const{element:i}=this,s=this.getWorldOrigin(t),a=this.multiple&&this.getChangedTransform(()=>i.safeChange(()=>i.rotateOf(t,e))),l=new gf(gf.ROTATE,{target:i,editor:this,worldOrigin:s,rotation:e,transform:a});this.editTool.onRotate(l),this.emitEvent(l)}skewOf(t,e,i=0,s){if(!this.checkTransform("skewable"))return;const{element:a}=this,l=this.getWorldOrigin(t),u=this.multiple&&this.getChangedTransform(()=>a.safeChange(()=>a.skewOf(t,e,i))),h=new _f(_f.SKEW,{target:a,editor:this,worldOrigin:l,skewX:e,skewY:i,transform:u});this.editTool.onSkew(h),this.emitEvent(h)}checkTransform(t){return this.element&&!this.element.locked&&this.mergeConfig[t]}getWorldOrigin(t){return this.element.getWorldPoint(An.getInnerOrigin(this.element,t))}getChangedTransform(t){const{element:e}=this;if(this.multiple&&!e.canChange)return e.changedTransform;const i=new In(e.worldTransform);return t(),new In(e.worldTransform).divide(i)}group(t){return this.multiple&&(this.target=ku.group(this.list,this.element,t),this.emitGroupEvent(Ti.GROUP,this.target)),this.target}ungroup(){const{list:t}=this;return t.length&&(t.forEach(e=>e.isBranch&&this.emitGroupEvent(Ti.BEFORE_UNGROUP,e)),this.target=ku.ungroup(t),t.forEach(e=>e.isBranch&&this.emitGroupEvent(Ti.UNGROUP,e))),this.list}openGroup(t){this.openedGroupList.add(t),t.hitChildren=!0,this.emitGroupEvent(Ti.OPEN,t)}closeGroup(t){this.openedGroupList.remove(t),t.hitChildren=!1,this.emitGroupEvent(Ti.CLOSE,t)}checkOpenedGroups(){const t=this.openedGroupList;if(t.length){let{list:e}=t;this.editing&&(e=[],t.forEach(i=>this.list.every(s=>!An.hasParent(s,i))&&e.push(i))),e.forEach(i=>this.closeGroup(i))}this.editing&&!this.selector.dragging&&this.checkDeepSelect()}checkDeepSelect(){let t,{list:e}=this;for(let i=0;i<e.length;i++)for(t=e[i].parent;t&&!t.hitChildren;)this.openGroup(t),t=t.parent}emitGroupEvent(t,e){const i=new Ti(t,{editTarget:e});this.emitEvent(i),e.emitEvent(i)}openInnerEditor(t,e){if(t&&e&&(this.target=t),this.single){const i=t||this.element,s=i.editInner;s&&$s.list[s]&&(this.editTool.unload(),this.innerEditing=!0,this.innerEditor=this.editToolList[s]||$s.get(s,this),this.innerEditor.editTarget=i,this.emitInnerEvent(wr.BEFORE_OPEN),this.innerEditor.load(),this.emitInnerEvent(wr.OPEN))}}closeInnerEditor(){this.innerEditing&&(this.innerEditing=!1,this.emitInnerEvent(wr.BEFORE_CLOSE),this.innerEditor.unload(),this.emitInnerEvent(wr.CLOSE),this.editTool.load(),this.innerEditor=null)}emitInnerEvent(t){const{innerEditor:e}=this,{editTarget:i}=e,s=new wr(t,{editTarget:i,innerEditor:e});this.emitEvent(s),i.emitEvent(s)}lock(){this.list.forEach(t=>t.locked=!0),this.update()}unlock(){this.list.forEach(t=>t.locked=!1),this.update()}toTop(){this.list.length&&(ku.toTop(this.list),this.leafList.update())}toBottom(){this.list.length&&(ku.toBottom(this.list),this.leafList.update())}listenTargetEvents(){if(!this.targetEventIds.length){const{app:t,leafer:e}=this;this.targetEventIds=[e.on_(Qt.START,this.update,this),t.on_(Qt.CHILD_START,this.forceRender,this),t.on_(Ve.BEFORE_MOVE,this.onMove,this,!0),t.on_(Pn.BEFORE_ZOOM,this.onScale,this,!0),t.on_(ci.BEFORE_ROTATE,this.onRotate,this,!0),t.on_([Li.HOLD,Li.UP],i=>{mf(this,i)}),t.on_(Li.DOWN,this.editBox.onArrow,this.editBox)]}}removeTargetEvents(){const{targetEventIds:t}=this;t.length&&(this.off_(t),t.length=0)}destroy(){this.destroyed||(this.target=this.hoverTarget=null,Object.values(this.editToolList).forEach(t=>t.destroy()),this.simulateTarget.destroy(),this.editToolList={},this.simulateTarget=this.editTool=this.innerEditor=null,super.destroy())}}ml([mp(iF)],bp.prototype,"hoverTarget",void 0);ml([mp(nF)],bp.prototype,"target",void 0);class aF{static registerInnerEditor(){$s.register(this)}get tag(){return"InnerEditor"}get editBox(){return this.editor.editBox}constructor(t){this.editor=t,this.create()}onCreate(){}create(){this.view=new Ke,this.onCreate()}onLoad(){}load(){const{editor:t}=this;t&&(t.app&&(t.selector.hittable=t.app.tree.hitChildren=!1),this.onLoad())}onUpdate(){}update(){this.onUpdate()}onUnload(){}unload(){const{editor:t}=this;t&&(t.app&&(t.selector.hittable=t.app.tree.hitChildren=!0),this.onUnload())}onDestroy(){}destroy(){this.onDestroy(),this.editor&&(this.view&&this.view.destroy(),this.eventIds&&this.editor.off_(this.eventIds),this.editor=this.view=this.eventIds=null)}}let yf=class extends aF{static registerEditTool(){$s.register(this)}get tag(){return"EditTool"}onMove(t){const{moveX:e,moveY:i,editor:s}=t,{app:a,list:l}=s;a.lockLayout(),l.forEach(u=>{u.moveWorld(e,i)}),a.unlockLayout()}onScale(t){const{scaleX:e,scaleY:i,transform:s,worldOrigin:a,editor:l}=t,{app:u,list:h}=l;u.lockLayout(),h.forEach(d=>{const p=l.getEditSize(d)!=="scale";s?d.transformWorld(s,p):d.scaleOfWorld(a,e,i,p)}),u.unlockLayout()}onRotate(t){const{rotation:e,transform:i,worldOrigin:s,editor:a}=t,{app:l,list:u}=a;l.lockLayout(),u.forEach(h=>{const d=a.getEditSize(h)!=="scale";i?h.transformWorld(i,d):h.rotateOfWorld(s,e)}),l.unlockLayout()}onSkew(t){const{skewX:e,skewY:i,transform:s,worldOrigin:a,editor:l}=t,{app:u,list:h}=l;u.lockLayout(),h.forEach(d=>{const p=l.getEditSize(d)!=="scale";s?d.transformWorld(s,p):d.skewOfWorld(a,e,i,p)}),u.unlockLayout()}load(){this.editBox.view.visible=!0,this.onLoad()}update(){const{editor:t,editBox:e}=this,{x:i,y:s,scaleX:a,scaleY:l,rotation:u,skewX:h,skewY:d,width:p,height:v}=t.element.getLayoutBounds("box",t,!0);e.set({x:i,y:s,scaleX:a,scaleY:l,rotation:u,skewX:h,skewY:d}),e.update({x:0,y:0,width:p,height:v}),this.onUpdate()}unload(){this.editBox.view.visible=!1,this.onUnload()}};yf=ml([hw()],yf);const{left:Om,right:lF}=zo,{move:Iu,copy:Bu,toNumberPoints:uF}=Et;let Pm=class extends yf{constructor(){super(...arguments),this.scaleOfEvent=!0}get tag(){return"LineEditTool"}onScaleWithDrag(t){const{drag:e,direction:i,lockRatio:s,around:a}=t,l=t.target,u=i===Om;if(l.pathInputed){const{path:h}=l.__,{from:d,to:p}=this.getFromToByPath(h);this.dragPoint(d,p,u,a,this.getInnerMove(l,e,s)),h[1]=d.x,h[2]=d.y,h[4]=p.x,h[5]=p.y,l.path=h}else if(l.points){const{points:h}=l,{from:d,to:p}=this.getFromToByPoints(h);this.dragPoint(d,p,u,a,this.getInnerMove(l,e,s)),h[0]=d.x,h[1]=d.y,h[2]=p.x,h[3]=p.y,l.points=h}else{const h=op(),{toPoint:d}=l;l.rotation=0,this.dragPoint(h,d,u,a,this.getInnerMove(l,e,s)),l.getLocalPointByInner(h,null,null,!0),l.getLocalPointByInner(d,null,null,!0),l.x=h.x,l.y=h.y,l.getInnerPointByLocal(d,null,null,!0),l.toPoint=d}}getInnerMove(t,e,i){const s=e.getInnerMove(t);return i&&(Math.abs(s.x)>Math.abs(s.y)?s.y=0:s.x=0),s}getFromToByPath(t){return{from:{x:t[1],y:t[2]},to:{x:t[4],y:t[5]}}}getFromToByPoints(t){const e=uF(t);return{from:{x:e[0],y:e[1]},to:{x:e[2],y:e[3]}}}dragPoint(t,e,i,s,a){const{x:l,y:u}=a;i?(Iu(t,l,u),s&&Iu(e,-l,-u)):(s&&Iu(t,-l,-u),Iu(e,l,u))}onSkew(t){}onUpdate(){const{editBox:t}=this,{rotatePoints:e,resizeLines:i,resizePoints:s,rect:a}=t,l=this.editor.element;let u,h;if(l.pathInputed?u=this.getFromToByPath(l.__.path):l.points&&(u=this.getFromToByPoints(l.__.points)),u){const{from:d,to:p}=u;l.innerToWorld(d,d,!1,t),l.innerToWorld(p,p,!1,t),a.pen.clearPath().moveTo(d.x,d.y).lineTo(p.x,p.y),Bu(s[7],d),Bu(e[7],d),Bu(s[3],p),Bu(e[3],p)}for(let d=0;d<8;d++)d<4&&(i[d].visible=!1),h=d===Om||d===lF,s[d].visible=h,e[d].visible=u?!1:h}};Pm=ml([hw()],Pm);Oe.editor=function(n){return new bp(n)};Xn(Q.prototype,"editOuter",{get(){return this.__.__isLinePath?"LineEditTool":"EditTool"}});Xn(Q.prototype,"editInner",{get(){return"PathEditor"}});Xn(se.prototype,"editInner",{get(){return"TextEditor"}});Q.setEditConfig=function(n){Xn(this.prototype,"editConfig",{get(){return typeof n=="function"?n(this):n}})};Q.setEditOuter=function(n){Xn(this.prototype,"editOuter",{get(){return typeof n=="string"?n:n(this)}})};Q.setEditInner=function(n){Xn(this.prototype,"editInner",{get(){return typeof n=="string"?n:n(this)}})};const cF={},hF={xmlns:"http://www.w3.org/2000/svg",height:"200px",width:"200px",viewBox:"0 0 200 200",class:"pencil"};function dF(n,t){return G(),ht("svg",hF,t[0]||(t[0]=[BR('<defs data-v-e9ef1164><clipPath id="pencil-eraser" data-v-e9ef1164><rect height="30" width="30" ry="5" rx="5" data-v-e9ef1164></rect></clipPath></defs><circle transform="rotate(-113,100,100)" stroke-linecap="round" stroke-dashoffset="439.82" stroke-dasharray="439.82 439.82" stroke-width="2" stroke="currentColor" fill="none" r="70" class="pencil__stroke" data-v-e9ef1164></circle><g transform="translate(100,100)" class="pencil__rotate" data-v-e9ef1164><g fill="none" data-v-e9ef1164><circle transform="rotate(-90)" stroke-dashoffset="402" stroke-dasharray="402.12 402.12" stroke-width="30" stroke="hsl(223,90%,50%)" r="64" class="pencil__body1" data-v-e9ef1164></circle><circle transform="rotate(-90)" stroke-dashoffset="465" stroke-dasharray="464.96 464.96" stroke-width="10" stroke="hsl(223,90%,60%)" r="74" class="pencil__body2" data-v-e9ef1164></circle><circle transform="rotate(-90)" stroke-dashoffset="339" stroke-dasharray="339.29 339.29" stroke-width="10" stroke="hsl(223,90%,40%)" r="54" class="pencil__body3" data-v-e9ef1164></circle></g><g transform="rotate(-90) translate(49,0)" class="pencil__eraser" data-v-e9ef1164><g class="pencil__eraser-skew" data-v-e9ef1164><rect height="30" width="30" ry="5" rx="5" fill="hsl(223,90%,70%)" data-v-e9ef1164></rect><rect clip-path="url(#pencil-eraser)" height="30" width="5" fill="hsl(223,90%,60%)" data-v-e9ef1164></rect><rect height="20" width="30" fill="hsl(223,10%,90%)" data-v-e9ef1164></rect><rect height="20" width="15" fill="hsl(223,10%,70%)" data-v-e9ef1164></rect><rect height="20" width="5" fill="hsl(223,10%,80%)" data-v-e9ef1164></rect><rect height="2" width="30" y="6" fill="hsla(223,10%,10%,0.2)" data-v-e9ef1164></rect><rect height="2" width="30" y="13" fill="hsla(223,10%,10%,0.2)" data-v-e9ef1164></rect></g></g><g transform="rotate(-90) translate(49,-30)" class="pencil__point" data-v-e9ef1164><polygon points="15 0,30 30,0 30" fill="hsl(33,90%,70%)" data-v-e9ef1164></polygon><polygon points="15 0,6 30,0 30" fill="hsl(33,90%,50%)" data-v-e9ef1164></polygon><polygon points="15 0,20 10,10 10" fill="hsl(223,10%,10%)" data-v-e9ef1164></polygon></g></g>',3)]))}const fF=as(cF,[["render",dF],["__scopeId","data-v-e9ef1164"]]),Lm=te.get("LeaferCanvas");class dw extends lp{set zIndex(t){const{style:e}=this.view;e.zIndex=t,this.setAbsolute(this.view)}set childIndex(t){const{view:e,parentView:i}=this;if(e&&i){const s=i.children[t];s?(this.setAbsolute(s),i.insertBefore(e,s)):i.appendChild(s)}}init(){const{config:t}=this,e=t.view||t.canvas;e?this.__createViewFrom(e):this.__createView();const{style:i}=this.view;if(i.display||(i.display="block"),this.parentView=this.view.parentElement,this.parentView){const s=this.parentView.style;s.webkitUserSelect=s.userSelect="none"}ut.syncDomFont&&!this.parentView&&(i.display="none",document.body.appendChild(this.view)),this.__createContext(),this.autoLayout||this.resize(t)}set backgroundColor(t){this.view.style.backgroundColor=t}get backgroundColor(){return this.view.style.backgroundColor}set hittable(t){this.view.style.pointerEvents=t?"auto":"none"}get hittable(){return this.view.style.pointerEvents!=="none"}__createView(){this.view=document.createElement("canvas")}__createViewFrom(t){let e=typeof t=="string"?document.getElementById(t):t;if(e)if(e instanceof HTMLCanvasElement)this.view=e;else{let i=e;if(e===window||e===document){const a=document.createElement("div"),{style:l}=a;l.position="absolute",l.top=l.bottom=l.left=l.right="0px",document.body.appendChild(a),i=a}this.__createView();const s=this.view;i.hasChildNodes()&&(this.setAbsolute(s),i.style.position||(i.style.position="relative")),i.appendChild(s)}else Lm.error(`no id: ${t}`),this.__createView()}setAbsolute(t){const{style:e}=t;e.position="absolute",e.top=e.left="0px"}updateViewSize(){const{width:t,height:e,pixelRatio:i}=this,{style:s}=this.view;s.width=t+"px",s.height=e+"px",this.view.width=Math.ceil(t*i),this.view.height=Math.ceil(e*i)}updateClientBounds(){this.clientBounds=this.view.getBoundingClientRect()}startAutoLayout(t,e){if(this.resizeListener=e,t){this.autoBounds=t;try{this.resizeObserver=new ResizeObserver(s=>{this.updateClientBounds();for(const a of s)this.checkAutoBounds(a.contentRect)});const i=this.parentView;i?(this.resizeObserver.observe(i),this.checkAutoBounds(i.getBoundingClientRect())):(this.checkAutoBounds(this.view),Lm.warn("no parent"))}catch{this.imitateResizeObserver()}}else window.addEventListener("resize",()=>{const i=ut.devicePixelRatio;if(this.pixelRatio!==i){const{width:s,height:a}=this;this.emitResize({width:s,height:a,pixelRatio:i})}})}imitateResizeObserver(){this.autoLayout&&(this.parentView&&this.checkAutoBounds(this.parentView.getBoundingClientRect()),ut.requestRender(this.imitateResizeObserver.bind(this)))}checkAutoBounds(t){const e=this.view,{x:i,y:s,width:a,height:l}=this.autoBounds.getBoundsFrom(t),u={width:a,height:l,pixelRatio:ut.devicePixelRatio};if(!this.isSameSize(u)){const{style:h}=e;h.marginLeft=i+"px",h.marginTop=s+"px",this.emitResize(u)}}stopAutoLayout(){this.autoLayout=!1,this.resizeListener=null,this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null)}emitResize(t){const e={};Be.copyAttrs(e,this,Xi),this.resize(t),this.resizeListener&&this.width!==void 0&&this.resizeListener(new Lr(t,e))}unrealCanvas(){if(!this.unreal&&this.parentView){const t=this.view;t&&t.remove(),this.view=this.parentView,this.unreal=!0}}destroy(){if(this.view){if(this.stopAutoLayout(),!this.unreal){const t=this.view;t.parentElement&&t.remove()}super.destroy()}}}Wb(CanvasRenderingContext2D.prototype);Wb(Path2D.prototype);const{mineType:Nd,fileType:pF}=Tr;Object.assign(Oe,{canvas:(n,t)=>new dw(n,t),image:n=>new zb(n)});function gF(n,t){ut.origin={createCanvas(e,i){const s=document.createElement("canvas");return s.width=e,s.height=i,s},canvasToDataURL:(e,i,s)=>e.toDataURL(Nd(i),s),canvasToBolb:(e,i,s)=>new Promise(a=>e.toBlob(a,Nd(i),s)),canvasSaveAs:(e,i,s)=>{const a=e.toDataURL(Nd(pF(i)),s);return ut.origin.download(a,i)},download(e,i){return new Promise(s=>{let a=document.createElement("a");a.href=e,a.download=i,document.body.appendChild(a),a.click(),document.body.removeChild(a),s()})},loadImage(e){return new Promise((i,s)=>{const a=new Image,{crossOrigin:l}=ut.image;l&&(a.setAttribute("crossOrigin",l),a.crossOrigin=l),a.onload=()=>{i(a)},a.onerror=u=>{s(u)},a.src=ut.image.getRealURL(e)})}},ut.event={stopDefault(e){e.preventDefault()},stopNow(e){e.stopImmediatePropagation()},stop(e){e.stopPropagation()}},ut.canvas=Oe.canvas(),ut.conicGradientSupport=!!ut.canvas.context.createConicGradient}ut.name="web";ut.isMobile="ontouchstart"in window;ut.requestRender=function(n){window.requestAnimationFrame(n)};Xn(ut,"devicePixelRatio",{get(){return Math.max(1,devicePixelRatio)}});const{userAgent:Bo}=navigator;Bo.indexOf("Firefox")>-1?(ut.conicGradientRotate90=!0,ut.intWheelDeltaY=!0,ut.syncDomFont=!0):Bo.indexOf("Safari")>-1&&Bo.indexOf("Chrome")===-1&&(ut.fullImageShadow=!0);Bo.indexOf("Windows")>-1?(ut.os="Windows",ut.intWheelDeltaY=!0):Bo.indexOf("Mac")>-1?ut.os="Mac":Bo.indexOf("Linux")>-1&&(ut.os="Linux");class _F{get childrenChanged(){return this.hasAdd||this.hasRemove||this.hasVisible}get updatedList(){if(this.hasRemove){const t=new ae;return this.__updatedList.list.forEach(e=>{e.leafer&&t.add(e)}),t}else return this.__updatedList}constructor(t,e){this.totalTimes=0,this.config={},this.__updatedList=new ae,this.target=t,e&&(this.config=Be.default(e,this.config)),this.__listenEvents()}start(){this.disabled||(this.running=!0)}stop(){this.running=!1}disable(){this.stop(),this.__removeListenEvents(),this.disabled=!0}update(){this.changed=!0,this.running&&this.target.emit(Qt.REQUEST)}__onAttrChange(t){this.__updatedList.add(t.target),this.update()}__onChildEvent(t){t.type===Pe.ADD?(this.hasAdd=!0,this.__pushChild(t.child)):(this.hasRemove=!0,this.__updatedList.add(t.parent)),this.update()}__pushChild(t){this.__updatedList.add(t),t.isBranch&&this.__loopChildren(t)}__loopChildren(t){const{children:e}=t;for(let i=0,s=e.length;i<s;i++)this.__pushChild(e[i])}__onRquestData(){this.target.emitEvent(new is(is.DATA,{updatedList:this.updatedList})),this.__updatedList=new ae,this.totalTimes++,this.changed=!1,this.hasVisible=!1,this.hasRemove=!1,this.hasAdd=!1}__listenEvents(){const{target:t}=this;this.__eventIds=[t.on_(qi.CHANGE,this.__onAttrChange,this),t.on_([Pe.ADD,Pe.REMOVE],this.__onChildEvent,this),t.on_(is.REQUEST,this.__onRquestData,this)]}__removeListenEvents(){this.target.off_(this.__eventIds)}destroy(){this.target&&(this.stop(),this.__removeListenEvents(),this.target=null,this.__updatedList=null)}}const{updateAllMatrix:vF,updateBounds:km,updateAllWorldOpacity:mF}=An,{pushAllChildBranch:yF,pushAllParent:Im}=pl;function bF(n,t){let e;n.list.forEach(i=>{e=i.__layout,t.without(i)&&!e.proxyZoom&&(e.matrixChanged?(vF(i,!0),t.add(i),i.isBranch&&yF(i,t),Im(i,t)):e.boundsChanged&&(t.add(i),i.isBranch&&(i.__tempNumber=0),Im(i,t)))})}function wF(n){let t,e,i;n.sort(!0),n.levels.forEach(s=>{t=n.levelMap[s];for(let a=0,l=t.length;a<l;a++){if(e=t[a],e.isBranch&&e.__tempNumber){i=e.children;for(let u=0,h=i.length;u<h;u++)i[u].isBranch||km(i[u])}km(e)}})}function xF(n){let t;n.list.forEach(e=>{t=e.__layout,t.opacityChanged&&mF(e),t.stateStyleChanged&&setTimeout(()=>t.stateStyleChanged&&e.updateState()),e.__updateChange()})}const{worldBounds:Bm}=vc,EF={x:0,y:0,width:1e5,height:1e5};class Am{constructor(t){this.updatedBounds=new pe,this.beforeBounds=new pe,this.afterBounds=new pe,t instanceof Array&&(t=new ae(t)),this.updatedList=t}setBefore(){this.beforeBounds.setListWithFn(this.updatedList.list,Bm)}setAfter(){const{list:t}=this.updatedList;t.some(e=>e.noBounds)?this.afterBounds.set(EF):this.afterBounds.setListWithFn(t,Bm),this.updatedBounds.setList([this.beforeBounds,this.afterBounds])}merge(t){this.updatedList.addList(t.updatedList.list),this.beforeBounds.add(t.beforeBounds),this.afterBounds.add(t.afterBounds),this.updatedBounds.add(t.updatedBounds)}destroy(){this.updatedList=null}}const{updateAllMatrix:SF,updateAllChange:CF}=An,Wd=te.get("Layouter");class Ec{constructor(t,e){this.totalTimes=0,this.config={},this.__levelList=new l$,this.target=t,e&&(this.config=Be.default(e,this.config)),this.__listenEvents()}start(){this.disabled||(this.running=!0)}stop(){this.running=!1}disable(){this.stop(),this.__removeListenEvents(),this.disabled=!0}layout(){if(!this.running)return;const{target:t}=this;this.times=0;try{t.emit(Jt.START),this.layoutOnce(),t.emitEvent(new Jt(Jt.END,this.layoutedBlocks,this.times))}catch(e){Wd.error(e)}this.layoutedBlocks=null}layoutAgain(){this.layouting?this.waitAgain=!0:this.layoutOnce()}layoutOnce(){if(this.layouting)return Wd.warn("layouting");if(this.times>3)return Wd.warn("layout max times");this.times++,this.totalTimes++,this.layouting=!0,this.target.emit(is.REQUEST),this.totalTimes>1?this.partLayout():this.fullLayout(),this.layouting=!1,this.waitAgain&&(this.waitAgain=!1,this.layoutOnce())}partLayout(){var t;if(!(!((t=this.__updatedList)===null||t===void 0)&&t.length))return;const e=Oi.start("PartLayout"),{target:i,__updatedList:s}=this,{BEFORE:a,LAYOUT:l,AFTER:u}=Jt,h=this.getBlocks(s);h.forEach(d=>d.setBefore()),i.emitEvent(new Jt(a,h,this.times)),this.extraBlock=null,s.sort(),bF(s,this.__levelList),wF(this.__levelList),xF(s),this.extraBlock&&h.push(this.extraBlock),h.forEach(d=>d.setAfter()),i.emitEvent(new Jt(l,h,this.times)),i.emitEvent(new Jt(u,h,this.times)),this.addBlocks(h),this.__levelList.reset(),this.__updatedList=null,Oi.end(e)}fullLayout(){const t=Oi.start("FullLayout"),{target:e}=this,{BEFORE:i,LAYOUT:s,AFTER:a}=Jt,l=this.getBlocks(new ae(e));e.emitEvent(new Jt(i,l,this.times)),Ec.fullLayout(e),l.forEach(u=>{u.setAfter()}),e.emitEvent(new Jt(s,l,this.times)),e.emitEvent(new Jt(a,l,this.times)),this.addBlocks(l),Oi.end(t)}static fullLayout(t){SF(t,!0),t.isBranch?pl.updateBounds(t):An.updateBounds(t),CF(t)}addExtra(t){if(!this.__updatedList.has(t)){const{updatedList:e,beforeBounds:i}=this.extraBlock||(this.extraBlock=new Am([]));e.length?i.add(t.__world):i.set(t.__world),e.add(t)}}createBlock(t){return new Am(t)}getBlocks(t){return[this.createBlock(t)]}addBlocks(t){this.layoutedBlocks?this.layoutedBlocks.push(...t):this.layoutedBlocks=t}__onReceiveWatchData(t){this.__updatedList=t.data.updatedList}__listenEvents(){const{target:t}=this;this.__eventIds=[t.on_(Jt.REQUEST,this.layout,this),t.on_(Jt.AGAIN,this.layoutAgain,this),t.on_(is.DATA,this.__onReceiveWatchData,this)]}__removeListenEvents(){this.target.off_(this.__eventIds)}destroy(){this.target&&(this.stop(),this.__removeListenEvents(),this.target=this.config=null)}}const Cs=te.get("Renderer");class TF{get needFill(){return!!(!this.canvas.allowBackgroundColor&&this.config.fill)}constructor(t,e,i){this.FPS=60,this.totalTimes=0,this.times=0,this.config={usePartRender:!0,maxFPS:60},this.target=t,this.canvas=e,i&&(this.config=Be.default(i,this.config)),this.__listenEvents(),this.__requestRender()}start(){this.running=!0}stop(){this.running=!1}update(){this.changed=!0}requestLayout(){this.target.emit(Jt.REQUEST)}render(t){if(!(this.running&&this.canvas.view)){this.changed=!0;return}const{target:e}=this;this.times=0,this.totalBounds=new pe,Cs.log(e.innerName,"--->");try{e.app.emit(Qt.CHILD_START,e),this.emitRender(Qt.START),this.renderOnce(t),this.emitRender(Qt.END,this.totalBounds),Bn.clearRecycled()}catch(i){this.rendering=!1,Cs.error(i)}Cs.log("-------------|")}renderAgain(){this.rendering?this.waitAgain=!0:this.renderOnce()}renderOnce(t){if(this.rendering)return Cs.warn("rendering");if(this.times>3)return Cs.warn("render max times");if(this.times++,this.totalTimes++,this.rendering=!0,this.changed=!1,this.renderBounds=new pe,this.renderOptions={},t)this.emitRender(Qt.BEFORE),t();else{if(this.requestLayout(),this.ignore){this.ignore=this.rendering=!1;return}this.emitRender(Qt.BEFORE),this.config.usePartRender&&this.totalTimes>1?this.partRender():this.fullRender()}this.emitRender(Qt.RENDER,this.renderBounds,this.renderOptions),this.emitRender(Qt.AFTER,this.renderBounds,this.renderOptions),this.updateBlocks=null,this.rendering=!1,this.waitAgain&&(this.waitAgain=!1,this.renderOnce())}partRender(){const{canvas:t,updateBlocks:e}=this;if(!e)return Cs.warn("PartRender: need update attr");this.mergeBlocks(),e.forEach(i=>{t.bounds.hit(i)&&!i.isEmpty()&&this.clipRender(i)})}clipRender(t){const e=Oi.start("PartRender"),{canvas:i}=this,s=t.getIntersect(i.bounds),a=t.includes(this.target.__world),l=new pe(s);i.save(),a&&!te.showRepaint?i.clear():(s.spread(10+1/this.canvas.pixelRatio).ceil(),i.clearWorld(s,!0),i.clipWorld(s,!0)),this.__render(s,a,l),i.restore(),Oi.end(e)}fullRender(){const t=Oi.start("FullRender"),{canvas:e}=this;e.save(),e.clear(),this.__render(e.bounds,!0),e.restore(),Oi.end(t)}__render(t,e,i){const s=t.includes(this.target.__world)?{includes:e}:{bounds:t,includes:e};this.needFill&&this.canvas.fillWorld(t,this.config.fill),te.showRepaint&&this.canvas.strokeWorld(t,"red"),this.target.__render(this.canvas,s),this.renderBounds=i=i||t,this.renderOptions=s,this.totalBounds.isEmpty()?this.totalBounds=i:this.totalBounds.add(i),te.showHitView&&this.renderHitView(s),te.showBoundsView&&this.renderBoundsView(s),this.canvas.updateRender(i)}renderHitView(t){}renderBoundsView(t){}addBlock(t){this.updateBlocks||(this.updateBlocks=[]),this.updateBlocks.push(t)}mergeBlocks(){const{updateBlocks:t}=this;if(t){const e=new pe;e.setList(t),t.length=0,t.push(e)}}__requestRender(){const t=Date.now();ut.requestRender(()=>{this.FPS=Math.min(60,Math.ceil(1e3/(Date.now()-t))),this.running&&(this.changed&&this.canvas.view&&this.render(),this.target.emit(Qt.NEXT)),this.target&&this.__requestRender()})}__onResize(t){if(!this.canvas.unreal){if(t.bigger||!t.samePixelRatio){const{width:e,height:i}=t.old;if(!new pe(0,0,e,i).includes(this.target.__world)||this.needFill||!t.samePixelRatio){this.addBlock(this.canvas.bounds),this.target.forceUpdate("surface");return}}this.addBlock(new pe(0,0,1,1)),this.changed=!0}}__onLayoutEnd(t){t.data&&t.data.map(e=>{let i;e.updatedList&&e.updatedList.list.some(s=>(i=!s.__world.width||!s.__world.height,i&&(s.isLeafer||Cs.tip(s.innerName,": empty"),i=!s.isBranch||s.isBranchLeaf),i)),this.addBlock(i?this.canvas.bounds:e.updatedBounds)})}emitRender(t,e,i){this.target.emitEvent(new Qt(t,this.times,e,i))}__listenEvents(){const{target:t}=this;this.__eventIds=[t.on_(Qt.REQUEST,this.update,this),t.on_(Jt.END,this.__onLayoutEnd,this),t.on_(Qt.AGAIN,this.renderAgain,this),t.on_(Lr.RESIZE,this.__onResize,this)]}__removeListenEvents(){this.target.off_(this.__eventIds)}destroy(){this.target&&(this.stop(),this.__removeListenEvents(),this.target=this.canvas=this.config=null)}}const{hitRadiusPoint:RF}=_t;class OF{constructor(t,e){this.target=t,this.selector=e}getByPoint(t,e,i){e||(e=0),i||(i={});const s=i.through||!1,a=i.ignoreHittable||!1,l=i.target||this.target;this.exclude=i.exclude||null,this.point={x:t.x,y:t.y,radiusX:e,radiusY:e},this.findList=new ae(i.findList),i.findList||this.hitBranch(l);const{list:u}=this.findList,h=this.getBestMatchLeaf(u,i.bottomList,a),d=a?this.getPath(h):this.getHitablePath(h);return this.clear(),s?{path:d,target:h,throughPath:u.length?this.getThroughPath(u):d}:{path:d,target:h}}getBestMatchLeaf(t,e,i){if(t.length){let s;this.findList=new ae;const{x:a,y:l}=this.point,u={x:a,y:l,radiusX:0,radiusY:0};for(let h=0,d=t.length;h<d;h++)if(s=t[h],(i||An.worldHittable(s))&&(this.hitChild(s,u),this.findList.length))return this.findList.list[0]}if(e){for(let s=0,a=e.length;s<a;s++)if(this.hitChild(e[s].target,this.point,e[s].proxy),this.findList.length)return this.findList.list[0]}return t[0]}getPath(t){const e=new ae;for(;t;)e.add(t),t=t.parent;return this.target&&e.add(this.target),e}getHitablePath(t){const e=this.getPath(t&&t.hittable?t:null);let i,s=new ae;for(let a=e.list.length-1;a>-1&&(i=e.list[a],!(!i.__.hittable||(s.addAt(i,0),!i.__.hitChildren)));a--);return s}getThroughPath(t){const e=new ae,i=[];for(let u=t.length-1;u>-1;u--)i.push(this.getPath(t[u]));let s,a,l;for(let u=0,h=i.length;u<h;u++){s=i[u],a=i[u+1];for(let d=0,p=s.length;d<p&&(l=s.list[d],!(a&&a.has(l)));d++)e.add(l)}return e}hitBranch(t){this.eachFind(t.children,t.__onlyHitMask)}eachFind(t,e){let i,s;const{point:a}=this,l=t.length;for(let u=l-1;u>-1;u--)i=t[u],!(!i.__.visible||e&&!i.__.mask)&&(s=i.__.hitRadius?!0:RF(i.__world,a),i.isBranch?(s||i.__ignoreHitWorld)&&(this.eachFind(i.children,i.__onlyHitMask),i.isBranchLeaf&&this.hitChild(i,a)):s&&this.hitChild(i,a))}hitChild(t,e,i){if(!(this.exclude&&this.exclude.has(t))&&t.__hitWorld(e)){const{parent:s}=t;if(s&&s.__hasMask&&!t.__.mask&&!s.children.some(a=>a.__.mask&&a.__hitWorld(e)))return;this.findList.add(i||t)}}clear(){this.point=null,this.findList=null,this.exclude=null}destroy(){this.clear()}}const{Yes:PF,NoAndSkip:LF,YesAndSkip:kF}=tc,Mm={},Dm={},$m={};class IF{constructor(t,e){this.config={},this.innerIdMap={},this.idMap={},this.methods={id:(i,s)=>i.id===s?(this.target&&(this.idMap[s]=i),1):0,innerId:(i,s)=>i.innerId===s?(this.target&&(this.innerIdMap[s]=i),1):0,className:(i,s)=>i.className===s?1:0,tag:(i,s)=>i.__tag===s?1:0,tags:(i,s)=>s[i.__tag]?1:0},this.target=t,e&&(this.config=Be.default(e,this.config)),this.picker=new OF(t,this),t&&this.__listenEvents()}getBy(t,e,i,s){switch(typeof t){case"number":const a=this.getByInnerId(t,e);return i?a:a?[a]:[];case"string":switch(t[0]){case"#":Mm.id=t.substring(1),t=Mm;break;case".":Dm.className=t.substring(1),t=Dm;break;default:$m.tag=t,t=$m}case"object":if(t.id!==void 0){const l=this.getById(t.id,e);return i?l:l?[l]:[]}else if(t.tag){const{tag:l}=t,u=l instanceof Array;return this.getByMethod(u?this.methods.tags:this.methods.tag,e,i,u?Be.toMap(l):l)}else return this.getByMethod(this.methods.className,e,i,t.className);case"function":return this.getByMethod(t,e,i,s)}}getByPoint(t,e,i){return ut.name==="node"&&this.target&&this.target.emit(Jt.CHECK_UPDATE),this.picker.getByPoint(t,e,i)}getByInnerId(t,e){const i=this.innerIdMap[t];return i||(this.eachFind(this.toChildren(e),this.methods.innerId,null,t),this.findLeaf)}getById(t,e){const i=this.idMap[t];return i&&An.hasParent(i,e||this.target)?i:(this.eachFind(this.toChildren(e),this.methods.id,null,t),this.findLeaf)}getByClassName(t,e){return this.getByMethod(this.methods.className,e,!1,t)}getByTag(t,e){return this.getByMethod(this.methods.tag,e,!1,t)}getByMethod(t,e,i,s){const a=i?null:[];return this.eachFind(this.toChildren(e),t,a,s),a||this.findLeaf}eachFind(t,e,i,s){let a,l;for(let u=0,h=t.length;u<h;u++){if(a=t[u],l=e(a,s),l===PF||l===kF)if(i)i.push(a);else{this.findLeaf=a;return}a.isBranch&&l<LF&&this.eachFind(a.children,e,i,s)}}toChildren(t){return this.findLeaf=null,[t||this.target]}__onRemoveChild(t){const{id:e,innerId:i}=t.child;this.idMap[e]&&delete this.idMap[e],this.innerIdMap[i]&&delete this.innerIdMap[i]}__checkIdChange(t){if(t.attrName==="id"){const e=t.oldValue;this.idMap[e]&&delete this.idMap[e]}}__listenEvents(){this.__eventIds=[this.target.on_(Pe.REMOVE,this.__onRemoveChild,this),this.target.on_(qi.CHANGE,this.__checkIdChange,this)]}__removeListenEvents(){this.target.off_(this.__eventIds),this.__eventIds.length=0}destroy(){this.__eventIds.length&&(this.__removeListenEvents(),this.picker.destroy(),this.findLeaf=null,this.innerIdMap={},this.idMap={})}}Object.assign(Oe,{watcher:(n,t)=>new _F(n,t),layouter:(n,t)=>new Ec(n,t),renderer:(n,t,e)=>new TF(n,t,e),selector:(n,t)=>new IF(n,t)});ut.layout=Ec.fullLayout;const Tn={convert(n,t){const e=ki.getBase(n),i=Object.assign(Object.assign({},e),{x:t.x,y:t.y,width:n.width,height:n.height,pointerType:n.pointerType,pressure:n.pressure});return i.pointerType==="pen"&&(i.tangentialPressure=n.tangentialPressure,i.tiltX=n.tiltX,i.tiltY=n.tiltY,i.twist=n.twist),i},convertMouse(n,t){const e=ki.getBase(n);return Object.assign(Object.assign({},e),{x:t.x,y:t.y,width:1,height:1,pointerType:"mouse",pressure:.5})},convertTouch(n,t){const e=Tn.getTouch(n),i=ki.getBase(n);return Object.assign(Object.assign({},i),{x:t.x,y:t.y,width:1,height:1,pointerType:"touch",multiTouch:n.touches.length>1,pressure:e.force})},getTouch(n){return n.targetTouches[0]||n.changedTouches[0]}},Fm={getMove(n,t){let{moveSpeed:e}=t,{deltaX:i,deltaY:s}=n;return n.shiftKey&&!i&&(i=s,s=0),i>50&&(i=Math.max(50,i/3)),s>50&&(s=Math.max(50,s/3)),{x:-i*e*2,y:-s*e*2}},getScale(n,t){let e,i=1,{zoomMode:s,zoomSpeed:a}=t;const l=n.deltaY||n.deltaX;if(s?(e=s==="mouse"?!0:!n.deltaX&&(ut.intWheelDeltaY?Math.abs(l)>17:Math.ceil(l)!==l),(n.shiftKey||n.metaKey||n.ctrlKey)&&(e=!0)):e=!n.shiftKey&&(n.metaKey||n.ctrlKey),e){a=je.within(a,0,1);const u=n.deltaY?t.delta.y:t.delta.x;i=1-l/(u*4)*a,i<.5&&(i=.5),i>=1.5&&(i=1.5)}return i}},Nm={convert(n){const t=ki.getBase(n);return Object.assign(Object.assign({},t),{code:n.code,key:n.key})}},{getMoveEventData:BF,getZoomEventData:Wm,getRotateEventData:AF,pathCanDrag:MF}=ki;class DF extends v5{__listenEvents(){super.__listenEvents();const t=this.view=this.canvas.view;this.viewEvents={pointerdown:this.onPointerDown,mousedown:this.onMouseDown,touchstart:this.onTouchStart,contextmenu:this.onContextMenu,wheel:this.onWheel,gesturestart:this.onGesturestart,gesturechange:this.onGesturechange,gestureend:this.onGestureend},this.windowEvents={pointermove:this.onPointerMove,pointerup:this.onPointerUp,pointercancel:this.onPointerCancel,mousemove:this.onMouseMove,mouseup:this.onMouseUp,touchmove:this.onTouchMove,touchend:this.onTouchEnd,touchcancel:this.onTouchCancel,keydown:this.onKeyDown,keyup:this.onKeyUp,scroll:this.onScroll};const{viewEvents:e,windowEvents:i}=this;for(let s in e)e[s]=e[s].bind(this),t.addEventListener(s,e[s]);for(let s in i)i[s]=i[s].bind(this),window.addEventListener(s,i[s])}__removeListenEvents(){super.__removeListenEvents();const{viewEvents:t,windowEvents:e}=this;for(let i in t)this.view.removeEventListener(i,t[i]),this.viewEvents={};for(let i in e)window.removeEventListener(i,e[i]),this.windowEvents={}}getTouches(t){const e=[];for(let i=0,s=t.length;i<s;i++)e.push(t[i]);return e}preventDefaultPointer(t){const{pointer:e}=this.config;e.preventDefault&&t.preventDefault()}preventDefaultWheel(t){const{wheel:e}=this.config;e.preventDefault&&t.preventDefault()}preventWindowPointer(t){return!this.downData&&t.target!==this.view}onKeyDown(t){this.keyDown(Nm.convert(t))}onKeyUp(t){this.keyUp(Nm.convert(t))}onContextMenu(t){this.config.pointer.preventDefaultMenu&&t.preventDefault(),this.menu(Tn.convert(t,this.getLocal(t)))}onScroll(){this.canvas.updateClientBounds()}onPointerDown(t){this.preventDefaultPointer(t),!(this.config.pointer.touch||this.useMultiTouch)&&(this.usePointer||(this.usePointer=!0),this.pointerDown(Tn.convert(t,this.getLocal(t))))}onPointerMove(t){this.config.pointer.touch||this.useMultiTouch||this.preventWindowPointer(t)||(this.usePointer||(this.usePointer=!0),this.pointerMove(Tn.convert(t,this.getLocal(t,!0))))}onPointerUp(t){this.downData&&this.preventDefaultPointer(t),!(this.config.pointer.touch||this.useMultiTouch||this.preventWindowPointer(t))&&this.pointerUp(Tn.convert(t,this.getLocal(t)))}onPointerCancel(){this.useMultiTouch||this.pointerCancel()}onMouseDown(t){this.preventDefaultPointer(t),!(this.useTouch||this.usePointer)&&this.pointerDown(Tn.convertMouse(t,this.getLocal(t)))}onMouseMove(t){this.useTouch||this.usePointer||this.preventWindowPointer(t)||this.pointerMove(Tn.convertMouse(t,this.getLocal(t,!0)))}onMouseUp(t){this.downData&&this.preventDefaultPointer(t),!(this.useTouch||this.usePointer||this.preventWindowPointer(t))&&this.pointerUp(Tn.convertMouse(t,this.getLocal(t)))}onMouseCancel(){this.useTouch||this.usePointer||this.pointerCancel()}onTouchStart(t){const e=Tn.getTouch(t),i=this.getLocal(e,!0),{preventDefault:s}=this.config.touch;(s===!0||s==="auto"&&MF(this.findPath(i)))&&t.preventDefault(),this.multiTouchStart(t),!this.usePointer&&(this.touchTimer&&(window.clearTimeout(this.touchTimer),this.touchTimer=0),this.useTouch=!0,this.pointerDown(Tn.convertTouch(t,i)))}onTouchMove(t){if(this.multiTouchMove(t),this.usePointer||this.preventWindowPointer(t))return;const e=Tn.getTouch(t);this.pointerMove(Tn.convertTouch(t,this.getLocal(e)))}onTouchEnd(t){if(this.multiTouchEnd(),this.usePointer||this.preventWindowPointer(t))return;this.touchTimer&&clearTimeout(this.touchTimer),this.touchTimer=setTimeout(()=>{this.useTouch=!1},500);const e=Tn.getTouch(t);this.pointerUp(Tn.convertTouch(t,this.getLocal(e)))}onTouchCancel(){this.usePointer||this.pointerCancel()}multiTouchStart(t){this.useMultiTouch=t.touches.length>1,this.touches=this.useMultiTouch?this.getTouches(t.touches):void 0,this.useMultiTouch&&this.pointerCancel()}multiTouchMove(t){if(this.useMultiTouch&&t.touches.length>1){const e=this.getTouches(t.touches),i=this.getKeepTouchList(this.touches,e);i.length>1&&(this.multiTouch(ki.getBase(t),i),this.touches=e)}}multiTouchEnd(){this.touches=null,this.useMultiTouch=!1,this.transformEnd()}getKeepTouchList(t,e){let i;const s=[];return t.forEach(a=>{i=e.find(l=>l.identifier===a.identifier),i&&s.push({from:this.getLocal(a),to:this.getLocal(i)})}),s}getLocalTouchs(t){return t.map(e=>this.getLocal(e))}onWheel(t){this.preventDefaultWheel(t);const{wheel:e}=this.config;if(e.disabled)return;const i=e.getScale?e.getScale(t,e):Fm.getScale(t,e),s=this.getLocal(t),a=ki.getBase(t);i!==1?this.zoom(Wm(s,i,a)):this.move(BF(s,e.getMove?e.getMove(t,e):Fm.getMove(t,e),a))}onGesturestart(t){this.useMultiTouch||(this.preventDefaultWheel(t),this.lastGestureScale=1,this.lastGestureRotation=0)}onGesturechange(t){if(this.useMultiTouch)return;this.preventDefaultWheel(t);const e=this.getLocal(t),i=ki.getBase(t),s=t.scale/this.lastGestureScale,a=t.rotation-this.lastGestureRotation;let{rotateSpeed:l}=this.config.wheel;l=je.within(l,0,1),this.zoom(Wm(e,s*s,i)),this.rotate(AF(e,a/Math.PI*180*(l/4+.1),i)),this.lastGestureScale=t.scale,this.lastGestureRotation=t.rotation}onGestureend(t){this.useMultiTouch||(this.preventDefaultWheel(t),this.transformEnd())}setCursor(t){super.setCursor(t);const e=[];this.eachCursor(t,e),typeof e[e.length-1]=="object"&&e.push("default"),this.canvas.view.style.cursor=e.map(i=>typeof i=="object"?`url(${i.url}) ${i.x||0} ${i.y||0}`:i).join(",")}eachCursor(t,e,i=0){if(i++,t instanceof Array)t.forEach(s=>this.eachCursor(s,e,i));else{const s=typeof t=="string"&&ew.get(t);s&&i<2?this.eachCursor(s,e,i):e.push(t)}}destroy(){this.view&&(super.destroy(),this.view=null,this.touches=null)}}function Ao(n,t){let e;const{rows:i,decorationY:s,decorationHeight:a}=n.__.__textDrawData;for(let l=0,u=i.length;l<u;l++)e=i[l],e.text?t.fillText(e.text,e.x,e.y):e.data&&e.data.forEach(h=>{t.fillText(h.char,h.x,e.y)}),s&&t.fillRect(e.x,e.y+s,e.width,a)}function $F(n,t,e){e.fillStyle=n,t.__.__font?Ao(t,e):t.__.windingRule?e.fill(t.__.windingRule):e.fill()}function FF(n,t,e){let i;const{windingRule:s,__font:a}=t.__;for(let l=0,u=n.length;l<u;l++)i=n[l],!(i.image&&Hs.checkImage(t,e,i,!a))&&i.style&&(e.fillStyle=i.style,i.transform?(e.save(),e.transform(i.transform),i.blendMode&&(e.blendMode=i.blendMode),a?Ao(t,e):s?e.fill(s):e.fill(),e.restore()):i.blendMode?(e.saveBlendMode(i.blendMode),a?Ao(t,e):s?e.fill(s):e.fill(),e.restoreBlendMode()):a?Ao(t,e):s?e.fill(s):e.fill())}function wp(n,t,e){const{strokeAlign:i}=t.__,s=typeof n!="string";switch(i){case"center":e.setStroke(s?void 0:n,t.__.strokeWidth,t.__),s?Ka(n,!0,t,e):rl(t,e);break;case"inside":zm("inside",n,s,t,e);break;case"outside":zm("outside",n,s,t,e);break}}function zm(n,t,e,i,s){const{__strokeWidth:a,__font:l}=i.__,u=s.getSameCanvas(!0,!0);u.setStroke(e?void 0:t,a*2,i.__),u.font=l,e?Ka(t,!0,i,u):rl(i,u),u.blendMode=n==="outside"?"destination-out":"destination-in",Ao(i,u),u.blendMode="normal",i.__worldFlipped?s.copyWorldByReset(u,i.__nowWorld):s.copyWorldToInner(u,i.__nowWorld,i.__layout.renderBounds),u.recycle(i.__nowWorld)}function rl(n,t){let e;const{rows:i,decorationY:s,decorationHeight:a}=n.__.__textDrawData;for(let l=0,u=i.length;l<u;l++)e=i[l],e.text?t.strokeText(e.text,e.x,e.y):e.data&&e.data.forEach(h=>{t.strokeText(h.char,h.x,e.y)}),s&&t.strokeRect(e.x,e.y+s,e.width,a)}function Ka(n,t,e,i){let s;for(let a=0,l=n.length;a<l;a++)s=n[a],!(s.image&&Hs.checkImage(e,i,s,!1))&&s.style&&(i.strokeStyle=s.style,s.blendMode?(i.saveBlendMode(s.blendMode),t?rl(e,i):i.stroke(),i.restoreBlendMode()):t?rl(e,i):i.stroke())}function NF(n,t,e){const i=t.__,{__strokeWidth:s,strokeAlign:a,__font:l}=i;if(s)if(l)wp(n,t,e);else switch(a){case"center":e.setStroke(n,s,i),e.stroke();break;case"inside":e.save(),e.setStroke(n,s*2,i),i.windingRule?e.clip(i.windingRule):e.clip(),e.stroke(),e.restore();break;case"outside":const u=e.getSameCanvas(!0,!0);u.setStroke(n,s*2,i),t.__drawRenderPath(u),u.stroke(),i.windingRule?u.clip(i.windingRule):u.clip(),u.clearWorld(t.__layout.renderBounds),t.__worldFlipped?e.copyWorldByReset(u,t.__nowWorld):e.copyWorldToInner(u,t.__nowWorld,t.__layout.renderBounds),u.recycle(t.__nowWorld);break}}function WF(n,t,e){const i=t.__,{__strokeWidth:s,strokeAlign:a,__font:l}=i;if(s)if(l)wp(n,t,e);else switch(a){case"center":e.setStroke(void 0,s,i),Ka(n,!1,t,e);break;case"inside":e.save(),e.setStroke(void 0,s*2,i),i.windingRule?e.clip(i.windingRule):e.clip(),Ka(n,!1,t,e),e.restore();break;case"outside":const{renderBounds:u}=t.__layout,h=e.getSameCanvas(!0,!0);t.__drawRenderPath(h),h.setStroke(void 0,s*2,i),Ka(n,!1,t,h),i.windingRule?h.clip(i.windingRule):h.clip(),h.clearWorld(u),t.__worldFlipped?e.copyWorldByReset(h,t.__nowWorld):e.copyWorldToInner(h,t.__nowWorld,u),h.recycle(t.__nowWorld);break}}const{getSpread:zF,getOuterOf:HF,getByMove:VF,getIntersectData:UF}=_t;function GF(n,t,e){const i=t.getSameCanvas(),s=n.__nowWorld;let a,l,u,h,{scaleX:d,scaleY:p}=s;if(d<0&&(d=-d),p<0&&(p=-p),t.bounds.includes(s))h=i,a=u=s;else{const{renderShapeSpread:v}=n.__layout,b=UF(v?zF(t.bounds,d===p?v*d:[v*p,v*d]):t.bounds,s);l=t.bounds.getFitMatrix(b);let{a:_,d:m}=l;if(l.a<1&&(h=t.getSameCanvas(),n.__renderShape(h,e),d*=_,p*=m),u=HF(s,l),a=VF(u,-l.e,-l.f),e.matrix){const{matrix:x}=e;l.multiply(x),_*=x.scaleX,m*=x.scaleY}e=Object.assign(Object.assign({},e),{matrix:l.withScale(_,m)})}return n.__renderShape(i,e),{canvas:i,matrix:l,bounds:a,worldCanvas:h,shapeBounds:u,scaleX:d,scaleY:p}}let bf;function KF(n,t){const e=t.__,i=[];let s=e.__input[n],a;s instanceof Array||(s=[s]),bf=Hs.recycleImage(n,e);for(let l=0,u=s.length,h;l<u;l++)h=jF(n,s[l],t),h&&i.push(h);e["_"+n]=i.length?i:void 0,i.length&&i[0].image&&(a=i[0].image.hasOpacityPixel),n==="fill"?e.__pixelFill=a:e.__pixelStroke=a}function jF(n,t,e){if(typeof t!="object"||t.visible===!1||t.opacity===0)return;const{boxBounds:i}=e.__layout;switch(t.type){case"solid":let{type:s,blendMode:a,color:l,opacity:u}=t;return{type:s,blendMode:a,style:zs.string(l,u)};case"image":return Hs.image(e,n,t,i,!bf||!bf[t.url]);case"linear":return Hu.linearGradient(t,i);case"radial":return Hu.radialGradient(t,i);case"angular":return Hu.conicGradient(t,i);default:return t.r!==void 0?{type:"solid",style:zs.string(t)}:void 0}}const YF={compute:KF,fill:$F,fills:FF,fillText:Ao,stroke:NF,strokes:WF,strokeText:wp,drawTextStroke:rl,shape:GF};let ka={};const{get:xp,rotateOfOuter:fw,translate:Oo,scaleOfOuter:XF,scale:pw,rotate:gw}=Ct;function _w(n,t,e,i,s,a,l){const u=xp();Oo(u,t.x+e,t.y+i),pw(u,s,a),l&&fw(u,{x:t.x+t.width/2,y:t.y+t.height/2},l),n.transform=u}function vw(n,t,e,i,s,a,l){const u=xp();Oo(u,t.x+e,t.y+i),s&&pw(u,s,a),l&&gw(u,l),n.transform=u}function mw(n,t,e,i,s,a,l,u,h,d){const p=xp();if(h)if(d==="center")fw(p,{x:e/2,y:i/2},h);else switch(gw(p,h),h){case 90:Oo(p,i,0);break;case 180:Oo(p,e,i);break;case 270:Oo(p,0,e);break}ka.x=t.x+s,ka.y=t.y+a,Oo(p,ka.x,ka.y),l&&XF(p,ka,l,u),n.transform=p}const{get:ZF,translate:qF}=Ct,JF=new pe,zd={},Hd={};function yw(n,t,e,i){const{blendMode:s,sync:a}=e;s&&(n.blendMode=s),a&&(n.sync=a),n.data=bw(e,i,t)}function bw(n,t,e){let{width:i,height:s}=e;n.padding&&(t=JF.set(t).shrink(n.padding)),n.mode==="strench"&&(n.mode="stretch");const{opacity:a,mode:l,align:u,offset:h,scale:d,size:p,rotation:v,repeat:b}=n,_=t.width===i&&t.height===s,m={mode:l},x=u!=="center"&&(v||0)%180===90,R=x?s:i,C=x?i:s;let L=0,A=0,O,E;if(!l||l==="cover"||l==="fit"){if(!_||v){const M=t.width/R,I=t.height/C;O=E=l==="fit"?Math.min(M,I):Math.max(M,I),L+=(t.width-i*O)/2,A+=(t.height-s*E)/2}}else(d||p)&&(je.getScaleData(d,p,e,Hd),O=Hd.scaleX,E=Hd.scaleY);if(u){const M={x:L,y:A,width:R,height:C};O&&(M.width*=O,M.height*=E),AM.toPoint(u,M,t,zd,!0),L+=zd.x,A+=zd.y}switch(h&&(L+=h.x,A+=h.y),l){case"stretch":_||(i=t.width,s=t.height);break;case"normal":case"clip":(L||A||O||v)&&vw(m,t,L,A,O,E,v);break;case"repeat":(!_||O||v)&&mw(m,t,i,s,L,A,O,E,v,u),b||(m.repeat="repeat");break;case"fit":case"cover":default:O&&_w(m,t,L,A,O,E,v)}return m.transform||(t.x||t.y)&&(m.transform=ZF(),qF(m.transform,t.x,t.y)),O&&l!=="stretch"&&(m.scaleX=O,m.scaleY=E),m.width=i,m.height=s,a&&(m.opacity=a),b&&(m.repeat=typeof b=="string"?b==="x"?"repeat-x":"repeat-y":"repeat"),m}let Ia,QF=new pe;const{isSame:t6}=_t;function e6(n,t,e,i,s){let a,l;const u=Bn.get(e);return Ia&&e===Ia.paint&&t6(i,Ia.boxBounds)?a=Ia.leafPaint:(a={type:e.type,image:u},Ia=u.use>1?{leafPaint:a,paint:e,boxBounds:QF.set(i)}:null),(s||u.loading)&&(l={image:u,attrName:t,attrValue:e}),u.ready?(Hm(n,t,e,u,a,i),s&&(Vm(n,l),Um(n,l))):u.error?s&&Gm(n,l,u.error):(s&&(Vd(n,!0),Vm(n,l)),a.loadId=u.load(()=>{Vd(n,!1),n.destroyed||(Hm(n,t,e,u,a,i)&&(u.hasOpacityPixel&&(n.__layout.hitCanvasChanged=!0),n.forceUpdate("surface")),Um(n,l)),a.loadId=null},h=>{Vd(n,!1),Gm(n,l,h),a.loadId=null})),a}function Hm(n,t,e,i,s,a){if(t==="fill"&&!n.__.__naturalWidth){const l=n.__;if(l.__naturalWidth=i.width/l.pixelRatio,l.__naturalHeight=i.height/l.pixelRatio,l.__autoSide)return n.forceUpdate("width"),n.__proxyData&&(n.setProxyAttr("width",l.width),n.setProxyAttr("height",l.height)),!1}return s.data||yw(s,i,e,a),!0}function Vm(n,t){Ep(n,nr.LOAD,t)}function Um(n,t){Ep(n,nr.LOADED,t)}function Gm(n,t,e){t.error=e,n.forceUpdate("surface"),Ep(n,nr.ERROR,t)}function Ep(n,t,e){n.hasEvent(t)&&n.emitEvent(new nr(t,e))}function Vd(n,t){const{leafer:e}=n;e&&e.viewReady&&(e.renderer.ignore=t)}const{get:Km,scale:jm,copy:Ym}=Ct,{ceil:Xm,abs:Zm}=Math;function wf(n,t,e){let{scaleX:i,scaleY:s}=Bn.patternLocked?n.__world:n.__nowWorld;const a=i+"-"+s+"-"+e;if(t.patternId!==a&&!n.destroyed){i=Zm(i),s=Zm(s);const{image:l,data:u}=t;let h,d,{width:p,height:v,scaleX:b,scaleY:_,opacity:m,transform:x,repeat:R}=u;b&&(d=Km(),Ym(d,x),jm(d,1/b,1/_),i*=b,s*=_),i*=e,s*=e,p*=i,v*=s;const C=p*v;if(!R&&C>ut.image.maxCacheSize)return!1;let L=ut.image.maxPatternSize;if(!l.isSVG){const E=l.width*l.height;L>E&&(L=E)}C>L&&(h=Math.sqrt(C/L)),h&&(i/=h,s/=h,p/=h,v/=h),b&&(i/=b,s/=_),(x||i!==1||s!==1)&&(d||(d=Km(),x&&Ym(d,x)),jm(d,1/i,1/s));const A=l.getCanvas(Xm(p)||1,Xm(v)||1,m),O=l.getPattern(A,R||ut.origin.noRepeat||"no-repeat",d,t);return t.style=O,t.patternId=a,!0}else return!1}function Sp(n,t,e,i){function s(a){return a instanceof e?a:new e(function(l){l(a)})}return new(e||(e=Promise))(function(a,l){function u(p){try{d(i.next(p))}catch(v){l(v)}}function h(p){try{d(i.throw(p))}catch(v){l(v)}}function d(p){p.done?a(p.value):s(p.value).then(u,h)}d((i=i.apply(n,[])).next())})}const{abs:qm}=Math;function n6(n,t,e,i){const{scaleX:s,scaleY:a}=Bn.patternLocked?n.__world:n.__nowWorld,{pixelRatio:l}=t;if(!e.data||e.patternId===s+"-"+a+"-"+l&&!Io.running)return!1;{const{data:u}=e;if(i)if(u.repeat)i=!1;else{let{width:h,height:d}=u;h*=qm(s)*l,d*=qm(a)*l,u.scaleX&&(h*=u.scaleX,d*=u.scaleY),i=h*d>ut.image.maxCacheSize||Io.running}return i?(t.save(),n.windingRule?t.clip(n.windingRule):t.clip(),e.blendMode&&(t.blendMode=e.blendMode),u.opacity&&(t.opacity*=u.opacity),u.transform&&t.transform(u.transform),t.drawImage(e.image.view,0,0,u.width,u.height),t.restore(),!0):(!e.style||e.sync||Io.running?wf(n,e,l):e.patternTask||(e.patternTask=Bn.patternTasker.add(()=>Sp(this,void 0,void 0,function*(){e.patternTask=null,t.bounds.hit(n.__nowWorld)&&wf(n,e,l),n.forceUpdate("surface")}),300)),!1)}}function i6(n,t){const e=t["_"+n];if(e instanceof Array){let i,s,a,l;for(let u=0,h=e.length;u<h;u++)i=e[u].image,l=i&&i.url,l&&(s||(s={}),s[l]=!0,Bn.recycle(i),i.loading&&(a||(a=t.__input&&t.__input[n]||[],a instanceof Array||(a=[a])),i.unload(e[u].loadId,!a.some(d=>d.url===l))));return s}return null}const r6={image:e6,checkImage:n6,createPattern:wf,recycleImage:i6,createData:yw,getPatternData:bw,fillOrFitMode:_w,clipMode:vw,repeatMode:mw},{toPoint:Jm}=Pr,Ud={},Gd={};function s6(n,t){let{from:e,to:i,type:s,blendMode:a,opacity:l}=n;Jm(e||"top",t,Ud),Jm(i||"bottom",t,Gd);const u=ut.canvas.createLinearGradient(Ud.x,Ud.y,Gd.x,Gd.y);Cp(u,n.stops,l);const h={type:s,style:u};return a&&(h.blendMode=a),h}function Cp(n,t,e){if(t){let i;for(let s=0,a=t.length;s<a;s++)i=t[s],typeof i=="string"?n.addColorStop(s/(a-1),zs.string(i,e)):n.addColorStop(i.offset,zs.string(i.color,e))}}const{getAngle:o6,getDistance:a6}=Et,{get:l6,rotateOfOuter:Qm,scaleOfOuter:ty}=Ct,{toPoint:ey}=Pr,Ts={},Kd={};function u6(n,t){let{from:e,to:i,type:s,opacity:a,blendMode:l,stretch:u}=n;ey(e||"center",t,Ts),ey(i||"bottom",t,Kd);const h=ut.canvas.createRadialGradient(Ts.x,Ts.y,0,Ts.x,Ts.y,a6(Ts,Kd));Cp(h,n.stops,a);const d={type:s,style:h},p=Tp(t,Ts,Kd,u,!0);return p&&(d.transform=p),l&&(d.blendMode=l),d}function Tp(n,t,e,i,s){let a;const{width:l,height:u}=n;if(l!==u||i){const h=o6(t,e);a=l6(),s?(ty(a,t,l/u*(i||1),1),Qm(a,t,h+90)):(ty(a,t,1,l/u*(i||1)),Qm(a,t,h))}return a}const{getDistance:c6}=Et,{toPoint:ny}=Pr,yr={},jd={};function h6(n,t){let{from:e,to:i,type:s,opacity:a,blendMode:l,stretch:u}=n;ny(e||"center",t,yr),ny(i||"bottom",t,jd);const h=ut.conicGradientSupport?ut.canvas.createConicGradient(0,yr.x,yr.y):ut.canvas.createRadialGradient(yr.x,yr.y,0,yr.x,yr.y,c6(yr,jd));Cp(h,n.stops,a);const d={type:s,style:h},p=Tp(t,yr,jd,u||1,ut.conicGradientRotate90);return p&&(d.transform=p),l&&(d.blendMode=l),d}const d6={linearGradient:s6,radialGradient:u6,conicGradient:h6,getTransform:Tp},{copy:iy,toOffsetOutBounds:f6}=_t,Cn={},Au={};function p6(n,t,e){let i,s;const{__nowWorld:a,__layout:l}=n,{shadow:u}=n.__,{worldCanvas:h,bounds:d,shapeBounds:p,scaleX:v,scaleY:b}=e,_=t.getSameCanvas(),m=u.length-1;f6(d,Au),u.forEach((x,R)=>{_.setWorldShadow(Au.offsetX+x.x*v,Au.offsetY+x.y*b,x.blur*v,x.color),s=x.spread?1+x.spread*2/(l.boxBounds.width+(l.strokeBoxSpread||0)*2):0,ww(_,Au,s,e),i=d,x.box&&(_.restore(),_.save(),h&&(_.copyWorld(_,d,a,"copy"),i=a),h?_.copyWorld(h,a,a,"destination-out"):_.copyWorld(e.canvas,p,d,"destination-out")),n.__worldFlipped?t.copyWorldByReset(_,i,a,x.blendMode):t.copyWorldToInner(_,i,l.renderBounds,x.blendMode),m&&R<m&&_.clearWorld(i,!0)}),_.recycle(i)}function ww(n,t,e,i){const{bounds:s,shapeBounds:a}=i;if(ut.fullImageShadow){if(iy(Cn,n.bounds),Cn.x+=t.x-a.x,Cn.y+=t.y-a.y,e){const{matrix:l}=i;Cn.x-=(s.x+(l?l.e:0)+s.width/2)*(e-1),Cn.y-=(s.y+(l?l.f:0)+s.height/2)*(e-1),Cn.width*=e,Cn.height*=e}n.copyWorld(i.canvas,n.bounds,Cn)}else e&&(iy(Cn,t),Cn.x-=t.width/2*(e-1),Cn.y-=t.height/2*(e-1),Cn.width*=e,Cn.height*=e),n.copyWorld(i.canvas,a,e?Cn:t)}const{toOffsetOutBounds:g6}=_t,Mu={};function _6(n,t,e){let i,s;const{__nowWorld:a,__layout:l}=n,{innerShadow:u}=n.__,{worldCanvas:h,bounds:d,shapeBounds:p,scaleX:v,scaleY:b}=e,_=t.getSameCanvas(),m=u.length-1;g6(d,Mu),u.forEach((x,R)=>{_.save(),_.setWorldShadow(Mu.offsetX+x.x*v,Mu.offsetY+x.y*b,x.blur*v),s=x.spread?1-x.spread*2/(l.boxBounds.width+(l.strokeBoxSpread||0)*2):0,ww(_,Mu,s,e),_.restore(),h?(_.copyWorld(_,d,a,"copy"),_.copyWorld(h,a,a,"source-out"),i=a):(_.copyWorld(e.canvas,p,d,"source-out"),i=d),_.fillWorld(i,x.color,"source-in"),n.__worldFlipped?t.copyWorldByReset(_,i,a,x.blendMode):t.copyWorldToInner(_,i,l.renderBounds,x.blendMode),m&&R<m&&_.clearWorld(i,!0)}),_.recycle(i)}function v6(n,t,e){const{blur:i}=n.__;e.setWorldBlur(i*n.__nowWorld.a),e.copyWorldToInner(t,n.__nowWorld,n.__layout.renderBounds),e.filter="none"}function m6(n,t,e){}const y6={shadow:p6,innerShadow:_6,blur:v6,backgroundBlur:m6},{excludeRenderBounds:b6}=vc;Ke.prototype.__renderMask=function(n,t){let e,i,s,a,l;const{children:u}=this;for(let h=0,d=u.length;h<d;h++)e=u[h],!(e.__.mask&&(l&&(ry(this,l,n,s,i,a),i=s=null),e.__.mask==="path"?(e.opacity<1?(l="opacity-path",a=e.opacity,s||(s=Yd(n))):(l="path",n.save()),e.__clip(s||n,t)):(l="alpha",i||(i=Yd(n)),s||(s=Yd(n)),e.__render(i,t)),e.__.mask!=="clipping"))&&(b6(e,t)||e.__render(s||n,t));ry(this,l,n,s,i,a)};function ry(n,t,e,i,s,a){switch(t){case"alpha":w6(n,e,i,s);break;case"opacity-path":xw(n,e,i,a);break;case"path":e.restore()}}function Yd(n){return n.getSameCanvas(!1,!0)}function w6(n,t,e,i){const s=n.__nowWorld;e.resetTransform(),e.opacity=1,e.useMask(i,s),i.recycle(s),xw(n,t,e,1)}function xw(n,t,e,i){const s=n.__nowWorld;t.resetTransform(),t.opacity=i,t.copyWorld(e,s),e.recycle(s)}const x6="",E6="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789abcdefghijklmnopqrstuvwxyz",S6=""+x6,C6="",T6="",R6="",O6=`{[(<'"`+S6,Ew=`>)]}%!?,.:;'"`+C6,P6=Ew+"_#~&*+\\=|"+T6,L6="- "+R6,k6=[[19968,40959],[13312,19903],[131072,173791],[173824,177983],[177984,178207],[178208,183983],[183984,191471],[196608,201551],[201552,205743],[11904,12031],[12032,12255],[12272,12287],[12288,12351],[12736,12783],[12800,13055],[13056,13311],[63744,64255],[65072,65103],[127488,127743],[194560,195103]],I6=new RegExp(k6.map(([n,t])=>`[\\u${n.toString(16)}-\\u${t.toString(16)}]`).join("|"));function yl(n){const t={};return n.split("").forEach(e=>t[e]=!0),t}const B6=yl(E6),A6=yl(O6),M6=yl(Ew),D6=yl(P6),$6=yl(L6);var ic;(function(n){n[n.Letter=0]="Letter",n[n.Single=1]="Single",n[n.Before=2]="Before",n[n.After=3]="After",n[n.Symbol=4]="Symbol",n[n.Break=5]="Break"})(ic||(ic={}));const{Letter:sy,Single:F6,Before:N6,After:W6,Symbol:z6,Break:H6}=ic;function V6(n){return B6[n]?sy:$6[n]?H6:A6[n]?N6:M6[n]?W6:D6[n]?z6:I6.test(n)?F6:sy}const U6={trimRight(n){const{words:t}=n;let e=0,i=t.length,s;for(let a=i-1;a>-1&&(s=t[a].data[0],s.char===" ");a--)e++,n.width-=s.width;e&&t.splice(i-e,e)}};function G6(n,t,e){switch(t){case"title":return e?n.toUpperCase():n;case"upper":return n.toUpperCase();case"lower":return n.toLowerCase();default:return n}}const{trimRight:K6}=U6,{Letter:Xd,Single:Ba,Before:oy,After:Zd,Symbol:j6,Break:ay}=ic;let ja,Yi,_n,Rn,qd,Ei,br,sl,Ko,ai,jr,Jd,Aa,Po,ol,Ro=[],Uu,xf;function Y6(n,t,e){ol=n,Ro=n.rows,Uu=n.bounds,xf=!Uu.width&&!e.autoSizeAlign;const{__letterSpacing:i,paraIndent:s,textCase:a}=e,{canvas:l}=ut,{width:u,height:h}=Uu;if(u||h||i||a!=="none"){const p=e.textWrap!=="none",v=e.textWrap==="break";Po=!0,jr=null,sl=br=Ko=_n=Rn=0,ja={data:[]},Yi={words:[]};for(let b=0,_=t.length;b<_;b++)Ei=t[b],Ei===`
`?(_n&&Rs(),Yi.paraEnd=!0,Ma(),Po=!0):(ai=V6(Ei),ai===Xd&&a!=="none"&&(Ei=G6(Ei,a,!_n)),br=l.measureText(Ei).width,i&&(i<0&&(Ko=br),br+=i),Jd=ai===Ba&&(jr===Ba||jr===Xd)||jr===Ba&&ai!==Zd,Aa=(ai===oy||ai===Ba)&&(jr===j6||jr===Zd),qd=Po&&s?u-s:u,p&&u&&Rn+_n+br>qd&&(v?(_n&&Rs(),Rn&&Ma()):(Aa||(Aa=ai===Xd&&jr==Zd),(Jd||Aa||ai===ay||ai===oy||ai===Ba||_n+br>qd)&&_n&&Rs(),Rn&&Ma())),Ei===" "&&Po!==!0&&Rn+_n===0||(ai===ay?(Ei===" "&&_n&&Rs(),Qd(Ei,br),Rs()):((Jd||Aa)&&_n&&Rs(),Qd(Ei,br))),jr=ai);_n&&Rs(),Rn&&Ma(),Ro.length>0&&(Ro[Ro.length-1].paraEnd=!0)}else t.split(`
`).forEach(p=>{ol.paraNumber++,Rn=l.measureText(p).width,Ro.push({x:s||0,text:p,width:Rn,paraStart:!0}),xf&&Sw()})}function Qd(n,t){Ko&&!sl&&(sl=Ko),ja.data.push({char:n,width:t}),_n+=t}function Rs(){Rn+=_n,ja.width=_n,Yi.words.push(ja),ja={data:[]},_n=0}function Ma(){Po&&(ol.paraNumber++,Yi.paraStart=!0,Po=!1),Ko&&(Yi.startCharSize=sl,Yi.endCharSize=Ko,sl=0),Yi.width=Rn,Uu.width?K6(Yi):xf&&Sw(),Ro.push(Yi),Yi={words:[]},Rn=0}function Sw(){Rn>(ol.maxWidth||0)&&(ol.maxWidth=Rn)}const X6=0,ly=1,uy=2;function Z6(n,t,e,i){const{rows:s}=n,{textAlign:a,paraIndent:l,letterSpacing:u}=t;let h,d,p,v,b;s.forEach(_=>{_.words&&(p=l&&_.paraStart?l:0,d=e&&a==="justify"&&_.words.length>1?(e-_.width-p)/(_.words.length-1):0,v=u||_.isOverflow?X6:d>.01?ly:uy,_.isOverflow&&!u&&(_.textMode=!0),v===uy?(_.x+=p,q6(_)):(_.x+=p,h=_.x,_.data=[],_.words.forEach(m=>{v===ly?(b={char:"",x:h},h=J6(m.data,h,b),(_.isOverflow||b.char!==" ")&&_.data.push(b)):h=Q6(m.data,h,_.data,_.isOverflow),!_.paraEnd&&d&&(h+=d,_.width+=d)})),_.words=null)})}function q6(n){n.text="",n.words.forEach(t=>{t.data.forEach(e=>{n.text+=e.char})})}function J6(n,t,e){return n.forEach(i=>{e.char+=i.char,t+=i.width}),t}function Q6(n,t,e,i){return n.forEach(s=>{(i||s.char!==" ")&&(s.x=t,e.push(s)),t+=s.width}),t}function t8(n,t){const{rows:e,bounds:i}=n,{__lineHeight:s,__baseLine:a,__letterSpacing:l,__clipText:u,textAlign:h,verticalAlign:d,paraSpacing:p,autoSizeAlign:v}=t;let{x:b,y:_,width:m,height:x}=i,R=s*e.length+(p?p*(n.paraNumber-1):0),C=a;if(u&&R>x)R=Math.max(x,s),n.overflow=e.length;else if(x||v)switch(d){case"middle":_+=(x-R)/2;break;case"bottom":_+=x-R}C+=_;let L,A,O,E=m||v?m:n.maxWidth;for(let M=0,I=e.length;M<I;M++){if(L=e[M],L.x=b,L.width<m||L.width>m&&!u)switch(h){case"center":L.x+=(E-L.width)/2;break;case"right":L.x+=E-L.width}L.paraStart&&p&&M>0&&(C+=p),L.y=C,C+=s,n.overflow>M&&C>R&&(L.isOverflow=!0,n.overflow=M+1),A=L.x,O=L.width,l<0&&(L.width<0?(O=-L.width+t.fontSize+l,A-=O,O+=t.fontSize):O-=l),A<i.x&&(i.x=A),O>i.width&&(i.width=O),u&&m&&m<O&&(L.isOverflow=!0,n.overflow||(n.overflow=e.length))}i.y=_,i.height=R}function e8(n,t,e,i){if(!i)return;const{rows:s,overflow:a}=n;let{textOverflow:l}=t;if(s.splice(a),l&&l!=="show"){l==="hide"?l="":l==="ellipsis"&&(l="...");let u,h;const d=l?ut.canvas.measureText(l).width:0,p=e+i-d;(t.textWrap==="none"?s:[s[a-1]]).forEach(b=>{if(b.isOverflow&&b.data){let _=b.data.length-1;for(let m=_;m>-1&&(u=b.data[m],h=u.x+u.width,!(m===_&&h<p));m--){if(h<p&&u.char!==" "){b.data.splice(m+1),b.width-=u.width;break}b.width-=u.width}b.width+=d,b.data.push({char:l,x:h}),b.textMode&&n8(b)}})}}function n8(n){n.text="",n.data.forEach(t=>{n.text+=t.char}),n.data=null}function i8(n,t){const{fontSize:e}=t;switch(n.decorationHeight=e/11,t.textDecoration){case"under":n.decorationY=e*.15;break;case"delete":n.decorationY=-e*.35}}const{top:Gu,right:Cw,bottom:Tw,left:Ku}=sf;function r8(n,t){typeof n!="string"&&(n=String(n));let e=0,i=0,s=t.__getInput("width")||0,a=t.__getInput("height")||0;const{textDecoration:l,__font:u,__padding:h}=t;h&&(s?(e=h[Ku],s-=h[Cw]+h[Ku]):t.autoSizeAlign||(e=h[Ku]),a?(i=h[Gu],a-=h[Gu]+h[Tw]):t.autoSizeAlign||(i=h[Gu]));const d={bounds:{x:e,y:i,width:s,height:a},rows:[],paraNumber:0,font:ut.canvas.font=u};return Y6(d,n,t),h&&s8(h,d,t,s,a),t8(d,t),Z6(d,t,s),d.overflow&&e8(d,t,e,s),l!=="none"&&i8(d,t),d}function s8(n,t,e,i,s){if(!i&&e.autoSizeAlign)switch(e.textAlign){case"left":Du(t,"x",n[Ku]);break;case"right":Du(t,"x",-n[Cw])}if(!s&&e.autoSizeAlign)switch(e.verticalAlign){case"top":Du(t,"y",n[Gu]);break;case"bottom":Du(t,"y",-n[Tw])}}function Du(n,t,e){const{bounds:i,rows:s}=n;i[t]+=e;for(let a=0;a<s.length;a++)s[a][t]+=e}const o8={getDrawData:r8};function a8(n,t){const e=typeof t=="number"&&t!==1;if(typeof n=="string")if(e&&zs.object)n=zs.object(n);else return n;let i=n.a===void 0?1:n.a;e&&(i*=t);const s=n.r+","+n.g+","+n.b;return i===1?"rgb("+s+")":"rgba("+s+","+i+")"}const l8={string:a8},{setPoint:u8,addPoint:c8,toBounds:h8}=hl;function d8(n){const{width:t,height:e}=n.view,{data:i}=n.context.getImageData(0,0,t,e);let s,a,l,u=0;for(let d=0;d<i.length;d+=4)i[d+3]!==0&&(s=u%t,a=(u-s)/t,l?c8(l,s,a):u8(l={},s,a)),u++;const h=new pe;return h8(l,h),h.scale(1/n.pixelRatio).ceil()}const f8={export(n,t,e){this.running=!0;const i=Tr.fileType(t),s=t.includes(".");return e=Tr.getExportOptions(e),p8(a=>new Promise(l=>{const u=v=>{a(v),l(),this.running=!1},{toURL:h}=ut,{download:d}=ut.origin;if(i==="json")return s&&d(h(JSON.stringify(n.toJSON(e.json)),"text"),t),u({data:s?!0:n.toJSON(e.json)});if(i==="svg")return s&&d(h(n.toSVG(),"svg"),t),u({data:s?!0:n.toSVG()});const{leafer:p}=n;p?(Rw(n),p.waitViewCompleted(()=>Sp(this,void 0,void 0,function*(){let v,b,_=1,m=1;const{worldTransform:x,isLeafer:R,isFrame:C}=n,{slice:L,trim:A,onCanvas:O}=e,E=e.smooth===void 0?p.config.smooth:e.smooth,M=e.contextSettings||p.config.contextSettings,I=e.screenshot||n.isApp,U=R&&I&&e.fill===void 0?n.fill:e.fill,tt=Tr.isOpaqueImage(t)||U,Z=new In;if(I)v=I===!0?R?p.canvas.bounds:n.worldRenderBounds:I;else{let $t=e.relative||(R?"inner":"local");switch(_=x.scaleX,m=x.scaleY,$t){case"inner":Z.set(x);break;case"local":Z.set(x).divide(n.localTransform),_/=n.scaleX,m/=n.scaleY;break;case"world":_=1,m=1;break;case"page":$t=n.leafer;default:Z.set(x).divide(n.getTransform($t));const he=$t.worldTransform;_/=_/he.scaleX,m/=m/he.scaleY}v=n.getBounds("render",$t)}const J={scaleX:1,scaleY:1};je.getScaleData(e.scale,e.size,v,J);let Y=e.pixelRatio||1;n.isApp&&(J.scaleX*=Y,J.scaleY*=Y,Y=n.app.pixelRatio);const{x:it,y:Pt,width:F,height:W}=new pe(v).scale(J.scaleX,J.scaleY),z={matrix:Z.scale(1/J.scaleX,1/J.scaleY).invert().translate(-it,-Pt).withScale(1/_*J.scaleX,1/m*J.scaleY)};let et=Oe.canvas({width:Math.round(F),height:Math.round(W),pixelRatio:Y,smooth:E,contextSettings:M}),pt;if(L&&(pt=n,pt.__worldOpacity=0,n=p,z.bounds=et.bounds),et.save(),C&&U!==void 0){const $t=n.get("fill");n.fill="",n.__render(et,z),n.fill=$t}else n.__render(et,z);if(et.restore(),pt&&pt.__updateWorldOpacity(),A){b=d8(et);const $t=et,{width:he,height:oe}=b,Ye={x:0,y:0,width:he,height:oe,pixelRatio:Y};et=Oe.canvas(Ye),et.copyWorld($t,b,Ye)}tt&&et.fillWorld(et.bounds,U||"#FFFFFF","destination-over"),O&&O(et);const Wt=t==="canvas"?et:yield et.export(t,e);u({data:Wt,width:et.pixelWidth,height:et.pixelHeight,renderBounds:v,trimBounds:b})}))):u({data:!1})}))}};let tf;function p8(n){return tf||(tf=new af),new Promise(t=>{tf.add(()=>Sp(this,void 0,void 0,function*(){return yield n(t)}),{parallel:!1})})}function Rw(n){n.__.__needComputePaint&&n.__.__computePaint(),n.isBranch&&n.children.forEach(t=>Rw(t))}const Sc=lp.prototype,Ow=te.get("@leafer-ui/export");Sc.export=function(n,t){const{quality:e,blob:i}=Tr.getExportOptions(t);return n.includes(".")?this.saveAs(n,e):i?this.toBlob(n,e):this.toDataURL(n,e)};Sc.toBlob=function(n,t){return new Promise(e=>{ut.origin.canvasToBolb(this.view,n,t).then(i=>{e(i)}).catch(i=>{Ow.error(i),e(null)})})};Sc.toDataURL=function(n,t){return ut.origin.canvasToDataURL(this.view,n,t)};Sc.saveAs=function(n,t){return new Promise(e=>{ut.origin.canvasSaveAs(this.view,n,t).then(()=>{e(!0)}).catch(i=>{Ow.error(i),e(!1)})})};Object.assign(Yb,o8);Object.assign(zs,l8);Object.assign(Te,YF);Object.assign(Hs,r6);Object.assign(Hu,d6);Object.assign(uf,y6);Object.assign(Io,f8);Object.assign(Oe,{interaction:(n,t,e,i)=>new DF(n,t,e,i),hitCanvas:(n,t)=>new dw(n,t),hitCanvasManager:()=>new m5});gF();const pn=q(),Yr=q(),$u=q(1),Xr=q({width:1920,height:1080});function Cc(){const n=(l,u=Xr.value)=>{!l.width||!l.height||(Xr.value=u,Yr.value=l,pn.value=new Uo({width:Xr.value.width,height:Xr.value.height,editable:!1,lockRatio:!0,x:0,y:0,id:"workspace",resizeChildren:!0}),l.tree.add(pn.value),t())},t=l=>{const u=l||Yr.value;if(!u.width||!u.height||!pn.value)return;const h=(u.width-100)/Xr.value.width,d=(u.height-100)/Xr.value.height;$u.value=h<d?h:d;const p=u.width/2-Xr.value.width/2*$u.value,v=u.height/2-Xr.value.height/2*$u.value,b=pn.value.scale;pn.value.scaleOf("top-left",$u.value/b);const _=u.tree.x?p-u.tree.x:p,m=u.tree.y?v-u.tree.y:v;u.tree.move({x:_+10,y:m+10})};return{workspaceInit:n,workspaceScale:t,editCanvasResize:l=>{Yr.value&&(Yr.value.resize({width:l.width,height:l.height}),t(Yr.value))},getElementXY:l=>{if(!pn.value||!pn.value.width||!pn.value.height)return{x:0,y:0};const u=(pn.value.width-l.width)/2,h=(pn.value.height-l.height)/2;return{x:u,y:h}},editCanvasColor:l=>{pn.value&&(pn.value.fill=l||"rgba(255,255,255,0)")},updateGuides:l=>{!pn.value||!Yr.value||(pn.value.move({x:l=="dark"?1:-1,y:l=="dark"?1:-1}),t(Yr.value))},workspace:pn,appLeafer:Yr}}const{updateGuides:g8}=Cc(),Os=q("dark"),Da=q(),cy=q();function Rp(){const n=(i,s)=>{const a=document.documentElement;a.className=Os.value,Da.value=i,cy.value=s},t=()=>{Os.value=Os.value==="dark"?"light":"dark";const i=document.documentElement;i.className=Os.value,e(),cy.value&&g8(Os.value)},e=()=>{Os.value==="dark"?Da.value&&Da.value.addTheme("dark",{backgroundColor:"#242424",textColor:"#ccc",borderColor:"#3d3d3d",highlightColor:"rgba(22,93,255,0.75)"}):Da.value&&Da.value.addTheme("dark",{backgroundColor:"#fff",textColor:"#000",borderColor:"#cbcbcb",highlightColor:"rgba(22,93,255,0.75)"})};return{theme:Os,initTheme:n,setUseTheme:t}}const _8={class:"sidebar"},v8={class:"sidebar-login"},m8={class:"sidebar-box theme-border-right"},y8=["onClick"],b8=ot({__name:"index",props:{modelValue:{type:String,default:()=>"text"}},emits:["update:modelValue"],setup(n,{emit:t}){const{theme:e}=Rp(),i=n,s=t,a=h=>{s("update:modelValue",h)},l=h=>e.value==="light"?i.modelValue===h?"#000":"#ccc":i.modelValue===h?"#fff":"#8b8b8b",u=q([{title:"",value:"text",icon:"icon-wenzi1",path:""},{title:"",value:"element",icon:"icon-cryo",path:""},{title:"",value:"image",icon:"icon-tupian",path:""},{title:"",value:"background",icon:"icon-beijing",path:""}]);return(h,d)=>{const p=De("jy-icon");return G(),ht("div",_8,[st("div",v8,[vt(fF)]),st("div",m8,[(G(!0),ht(es,null,AR(u.value,(v,b)=>(G(),ht("div",{key:b,class:yt(["sidebar-box-list",n.modelValue===v.value?"sidebar-box-list-active":""]),onClick:_=>a(v.value)},[vt(p,{size:"24",type:v.icon,color:l(v.value)},null,8,["type","color"]),st("span",null,Er(v.title),1)],10,y8))),128))])])}}}),w8=as(b8,[["__scopeId","data-v-3d2553eb"]]),x8={rect:{width:200,height:200},rectRound:{width:200,height:200,cornerRadius:20},rectDiamond:{width:200,height:200,cornerRadius:[0,80,40,80]}},E8={ellipse:{},ring:{innerRadius:.5},sector:{startAngle:-60,endAngle:180,innerRadius:.5}};function Fu(){const n=Math.floor(Math.random()*16777215).toString(16);return"#"+"0".repeat(6-n.length)+n}const{workspace:me,getElementXY:Nu}=Cc();function Pw(){return{createRect:a=>{if(!(me!=null&&me.value))return;const l=new Ai({editable:!0,fill:Fu(),...x8[a]});me==null||me.value.add(l),l.move(Nu(l))},createText:()=>{if(!(me!=null&&me.value))return;const a=new se({editable:!0,fill:Fu(),text:"",fontSize:120});me.value.add(a),a.move(Nu(a))},createImage:()=>{if(!(me!=null&&me.value))return;const a=new nl({url:new URL("/design-workshop/png/icon-tupian-DF6voxQz.png",import.meta.url).href,draggable:!0,editable:!0});me.value.add(a)},createEllipse:a=>{if(!(me!=null&&me.value))return;const l=new Vs({editable:!0,fill:Fu(),width:200,height:200,...E8[a]});me==null||me.value.add(l),l.move(Nu(l))},createLine:()=>{if(!(me!=null&&me.value))return;const a=new Mi({editable:!0,width:300,rotation:45,strokeWidth:20,cornerRadius:30,fontSize:30,stroke:Fu()});me.value.add(a),a.move(Nu(a))}}}const S8={class:"characters"},C8=ot({__name:"characters",setup(n){const{createText:t}=Pw(),e=()=>{t()};return(i,s)=>(G(),ht("div",S8,[st("div",{class:"characters-list",onClick:e},""),s[0]||(s[0]=st("div",{class:"characters-list"},"",-1))]))}}),T8=as(C8,[["__scopeId","data-v-7fa935ec"]]),R8={class:"navigation"},O8={class:"navigation-left"},P8={class:"navigation-list"},L8={href:"https://github.com/zhuhong96/design-workshop",target:"_blank"},k8={class:"navigation-list"},I8={class:"navigation-box"},B8={class:"navigation-model"},A8={class:"navigation-list"},M8={class:"navigation-right"},D8=ot({__name:"index",setup(n){const{setUseTheme:t}=Rp(),e=q(!0);return(i,s)=>{const a=De("jy-icon"),l=SM,u=ep,h=cM,d=hM,p=uM;return G(),ht("div",R8,[st("div",O8,[st("div",P8,[st("a",L8,[vt(a,{type:"icon-github",size:"24"},{default:lt(()=>s[1]||(s[1]=[ks("Github")])),_:1})])]),st("div",k8,[vt(a,{type:"icon-Gitee",size:"24"},{default:lt(()=>s[2]||(s[2]=[ks("Gitee")])),_:1})])]),st("div",I8,[st("div",B8,[s[3]||(s[3]=st("div",{class:"navigation-list button-style"},"",-1)),s[4]||(s[4]=st("div",{class:"navigation-list button-style"},"",-1)),st("div",A8,[vt(a,{type:"icon-chexiao",size:"24"})])]),st("div",M8,[vt(l,{modelValue:e.value,"onUpdate:modelValue":s[0]||(s[0]=v=>e.value=v),style:{"--el-switch-on-color":"#191931","--el-switch-off-color":"#191931"},"inline-prompt":"",size:"large","active-text":"","inactive-text":"",onChange:S(t)},null,8,["modelValue","onChange"]),vt(p,{placement:"bottom-end"},{dropdown:lt(()=>[vt(d,null,{default:lt(()=>[vt(h,null,{default:lt(()=>s[6]||(s[6]=[ks("png ")])),_:1}),vt(h,null,{default:lt(()=>s[7]||(s[7]=[ks("JSON ")])),_:1})]),_:1})]),default:lt(()=>[vt(u,{type:"primary",size:"small"},{default:lt(()=>s[5]||(s[5]=[ks("  ")])),_:1})]),_:1})])])])}}}),$8=as(D8,[["__scopeId","data-v-5c44fb7b"]]),F8={class:"element"},N8={class:"element-list"},W8={class:"element-list"},z8={class:"element-list"},H8={class:"element-list"},V8={class:"element-list"},U8=ot({__name:"element",props:{workspace:{type:Object,default:()=>{}}},setup(n){const{createRect:t,createEllipse:e,createLine:i}=Pw();return(s,a)=>(G(),ht("div",F8,[st("div",N8,[st("div",{class:"element-rect",onClick:a[0]||(a[0]=l=>S(t)("rect"))})]),st("div",W8,[st("div",{class:"element-rect-1",onClick:a[1]||(a[1]=l=>S(t)("rectRound"))})]),st("div",z8,[st("div",{class:"element-rect-2",onClick:a[2]||(a[2]=l=>S(t)("rectDiamond"))})]),st("div",H8,[st("div",{class:"element-circle",onClick:a[3]||(a[3]=l=>S(e)("ellipse"))})]),st("div",V8,[st("div",{class:"element-circle-1",onClick:a[4]||(a[4]=l=>S(e)("ring"))})]),st("div",{class:"element-list",onClick:a[5]||(a[5]=(...l)=>S(i)&&S(i)(...l))},a[6]||(a[6]=[st("div",{class:"element-line"},null,-1)]))]))}}),G8=as(U8,[["__scopeId","data-v-a1b9ab72"]]),K8={class:"images"},j8=ot({__name:"images",setup(n){return(t,e)=>(G(),ht("div",K8,e[0]||(e[0]=[st("div",{class:"images-update button-style"},"",-1),st("div",{class:"images-box"},"45646",-1)])))}}),Y8=as(j8,[["__scopeId","data-v-6f8e310f"]]),X8={class:"panel theme-border-left theme-border-top"},Z8={class:"panel-tabs"},q8={key:0,class:"panel-tabs-pane-border"},J8={key:0,class:"panel-tabs-pane-border"},Q8={class:"panel-box"},tN={class:"panel-box-list"},eN={class:"panel-box-content"},nN={class:"panel-box-list"},iN={class:"panel-box-content"},rN={class:"panel-box-text-attr"},sN=ot({__name:"panel",setup(n){const t=q("foundation"),e=q(""),i=q(16),s=a=>{t.value=a};return(a,l)=>{const u=De("jy-icon"),h=hb,d=Hy,p=vM;return G(),ht("div",X8,[st("div",Z8,[st("div",{class:yt(["panel-tabs-pane","theme-color",{active:t.value==="foundation"}]),onClick:l[0]||(l[0]=v=>s("foundation"))},[l[4]||(l[4]=ks("  ")),t.value==="foundation"?(G(),ht("div",q8)):Tt("",!0)],2),st("div",{class:yt(["panel-tabs-pane","theme-color",{active:t.value==="mix"}]),onClick:l[1]||(l[1]=v=>s("mix"))},[l[5]||(l[5]=ks("  ")),t.value==="mix"?(G(),ht("div",J8)):Tt("",!0)],2)]),st("div",Q8,[st("div",tN,[l[6]||(l[6]=st("div",{class:"panel-box-title theme-color"},"",-1)),st("div",eN,[vt(h,{content:"",placement:"top"},{default:lt(()=>[vt(u,{size:"18",type:"icon-chuizhifanzhuan"})]),_:1}),vt(h,{content:"",placement:"top"},{default:lt(()=>[vt(u,{size:"18",type:"icon-chuizhifanzhuan1"})]),_:1}),vt(h,{content:"",placement:"top"},{default:lt(()=>[vt(u,{size:"18",type:"icon-kaobei"})]),_:1})])]),st("div",nN,[l[8]||(l[8]=st("div",{class:"panel-box-title theme-color"},"",-1)),st("div",iN,[vt(d,{modelValue:e.value,"onUpdate:modelValue":l[2]||(l[2]=v=>e.value=v),style:{width:"100%"},rows:4,type:"textarea",placeholder:""},null,8,["modelValue"])]),st("div",rN,[vt(p,{modelValue:i.value,"onUpdate:modelValue":l[3]||(l[3]=v=>i.value=v),size:"small",min:10,max:100},{suffix:lt(()=>l[7]||(l[7]=[st("span",null,"PX",-1)])),_:1},8,["modelValue"]),vt(u,{size:"18",type:"icon-kaobei"})])]),l[9]||(l[9]=st("div",{class:"panel-box-list"},[st("div",{class:"panel-box-title theme-color"},""),st("div",{class:"panel-box-content"},"456")],-1))])])}}}),oN=as(sN,[["__scopeId","data-v-ce811a98"]]),aN=Math.PI/180;class lN{constructor(t,e,i){this.app=t,this.rulerLeafer=t.addLeafer(),this.contextContainer=this.rulerLeafer.canvas.context,this.options=i||{ruleSize:20,fontSize:10,themes:new Map([["light",{backgroundColor:"#fff",textColor:"#444",borderColor:"#ccc",highlightColor:"#165dff3b"}],["dark",{backgroundColor:"#242424",textColor:"#ddd",borderColor:"#555",highlightColor:"rgba(22,93,255,0.55)"}]])},this.config=e||{enabled:!0,theme:"light"},this.forceRender=this.forceRender.bind(this),this.resize=this.resize.bind(this),this.enabled=this.config.enabled}changeTheme(t){this.theme=t}set theme(t){this.config.theme=t,this.forceRender()}get theme(){return this.config.theme}addTheme(t,e){this.options.themes.set(t,e)}removeTheme(t){this.options.themes.delete(t)}changeEnabled(t){this.enabled=t}get enabled(){return this.config.enabled}set enabled(t){var e,i;this.config.enabled=t,t?(this.app.tree.on(Jt.AFTER,this.forceRender),this.app.tree.on(Lr.RESIZE,this.resize),(e=this.app.editor)===null||e===void 0||e.on(rn.SELECT,this.forceRender),this.resize()):(this.app.tree.off(Jt.AFTER,this.forceRender),this.app.tree.off(Lr.RESIZE,this.resize),(i=this.app.editor)===null||i===void 0||i.off(rn.SELECT,this.forceRender),this.rulerLeafer.forceRender())}forceRender(){this.enabled&&this.render({ctx:this.contextContainer})}resize(){setTimeout(()=>{this.enabled&&this.render({ctx:this.contextContainer})},100)}getSize(){return{width:this.app.width,height:this.app.height}}render({ctx:t}){this.rulerLeafer.canvas.setWorld({a:1,b:0,c:0,d:1,e:0,f:0});const{worldTransform:e}=this.app.tree,i=[e.a,e.b,e.c,e.d,e.e,e.f];this.calcObjectRect(),this.draw({ctx:t,isHorizontal:!0,rulerLength:this.getSize().width,startCalibration:-(i[4]/i[0])}),this.draw({ctx:t,isHorizontal:!1,rulerLength:this.getSize().height,startCalibration:-(i[5]/i[3])});const s=this.options.themes.get(this.config.theme);this.darwRect(t,{left:0,top:0,width:this.options.ruleSize,height:this.options.ruleSize,fill:s.backgroundColor,stroke:s.borderColor}),this.darwText(t,{text:"px",left:this.options.ruleSize/2,top:this.options.ruleSize/2,align:"center",baseline:"middle",fill:s.textColor}),this.app.tree.emit(Qt.END,{renderBounds:this.app.tree.canvas.bounds})}draw(t){const{ctx:e,isHorizontal:i,rulerLength:s,startCalibration:a}=t,l=this.getZoom(),u=this.getGap(l),h=Math.ceil(s/l),d=Math.floor(a/u)*u,p=d-a,v=this.getSize(),b=this.options.themes.get(this.config.theme),{ruleSize:_}=this.options,m=2.5;this.darwRect(e,{left:0,top:0,width:i?v.width:_,height:i?_:v.height,fill:b.backgroundColor,stroke:b.borderColor});for(let x=0;x+p<=h;x+=u)for(let R=0;R<10;R++){const C=Math.round((p+x+u*R/10)*l),L=R===0,[A,O]=i?[C,L?0:_-8]:[L?0:_-8,C],[E,M]=i?[0,_-O]:[_-A,0];this.darwLine(e,{left:A,top:O,width:E,height:M,stroke:b.borderColor})}if(this.objectRect){const x=i?"x":"y";this.objectRect[x].forEach(R=>{if(R.skip===x)return;const[C,L,A,O]=i?[(R.left-a)*l,0,R.width*l,_]:[0,(R.top-a)*l,_,R.height*l];this.darwRect(e,{left:C,top:L,width:A,height:O,fill:b.highlightColor})})}for(let x=0;x+p<=h;x+=u){const R=(p+x)*l,C=(d+x).toString(),[L,A,O]=i?[R+6,m,0]:[m,R-6,-90];this.darwText(e,{text:C,left:L,top:A,fill:b.textColor,angle:O})}}getGap(t){const e=[.02,.03,.05,.1,.2,.5,1,2,5],i=[5e3,2500,1e3,500,200,100,50,20,10];let s=0;for(;s<e.length&&e[s]<t;)s++;return i[s-1]||1e4}darwRect(t,{left:e,top:i,width:s,height:a,fill:l,stroke:u,strokeWidth:h}){t.save(),t.beginPath(),l&&(t.fillStyle=l),t.rect(e,i,s,a),t.fill(),u&&(t.strokeStyle=u,t.lineWidth=h??1,t.stroke()),t.restore()}darwText(t,{left:e,top:i,text:s,fill:a,align:l,angle:u,fontSize:h,baseline:d}){t.save(),a&&(t.fillStyle=a),t.textAlign=l??"left",t.textBaseline=d??"top",t.font=`${h??12}px Helvetica`,u&&(t.translate(e,i),t.rotate(aN*u),t.translate(-e,-i)),t.fillText(s,e,i),t.restore()}darwLine(t,{left:e,top:i,width:s,height:a,stroke:l,lineWidth:u}){t.save(),t.beginPath(),l&&(t.strokeStyle=l),t.lineWidth=u??1,t.moveTo(e,i),t.lineTo(e+s,i+a),t.stroke(),t.restore()}calcObjectRect(){var t;const e=((t=this.app.editor)===null||t===void 0?void 0:t.list)||[];if(e.length===0){this.objectRect=void 0;return}const i=e.reduce((s,a)=>{const l=a.getBounds("box",this.app.tree),u={left:l.x,top:l.y,width:l.width,height:l.height};return s.push(u),s},[]);i.length!==0&&(this.objectRect={x:this.mergeLines(i,!0),y:this.mergeLines(i,!1)})}mergeLines(t,e){const i=e?"left":"top",s=e?"width":"height";t.sort((u,h)=>u[i]-h[i]);const a=[];let l=Object.assign({},t[0]);for(let u=1;u<t.length;u++){const h=Object.assign({},t[u]);l[i]+l[s]>=h[i]?l[s]=Math.max(l[i]+l[s],h[i]+h[s])-l[i]:(a.push(l),l=Object.assign({},h))}return a.push(l),a}getZoom(){return this.app.tree&&typeof this.app.tree.scale=="number"?this.app.tree.scale:1}dispose(){this.rulerLeafer.destroy(),this.enabled=!1}}const uN=Cc(),{initTheme:cN}=Rp();class hN{constructor(t){lu(this,"app");lu(this,"ruler");lu(this,"workspace");this.app=new hf({view:t||"canvas",ground:{type:"draw"},tree:{},editor:{lockRatio:"corner",hover:!0,middlePoint:{cornerRadius:10,width:10,height:10},rotatePoint:{width:10,height:10,fill:"#fff"}},sky:{type:"draw",usePartRender:!1}}),this.ruler=new lN(this.app,{enabled:!0,theme:"dark"}),cN(this.ruler,this.app),uN.workspaceInit(this.app)}getApp(){return this.app}}var rc={exports:{}};/**
* @license
* Lodash <https://lodash.com/>
* Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
* Released under MIT license <https://lodash.com/license>
* Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
* Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
*/rc.exports;(function(n,t){(function(){var e,i="4.17.21",s=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",l="Expected a function",u="Invalid `variable` option passed into `_.template`",h="__lodash_hash_undefined__",d=500,p="__lodash_placeholder__",v=1,b=2,_=4,m=1,x=2,R=1,C=2,L=4,A=8,O=16,E=32,M=64,I=128,U=256,tt=512,Z=30,J="...",Y=800,it=16,Pt=1,F=2,W=3,z=1/0,et=9007199254740991,pt=17976931348623157e292,Wt=NaN,$t=4294967295,he=$t-1,oe=$t>>>1,Ye=[["ary",I],["bind",R],["bindKey",C],["curry",A],["curryRight",O],["flip",tt],["partial",E],["partialRight",M],["rearg",U]],Le="[object Arguments]",Xe="[object Array]",zi="[object AsyncFunction]",Ze="[object Boolean]",rt="[object Date]",Mt="[object DOMException]",Ht="[object Error]",Ae="[object Function]",sn="[object GeneratorFunction]",be="[object Map]",qe="[object Number]",Me="[object Null]",Rt="[object Object]",We="[object Promise]",Dn="[object Proxy]",de="[object RegExp]",ee="[object Set]",Je="[object String]",$n="[object Symbol]",X="[object Undefined]",Vt="[object WeakMap]",yn="[object WeakSet]",bn="[object ArrayBuffer]",Yt="[object DataView]",Fn="[object Float32Array]",Hi="[object Float64Array]",_i="[object Int8Array]",qo="[object Int16Array]",Ar="[object Int32Array]",Jo="[object Uint8Array]",cs="[object Uint8ClampedArray]",Qo="[object Uint16Array]",Tc="[object Uint32Array]",$w=/\b__p \+= '';/g,Fw=/\b(__p \+=) '' \+/g,Nw=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Pp=/&(?:amp|lt|gt|quot|#39);/g,Lp=/[&<>"']/g,Ww=RegExp(Pp.source),zw=RegExp(Lp.source),Hw=/<%-([\s\S]+?)%>/g,Vw=/<%([\s\S]+?)%>/g,kp=/<%=([\s\S]+?)%>/g,Uw=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Gw=/^\w*$/,Kw=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Rc=/[\\^$.*+?()[\]{}|]/g,jw=RegExp(Rc.source),Oc=/^\s+/,Yw=/\s/,Xw=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Zw=/\{\n\/\* \[wrapped with (.+)\] \*/,qw=/,? & /,Jw=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Qw=/[()=,{}\[\]\/\s]/,t1=/\\(\\)?/g,e1=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ip=/\w*$/,n1=/^[-+]0x[0-9a-f]+$/i,i1=/^0b[01]+$/i,r1=/^\[object .+?Constructor\]$/,s1=/^0o[0-7]+$/i,o1=/^(?:0|[1-9]\d*)$/,a1=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,bl=/($^)/,l1=/['\n\r\u2028\u2029\\]/g,wl="\\ud800-\\udfff",u1="\\u0300-\\u036f",c1="\\ufe20-\\ufe2f",h1="\\u20d0-\\u20ff",Bp=u1+c1+h1,Ap="\\u2700-\\u27bf",Mp="a-z\\xdf-\\xf6\\xf8-\\xff",d1="\\xac\\xb1\\xd7\\xf7",f1="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",p1="\\u2000-\\u206f",g1=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Dp="A-Z\\xc0-\\xd6\\xd8-\\xde",$p="\\ufe0e\\ufe0f",Fp=d1+f1+p1+g1,Pc="[']",_1="["+wl+"]",Np="["+Fp+"]",xl="["+Bp+"]",Wp="\\d+",v1="["+Ap+"]",zp="["+Mp+"]",Hp="[^"+wl+Fp+Wp+Ap+Mp+Dp+"]",Lc="\\ud83c[\\udffb-\\udfff]",m1="(?:"+xl+"|"+Lc+")",Vp="[^"+wl+"]",kc="(?:\\ud83c[\\udde6-\\uddff]){2}",Ic="[\\ud800-\\udbff][\\udc00-\\udfff]",Xs="["+Dp+"]",Up="\\u200d",Gp="(?:"+zp+"|"+Hp+")",y1="(?:"+Xs+"|"+Hp+")",Kp="(?:"+Pc+"(?:d|ll|m|re|s|t|ve))?",jp="(?:"+Pc+"(?:D|LL|M|RE|S|T|VE))?",Yp=m1+"?",Xp="["+$p+"]?",b1="(?:"+Up+"(?:"+[Vp,kc,Ic].join("|")+")"+Xp+Yp+")*",w1="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",x1="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Zp=Xp+Yp+b1,E1="(?:"+[v1,kc,Ic].join("|")+")"+Zp,S1="(?:"+[Vp+xl+"?",xl,kc,Ic,_1].join("|")+")",C1=RegExp(Pc,"g"),T1=RegExp(xl,"g"),Bc=RegExp(Lc+"(?="+Lc+")|"+S1+Zp,"g"),R1=RegExp([Xs+"?"+zp+"+"+Kp+"(?="+[Np,Xs,"$"].join("|")+")",y1+"+"+jp+"(?="+[Np,Xs+Gp,"$"].join("|")+")",Xs+"?"+Gp+"+"+Kp,Xs+"+"+jp,x1,w1,Wp,E1].join("|"),"g"),O1=RegExp("["+Up+wl+Bp+$p+"]"),P1=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,L1=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],k1=-1,fe={};fe[Fn]=fe[Hi]=fe[_i]=fe[qo]=fe[Ar]=fe[Jo]=fe[cs]=fe[Qo]=fe[Tc]=!0,fe[Le]=fe[Xe]=fe[bn]=fe[Ze]=fe[Yt]=fe[rt]=fe[Ht]=fe[Ae]=fe[be]=fe[qe]=fe[Rt]=fe[de]=fe[ee]=fe[Je]=fe[Vt]=!1;var ue={};ue[Le]=ue[Xe]=ue[bn]=ue[Yt]=ue[Ze]=ue[rt]=ue[Fn]=ue[Hi]=ue[_i]=ue[qo]=ue[Ar]=ue[be]=ue[qe]=ue[Rt]=ue[de]=ue[ee]=ue[Je]=ue[$n]=ue[Jo]=ue[cs]=ue[Qo]=ue[Tc]=!0,ue[Ht]=ue[Ae]=ue[Vt]=!1;var I1={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},B1={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},A1={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},M1={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},D1=parseFloat,$1=parseInt,qp=typeof va=="object"&&va&&va.Object===Object&&va,F1=typeof self=="object"&&self&&self.Object===Object&&self,Qe=qp||F1||Function("return this")(),Ac=t&&!t.nodeType&&t,hs=Ac&&!0&&n&&!n.nodeType&&n,Jp=hs&&hs.exports===Ac,Mc=Jp&&qp.process,Zn=function(){try{var k=hs&&hs.require&&hs.require("util").types;return k||Mc&&Mc.binding&&Mc.binding("util")}catch{}}(),Qp=Zn&&Zn.isArrayBuffer,tg=Zn&&Zn.isDate,eg=Zn&&Zn.isMap,ng=Zn&&Zn.isRegExp,ig=Zn&&Zn.isSet,rg=Zn&&Zn.isTypedArray;function Nn(k,N,$){switch($.length){case 0:return k.call(N);case 1:return k.call(N,$[0]);case 2:return k.call(N,$[0],$[1]);case 3:return k.call(N,$[0],$[1],$[2])}return k.apply(N,$)}function N1(k,N,$,at){for(var St=-1,Xt=k==null?0:k.length;++St<Xt;){var ze=k[St];N(at,ze,$(ze),k)}return at}function qn(k,N){for(var $=-1,at=k==null?0:k.length;++$<at&&N(k[$],$,k)!==!1;);return k}function W1(k,N){for(var $=k==null?0:k.length;$--&&N(k[$],$,k)!==!1;);return k}function sg(k,N){for(var $=-1,at=k==null?0:k.length;++$<at;)if(!N(k[$],$,k))return!1;return!0}function Mr(k,N){for(var $=-1,at=k==null?0:k.length,St=0,Xt=[];++$<at;){var ze=k[$];N(ze,$,k)&&(Xt[St++]=ze)}return Xt}function El(k,N){var $=k==null?0:k.length;return!!$&&Zs(k,N,0)>-1}function Dc(k,N,$){for(var at=-1,St=k==null?0:k.length;++at<St;)if($(N,k[at]))return!0;return!1}function _e(k,N){for(var $=-1,at=k==null?0:k.length,St=Array(at);++$<at;)St[$]=N(k[$],$,k);return St}function Dr(k,N){for(var $=-1,at=N.length,St=k.length;++$<at;)k[St+$]=N[$];return k}function $c(k,N,$,at){var St=-1,Xt=k==null?0:k.length;for(at&&Xt&&($=k[++St]);++St<Xt;)$=N($,k[St],St,k);return $}function z1(k,N,$,at){var St=k==null?0:k.length;for(at&&St&&($=k[--St]);St--;)$=N($,k[St],St,k);return $}function Fc(k,N){for(var $=-1,at=k==null?0:k.length;++$<at;)if(N(k[$],$,k))return!0;return!1}var H1=Nc("length");function V1(k){return k.split("")}function U1(k){return k.match(Jw)||[]}function og(k,N,$){var at;return $(k,function(St,Xt,ze){if(N(St,Xt,ze))return at=Xt,!1}),at}function Sl(k,N,$,at){for(var St=k.length,Xt=$+(at?1:-1);at?Xt--:++Xt<St;)if(N(k[Xt],Xt,k))return Xt;return-1}function Zs(k,N,$){return N===N?nx(k,N,$):Sl(k,ag,$)}function G1(k,N,$,at){for(var St=$-1,Xt=k.length;++St<Xt;)if(at(k[St],N))return St;return-1}function ag(k){return k!==k}function lg(k,N){var $=k==null?0:k.length;return $?zc(k,N)/$:Wt}function Nc(k){return function(N){return N==null?e:N[k]}}function Wc(k){return function(N){return k==null?e:k[N]}}function ug(k,N,$,at,St){return St(k,function(Xt,ze,le){$=at?(at=!1,Xt):N($,Xt,ze,le)}),$}function K1(k,N){var $=k.length;for(k.sort(N);$--;)k[$]=k[$].value;return k}function zc(k,N){for(var $,at=-1,St=k.length;++at<St;){var Xt=N(k[at]);Xt!==e&&($=$===e?Xt:$+Xt)}return $}function Hc(k,N){for(var $=-1,at=Array(k);++$<k;)at[$]=N($);return at}function j1(k,N){return _e(N,function($){return[$,k[$]]})}function cg(k){return k&&k.slice(0,pg(k)+1).replace(Oc,"")}function Wn(k){return function(N){return k(N)}}function Vc(k,N){return _e(N,function($){return k[$]})}function ta(k,N){return k.has(N)}function hg(k,N){for(var $=-1,at=k.length;++$<at&&Zs(N,k[$],0)>-1;);return $}function dg(k,N){for(var $=k.length;$--&&Zs(N,k[$],0)>-1;);return $}function Y1(k,N){for(var $=k.length,at=0;$--;)k[$]===N&&++at;return at}var X1=Wc(I1),Z1=Wc(B1);function q1(k){return"\\"+M1[k]}function J1(k,N){return k==null?e:k[N]}function qs(k){return O1.test(k)}function Q1(k){return P1.test(k)}function tx(k){for(var N,$=[];!(N=k.next()).done;)$.push(N.value);return $}function Uc(k){var N=-1,$=Array(k.size);return k.forEach(function(at,St){$[++N]=[St,at]}),$}function fg(k,N){return function($){return k(N($))}}function $r(k,N){for(var $=-1,at=k.length,St=0,Xt=[];++$<at;){var ze=k[$];(ze===N||ze===p)&&(k[$]=p,Xt[St++]=$)}return Xt}function Cl(k){var N=-1,$=Array(k.size);return k.forEach(function(at){$[++N]=at}),$}function ex(k){var N=-1,$=Array(k.size);return k.forEach(function(at){$[++N]=[at,at]}),$}function nx(k,N,$){for(var at=$-1,St=k.length;++at<St;)if(k[at]===N)return at;return-1}function ix(k,N,$){for(var at=$+1;at--;)if(k[at]===N)return at;return at}function Js(k){return qs(k)?sx(k):H1(k)}function vi(k){return qs(k)?ox(k):V1(k)}function pg(k){for(var N=k.length;N--&&Yw.test(k.charAt(N)););return N}var rx=Wc(A1);function sx(k){for(var N=Bc.lastIndex=0;Bc.test(k);)++N;return N}function ox(k){return k.match(Bc)||[]}function ax(k){return k.match(R1)||[]}var lx=function k(N){N=N==null?Qe:Qs.defaults(Qe.Object(),N,Qs.pick(Qe,L1));var $=N.Array,at=N.Date,St=N.Error,Xt=N.Function,ze=N.Math,le=N.Object,Gc=N.RegExp,ux=N.String,Jn=N.TypeError,Tl=$.prototype,cx=Xt.prototype,to=le.prototype,Rl=N["__core-js_shared__"],Ol=cx.toString,ne=to.hasOwnProperty,hx=0,gg=function(){var r=/[^.]+$/.exec(Rl&&Rl.keys&&Rl.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}(),Pl=to.toString,dx=Ol.call(le),fx=Qe._,px=Gc("^"+Ol.call(ne).replace(Rc,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ll=Jp?N.Buffer:e,Fr=N.Symbol,kl=N.Uint8Array,_g=Ll?Ll.allocUnsafe:e,Il=fg(le.getPrototypeOf,le),vg=le.create,mg=to.propertyIsEnumerable,Bl=Tl.splice,yg=Fr?Fr.isConcatSpreadable:e,ea=Fr?Fr.iterator:e,ds=Fr?Fr.toStringTag:e,Al=function(){try{var r=vs(le,"defineProperty");return r({},"",{}),r}catch{}}(),gx=N.clearTimeout!==Qe.clearTimeout&&N.clearTimeout,_x=at&&at.now!==Qe.Date.now&&at.now,vx=N.setTimeout!==Qe.setTimeout&&N.setTimeout,Ml=ze.ceil,Dl=ze.floor,Kc=le.getOwnPropertySymbols,mx=Ll?Ll.isBuffer:e,bg=N.isFinite,yx=Tl.join,bx=fg(le.keys,le),He=ze.max,on=ze.min,wx=at.now,xx=N.parseInt,wg=ze.random,Ex=Tl.reverse,jc=vs(N,"DataView"),na=vs(N,"Map"),Yc=vs(N,"Promise"),eo=vs(N,"Set"),ia=vs(N,"WeakMap"),ra=vs(le,"create"),$l=ia&&new ia,no={},Sx=ms(jc),Cx=ms(na),Tx=ms(Yc),Rx=ms(eo),Ox=ms(ia),Fl=Fr?Fr.prototype:e,sa=Fl?Fl.valueOf:e,xg=Fl?Fl.toString:e;function y(r){if(Se(r)&&!Ot(r)&&!(r instanceof zt)){if(r instanceof Qn)return r;if(ne.call(r,"__wrapped__"))return E_(r)}return new Qn(r)}var io=function(){function r(){}return function(o){if(!we(o))return{};if(vg)return vg(o);r.prototype=o;var c=new r;return r.prototype=e,c}}();function Nl(){}function Qn(r,o){this.__wrapped__=r,this.__actions__=[],this.__chain__=!!o,this.__index__=0,this.__values__=e}y.templateSettings={escape:Hw,evaluate:Vw,interpolate:kp,variable:"",imports:{_:y}},y.prototype=Nl.prototype,y.prototype.constructor=y,Qn.prototype=io(Nl.prototype),Qn.prototype.constructor=Qn;function zt(r){this.__wrapped__=r,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=$t,this.__views__=[]}function Px(){var r=new zt(this.__wrapped__);return r.__actions__=wn(this.__actions__),r.__dir__=this.__dir__,r.__filtered__=this.__filtered__,r.__iteratees__=wn(this.__iteratees__),r.__takeCount__=this.__takeCount__,r.__views__=wn(this.__views__),r}function Lx(){if(this.__filtered__){var r=new zt(this);r.__dir__=-1,r.__filtered__=!0}else r=this.clone(),r.__dir__*=-1;return r}function kx(){var r=this.__wrapped__.value(),o=this.__dir__,c=Ot(r),f=o<0,g=c?r.length:0,w=VE(0,g,this.__views__),T=w.start,P=w.end,B=P-T,H=f?P:T-1,V=this.__iteratees__,j=V.length,nt=0,ct=on(B,this.__takeCount__);if(!c||!f&&g==B&&ct==B)return Kg(r,this.__actions__);var bt=[];t:for(;B--&&nt<ct;){H+=o;for(var Bt=-1,wt=r[H];++Bt<j;){var Nt=V[Bt],Ut=Nt.iteratee,Vn=Nt.type,fn=Ut(wt);if(Vn==F)wt=fn;else if(!fn){if(Vn==Pt)continue t;break t}}bt[nt++]=wt}return bt}zt.prototype=io(Nl.prototype),zt.prototype.constructor=zt;function fs(r){var o=-1,c=r==null?0:r.length;for(this.clear();++o<c;){var f=r[o];this.set(f[0],f[1])}}function Ix(){this.__data__=ra?ra(null):{},this.size=0}function Bx(r){var o=this.has(r)&&delete this.__data__[r];return this.size-=o?1:0,o}function Ax(r){var o=this.__data__;if(ra){var c=o[r];return c===h?e:c}return ne.call(o,r)?o[r]:e}function Mx(r){var o=this.__data__;return ra?o[r]!==e:ne.call(o,r)}function Dx(r,o){var c=this.__data__;return this.size+=this.has(r)?0:1,c[r]=ra&&o===e?h:o,this}fs.prototype.clear=Ix,fs.prototype.delete=Bx,fs.prototype.get=Ax,fs.prototype.has=Mx,fs.prototype.set=Dx;function sr(r){var o=-1,c=r==null?0:r.length;for(this.clear();++o<c;){var f=r[o];this.set(f[0],f[1])}}function $x(){this.__data__=[],this.size=0}function Fx(r){var o=this.__data__,c=Wl(o,r);if(c<0)return!1;var f=o.length-1;return c==f?o.pop():Bl.call(o,c,1),--this.size,!0}function Nx(r){var o=this.__data__,c=Wl(o,r);return c<0?e:o[c][1]}function Wx(r){return Wl(this.__data__,r)>-1}function zx(r,o){var c=this.__data__,f=Wl(c,r);return f<0?(++this.size,c.push([r,o])):c[f][1]=o,this}sr.prototype.clear=$x,sr.prototype.delete=Fx,sr.prototype.get=Nx,sr.prototype.has=Wx,sr.prototype.set=zx;function or(r){var o=-1,c=r==null?0:r.length;for(this.clear();++o<c;){var f=r[o];this.set(f[0],f[1])}}function Hx(){this.size=0,this.__data__={hash:new fs,map:new(na||sr),string:new fs}}function Vx(r){var o=Jl(this,r).delete(r);return this.size-=o?1:0,o}function Ux(r){return Jl(this,r).get(r)}function Gx(r){return Jl(this,r).has(r)}function Kx(r,o){var c=Jl(this,r),f=c.size;return c.set(r,o),this.size+=c.size==f?0:1,this}or.prototype.clear=Hx,or.prototype.delete=Vx,or.prototype.get=Ux,or.prototype.has=Gx,or.prototype.set=Kx;function ps(r){var o=-1,c=r==null?0:r.length;for(this.__data__=new or;++o<c;)this.add(r[o])}function jx(r){return this.__data__.set(r,h),this}function Yx(r){return this.__data__.has(r)}ps.prototype.add=ps.prototype.push=jx,ps.prototype.has=Yx;function mi(r){var o=this.__data__=new sr(r);this.size=o.size}function Xx(){this.__data__=new sr,this.size=0}function Zx(r){var o=this.__data__,c=o.delete(r);return this.size=o.size,c}function qx(r){return this.__data__.get(r)}function Jx(r){return this.__data__.has(r)}function Qx(r,o){var c=this.__data__;if(c instanceof sr){var f=c.__data__;if(!na||f.length<s-1)return f.push([r,o]),this.size=++c.size,this;c=this.__data__=new or(f)}return c.set(r,o),this.size=c.size,this}mi.prototype.clear=Xx,mi.prototype.delete=Zx,mi.prototype.get=qx,mi.prototype.has=Jx,mi.prototype.set=Qx;function Eg(r,o){var c=Ot(r),f=!c&&ys(r),g=!c&&!f&&Vr(r),w=!c&&!f&&!g&&ao(r),T=c||f||g||w,P=T?Hc(r.length,ux):[],B=P.length;for(var H in r)(o||ne.call(r,H))&&!(T&&(H=="length"||g&&(H=="offset"||H=="parent")||w&&(H=="buffer"||H=="byteLength"||H=="byteOffset")||cr(H,B)))&&P.push(H);return P}function Sg(r){var o=r.length;return o?r[sh(0,o-1)]:e}function tE(r,o){return Ql(wn(r),gs(o,0,r.length))}function eE(r){return Ql(wn(r))}function Xc(r,o,c){(c!==e&&!yi(r[o],c)||c===e&&!(o in r))&&ar(r,o,c)}function oa(r,o,c){var f=r[o];(!(ne.call(r,o)&&yi(f,c))||c===e&&!(o in r))&&ar(r,o,c)}function Wl(r,o){for(var c=r.length;c--;)if(yi(r[c][0],o))return c;return-1}function nE(r,o,c,f){return Nr(r,function(g,w,T){o(f,g,c(g),T)}),f}function Cg(r,o){return r&&Ui(o,Ge(o),r)}function iE(r,o){return r&&Ui(o,En(o),r)}function ar(r,o,c){o=="__proto__"&&Al?Al(r,o,{configurable:!0,enumerable:!0,value:c,writable:!0}):r[o]=c}function Zc(r,o){for(var c=-1,f=o.length,g=$(f),w=r==null;++c<f;)g[c]=w?e:Lh(r,o[c]);return g}function gs(r,o,c){return r===r&&(c!==e&&(r=r<=c?r:c),o!==e&&(r=r>=o?r:o)),r}function ti(r,o,c,f,g,w){var T,P=o&v,B=o&b,H=o&_;if(c&&(T=g?c(r,f,g,w):c(r)),T!==e)return T;if(!we(r))return r;var V=Ot(r);if(V){if(T=GE(r),!P)return wn(r,T)}else{var j=an(r),nt=j==Ae||j==sn;if(Vr(r))return Xg(r,P);if(j==Rt||j==Le||nt&&!g){if(T=B||nt?{}:p_(r),!P)return B?AE(r,iE(T,r)):BE(r,Cg(T,r))}else{if(!ue[j])return g?r:{};T=KE(r,j,P)}}w||(w=new mi);var ct=w.get(r);if(ct)return ct;w.set(r,T),V_(r)?r.forEach(function(wt){T.add(ti(wt,o,c,wt,r,w))}):z_(r)&&r.forEach(function(wt,Nt){T.set(Nt,ti(wt,o,c,Nt,r,w))});var bt=H?B?_h:gh:B?En:Ge,Bt=V?e:bt(r);return qn(Bt||r,function(wt,Nt){Bt&&(Nt=wt,wt=r[Nt]),oa(T,Nt,ti(wt,o,c,Nt,r,w))}),T}function rE(r){var o=Ge(r);return function(c){return Tg(c,r,o)}}function Tg(r,o,c){var f=c.length;if(r==null)return!f;for(r=le(r);f--;){var g=c[f],w=o[g],T=r[g];if(T===e&&!(g in r)||!w(T))return!1}return!0}function Rg(r,o,c){if(typeof r!="function")throw new Jn(l);return fa(function(){r.apply(e,c)},o)}function aa(r,o,c,f){var g=-1,w=El,T=!0,P=r.length,B=[],H=o.length;if(!P)return B;c&&(o=_e(o,Wn(c))),f?(w=Dc,T=!1):o.length>=s&&(w=ta,T=!1,o=new ps(o));t:for(;++g<P;){var V=r[g],j=c==null?V:c(V);if(V=f||V!==0?V:0,T&&j===j){for(var nt=H;nt--;)if(o[nt]===j)continue t;B.push(V)}else w(o,j,f)||B.push(V)}return B}var Nr=t_(Vi),Og=t_(Jc,!0);function sE(r,o){var c=!0;return Nr(r,function(f,g,w){return c=!!o(f,g,w),c}),c}function zl(r,o,c){for(var f=-1,g=r.length;++f<g;){var w=r[f],T=o(w);if(T!=null&&(P===e?T===T&&!Hn(T):c(T,P)))var P=T,B=w}return B}function oE(r,o,c,f){var g=r.length;for(c=It(c),c<0&&(c=-c>g?0:g+c),f=f===e||f>g?g:It(f),f<0&&(f+=g),f=c>f?0:G_(f);c<f;)r[c++]=o;return r}function Pg(r,o){var c=[];return Nr(r,function(f,g,w){o(f,g,w)&&c.push(f)}),c}function tn(r,o,c,f,g){var w=-1,T=r.length;for(c||(c=YE),g||(g=[]);++w<T;){var P=r[w];o>0&&c(P)?o>1?tn(P,o-1,c,f,g):Dr(g,P):f||(g[g.length]=P)}return g}var qc=e_(),Lg=e_(!0);function Vi(r,o){return r&&qc(r,o,Ge)}function Jc(r,o){return r&&Lg(r,o,Ge)}function Hl(r,o){return Mr(o,function(c){return hr(r[c])})}function _s(r,o){o=zr(o,r);for(var c=0,f=o.length;r!=null&&c<f;)r=r[Gi(o[c++])];return c&&c==f?r:e}function kg(r,o,c){var f=o(r);return Ot(r)?f:Dr(f,c(r))}function hn(r){return r==null?r===e?X:Me:ds&&ds in le(r)?HE(r):eS(r)}function Qc(r,o){return r>o}function aE(r,o){return r!=null&&ne.call(r,o)}function lE(r,o){return r!=null&&o in le(r)}function uE(r,o,c){return r>=on(o,c)&&r<He(o,c)}function th(r,o,c){for(var f=c?Dc:El,g=r[0].length,w=r.length,T=w,P=$(w),B=1/0,H=[];T--;){var V=r[T];T&&o&&(V=_e(V,Wn(o))),B=on(V.length,B),P[T]=!c&&(o||g>=120&&V.length>=120)?new ps(T&&V):e}V=r[0];var j=-1,nt=P[0];t:for(;++j<g&&H.length<B;){var ct=V[j],bt=o?o(ct):ct;if(ct=c||ct!==0?ct:0,!(nt?ta(nt,bt):f(H,bt,c))){for(T=w;--T;){var Bt=P[T];if(!(Bt?ta(Bt,bt):f(r[T],bt,c)))continue t}nt&&nt.push(bt),H.push(ct)}}return H}function cE(r,o,c,f){return Vi(r,function(g,w,T){o(f,c(g),w,T)}),f}function la(r,o,c){o=zr(o,r),r=m_(r,o);var f=r==null?r:r[Gi(ni(o))];return f==null?e:Nn(f,r,c)}function Ig(r){return Se(r)&&hn(r)==Le}function hE(r){return Se(r)&&hn(r)==bn}function dE(r){return Se(r)&&hn(r)==rt}function ua(r,o,c,f,g){return r===o?!0:r==null||o==null||!Se(r)&&!Se(o)?r!==r&&o!==o:fE(r,o,c,f,ua,g)}function fE(r,o,c,f,g,w){var T=Ot(r),P=Ot(o),B=T?Xe:an(r),H=P?Xe:an(o);B=B==Le?Rt:B,H=H==Le?Rt:H;var V=B==Rt,j=H==Rt,nt=B==H;if(nt&&Vr(r)){if(!Vr(o))return!1;T=!0,V=!1}if(nt&&!V)return w||(w=new mi),T||ao(r)?h_(r,o,c,f,g,w):WE(r,o,B,c,f,g,w);if(!(c&m)){var ct=V&&ne.call(r,"__wrapped__"),bt=j&&ne.call(o,"__wrapped__");if(ct||bt){var Bt=ct?r.value():r,wt=bt?o.value():o;return w||(w=new mi),g(Bt,wt,c,f,w)}}return nt?(w||(w=new mi),zE(r,o,c,f,g,w)):!1}function pE(r){return Se(r)&&an(r)==be}function eh(r,o,c,f){var g=c.length,w=g,T=!f;if(r==null)return!w;for(r=le(r);g--;){var P=c[g];if(T&&P[2]?P[1]!==r[P[0]]:!(P[0]in r))return!1}for(;++g<w;){P=c[g];var B=P[0],H=r[B],V=P[1];if(T&&P[2]){if(H===e&&!(B in r))return!1}else{var j=new mi;if(f)var nt=f(H,V,B,r,o,j);if(!(nt===e?ua(V,H,m|x,f,j):nt))return!1}}return!0}function Bg(r){if(!we(r)||ZE(r))return!1;var o=hr(r)?px:r1;return o.test(ms(r))}function gE(r){return Se(r)&&hn(r)==de}function _E(r){return Se(r)&&an(r)==ee}function vE(r){return Se(r)&&su(r.length)&&!!fe[hn(r)]}function Ag(r){return typeof r=="function"?r:r==null?Sn:typeof r=="object"?Ot(r)?$g(r[0],r[1]):Dg(r):nv(r)}function nh(r){if(!da(r))return bx(r);var o=[];for(var c in le(r))ne.call(r,c)&&c!="constructor"&&o.push(c);return o}function mE(r){if(!we(r))return tS(r);var o=da(r),c=[];for(var f in r)f=="constructor"&&(o||!ne.call(r,f))||c.push(f);return c}function ih(r,o){return r<o}function Mg(r,o){var c=-1,f=xn(r)?$(r.length):[];return Nr(r,function(g,w,T){f[++c]=o(g,w,T)}),f}function Dg(r){var o=mh(r);return o.length==1&&o[0][2]?__(o[0][0],o[0][1]):function(c){return c===r||eh(c,r,o)}}function $g(r,o){return bh(r)&&g_(o)?__(Gi(r),o):function(c){var f=Lh(c,r);return f===e&&f===o?kh(c,r):ua(o,f,m|x)}}function Vl(r,o,c,f,g){r!==o&&qc(o,function(w,T){if(g||(g=new mi),we(w))yE(r,o,T,c,Vl,f,g);else{var P=f?f(xh(r,T),w,T+"",r,o,g):e;P===e&&(P=w),Xc(r,T,P)}},En)}function yE(r,o,c,f,g,w,T){var P=xh(r,c),B=xh(o,c),H=T.get(B);if(H){Xc(r,c,H);return}var V=w?w(P,B,c+"",r,o,T):e,j=V===e;if(j){var nt=Ot(B),ct=!nt&&Vr(B),bt=!nt&&!ct&&ao(B);V=B,nt||ct||bt?Ot(P)?V=P:ke(P)?V=wn(P):ct?(j=!1,V=Xg(B,!0)):bt?(j=!1,V=Zg(B,!0)):V=[]:pa(B)||ys(B)?(V=P,ys(P)?V=K_(P):(!we(P)||hr(P))&&(V=p_(B))):j=!1}j&&(T.set(B,V),g(V,B,f,w,T),T.delete(B)),Xc(r,c,V)}function Fg(r,o){var c=r.length;if(c)return o+=o<0?c:0,cr(o,c)?r[o]:e}function Ng(r,o,c){o.length?o=_e(o,function(w){return Ot(w)?function(T){return _s(T,w.length===1?w[0]:w)}:w}):o=[Sn];var f=-1;o=_e(o,Wn(mt()));var g=Mg(r,function(w,T,P){var B=_e(o,function(H){return H(w)});return{criteria:B,index:++f,value:w}});return K1(g,function(w,T){return IE(w,T,c)})}function bE(r,o){return Wg(r,o,function(c,f){return kh(r,f)})}function Wg(r,o,c){for(var f=-1,g=o.length,w={};++f<g;){var T=o[f],P=_s(r,T);c(P,T)&&ca(w,zr(T,r),P)}return w}function wE(r){return function(o){return _s(o,r)}}function rh(r,o,c,f){var g=f?G1:Zs,w=-1,T=o.length,P=r;for(r===o&&(o=wn(o)),c&&(P=_e(r,Wn(c)));++w<T;)for(var B=0,H=o[w],V=c?c(H):H;(B=g(P,V,B,f))>-1;)P!==r&&Bl.call(P,B,1),Bl.call(r,B,1);return r}function zg(r,o){for(var c=r?o.length:0,f=c-1;c--;){var g=o[c];if(c==f||g!==w){var w=g;cr(g)?Bl.call(r,g,1):lh(r,g)}}return r}function sh(r,o){return r+Dl(wg()*(o-r+1))}function xE(r,o,c,f){for(var g=-1,w=He(Ml((o-r)/(c||1)),0),T=$(w);w--;)T[f?w:++g]=r,r+=c;return T}function oh(r,o){var c="";if(!r||o<1||o>et)return c;do o%2&&(c+=r),o=Dl(o/2),o&&(r+=r);while(o);return c}function Dt(r,o){return Eh(v_(r,o,Sn),r+"")}function EE(r){return Sg(lo(r))}function SE(r,o){var c=lo(r);return Ql(c,gs(o,0,c.length))}function ca(r,o,c,f){if(!we(r))return r;o=zr(o,r);for(var g=-1,w=o.length,T=w-1,P=r;P!=null&&++g<w;){var B=Gi(o[g]),H=c;if(B==="__proto__"||B==="constructor"||B==="prototype")return r;if(g!=T){var V=P[B];H=f?f(V,B,P):e,H===e&&(H=we(V)?V:cr(o[g+1])?[]:{})}oa(P,B,H),P=P[B]}return r}var Hg=$l?function(r,o){return $l.set(r,o),r}:Sn,CE=Al?function(r,o){return Al(r,"toString",{configurable:!0,enumerable:!1,value:Bh(o),writable:!0})}:Sn;function TE(r){return Ql(lo(r))}function ei(r,o,c){var f=-1,g=r.length;o<0&&(o=-o>g?0:g+o),c=c>g?g:c,c<0&&(c+=g),g=o>c?0:c-o>>>0,o>>>=0;for(var w=$(g);++f<g;)w[f]=r[f+o];return w}function RE(r,o){var c;return Nr(r,function(f,g,w){return c=o(f,g,w),!c}),!!c}function Ul(r,o,c){var f=0,g=r==null?f:r.length;if(typeof o=="number"&&o===o&&g<=oe){for(;f<g;){var w=f+g>>>1,T=r[w];T!==null&&!Hn(T)&&(c?T<=o:T<o)?f=w+1:g=w}return g}return ah(r,o,Sn,c)}function ah(r,o,c,f){var g=0,w=r==null?0:r.length;if(w===0)return 0;o=c(o);for(var T=o!==o,P=o===null,B=Hn(o),H=o===e;g<w;){var V=Dl((g+w)/2),j=c(r[V]),nt=j!==e,ct=j===null,bt=j===j,Bt=Hn(j);if(T)var wt=f||bt;else H?wt=bt&&(f||nt):P?wt=bt&&nt&&(f||!ct):B?wt=bt&&nt&&!ct&&(f||!Bt):ct||Bt?wt=!1:wt=f?j<=o:j<o;wt?g=V+1:w=V}return on(w,he)}function Vg(r,o){for(var c=-1,f=r.length,g=0,w=[];++c<f;){var T=r[c],P=o?o(T):T;if(!c||!yi(P,B)){var B=P;w[g++]=T===0?0:T}}return w}function Ug(r){return typeof r=="number"?r:Hn(r)?Wt:+r}function zn(r){if(typeof r=="string")return r;if(Ot(r))return _e(r,zn)+"";if(Hn(r))return xg?xg.call(r):"";var o=r+"";return o=="0"&&1/r==-z?"-0":o}function Wr(r,o,c){var f=-1,g=El,w=r.length,T=!0,P=[],B=P;if(c)T=!1,g=Dc;else if(w>=s){var H=o?null:FE(r);if(H)return Cl(H);T=!1,g=ta,B=new ps}else B=o?[]:P;t:for(;++f<w;){var V=r[f],j=o?o(V):V;if(V=c||V!==0?V:0,T&&j===j){for(var nt=B.length;nt--;)if(B[nt]===j)continue t;o&&B.push(j),P.push(V)}else g(B,j,c)||(B!==P&&B.push(j),P.push(V))}return P}function lh(r,o){return o=zr(o,r),r=m_(r,o),r==null||delete r[Gi(ni(o))]}function Gg(r,o,c,f){return ca(r,o,c(_s(r,o)),f)}function Gl(r,o,c,f){for(var g=r.length,w=f?g:-1;(f?w--:++w<g)&&o(r[w],w,r););return c?ei(r,f?0:w,f?w+1:g):ei(r,f?w+1:0,f?g:w)}function Kg(r,o){var c=r;return c instanceof zt&&(c=c.value()),$c(o,function(f,g){return g.func.apply(g.thisArg,Dr([f],g.args))},c)}function uh(r,o,c){var f=r.length;if(f<2)return f?Wr(r[0]):[];for(var g=-1,w=$(f);++g<f;)for(var T=r[g],P=-1;++P<f;)P!=g&&(w[g]=aa(w[g]||T,r[P],o,c));return Wr(tn(w,1),o,c)}function jg(r,o,c){for(var f=-1,g=r.length,w=o.length,T={};++f<g;){var P=f<w?o[f]:e;c(T,r[f],P)}return T}function ch(r){return ke(r)?r:[]}function hh(r){return typeof r=="function"?r:Sn}function zr(r,o){return Ot(r)?r:bh(r,o)?[r]:x_(qt(r))}var OE=Dt;function Hr(r,o,c){var f=r.length;return c=c===e?f:c,!o&&c>=f?r:ei(r,o,c)}var Yg=gx||function(r){return Qe.clearTimeout(r)};function Xg(r,o){if(o)return r.slice();var c=r.length,f=_g?_g(c):new r.constructor(c);return r.copy(f),f}function dh(r){var o=new r.constructor(r.byteLength);return new kl(o).set(new kl(r)),o}function PE(r,o){var c=o?dh(r.buffer):r.buffer;return new r.constructor(c,r.byteOffset,r.byteLength)}function LE(r){var o=new r.constructor(r.source,Ip.exec(r));return o.lastIndex=r.lastIndex,o}function kE(r){return sa?le(sa.call(r)):{}}function Zg(r,o){var c=o?dh(r.buffer):r.buffer;return new r.constructor(c,r.byteOffset,r.length)}function qg(r,o){if(r!==o){var c=r!==e,f=r===null,g=r===r,w=Hn(r),T=o!==e,P=o===null,B=o===o,H=Hn(o);if(!P&&!H&&!w&&r>o||w&&T&&B&&!P&&!H||f&&T&&B||!c&&B||!g)return 1;if(!f&&!w&&!H&&r<o||H&&c&&g&&!f&&!w||P&&c&&g||!T&&g||!B)return-1}return 0}function IE(r,o,c){for(var f=-1,g=r.criteria,w=o.criteria,T=g.length,P=c.length;++f<T;){var B=qg(g[f],w[f]);if(B){if(f>=P)return B;var H=c[f];return B*(H=="desc"?-1:1)}}return r.index-o.index}function Jg(r,o,c,f){for(var g=-1,w=r.length,T=c.length,P=-1,B=o.length,H=He(w-T,0),V=$(B+H),j=!f;++P<B;)V[P]=o[P];for(;++g<T;)(j||g<w)&&(V[c[g]]=r[g]);for(;H--;)V[P++]=r[g++];return V}function Qg(r,o,c,f){for(var g=-1,w=r.length,T=-1,P=c.length,B=-1,H=o.length,V=He(w-P,0),j=$(V+H),nt=!f;++g<V;)j[g]=r[g];for(var ct=g;++B<H;)j[ct+B]=o[B];for(;++T<P;)(nt||g<w)&&(j[ct+c[T]]=r[g++]);return j}function wn(r,o){var c=-1,f=r.length;for(o||(o=$(f));++c<f;)o[c]=r[c];return o}function Ui(r,o,c,f){var g=!c;c||(c={});for(var w=-1,T=o.length;++w<T;){var P=o[w],B=f?f(c[P],r[P],P,c,r):e;B===e&&(B=r[P]),g?ar(c,P,B):oa(c,P,B)}return c}function BE(r,o){return Ui(r,yh(r),o)}function AE(r,o){return Ui(r,d_(r),o)}function Kl(r,o){return function(c,f){var g=Ot(c)?N1:nE,w=o?o():{};return g(c,r,mt(f,2),w)}}function ro(r){return Dt(function(o,c){var f=-1,g=c.length,w=g>1?c[g-1]:e,T=g>2?c[2]:e;for(w=r.length>3&&typeof w=="function"?(g--,w):e,T&&dn(c[0],c[1],T)&&(w=g<3?e:w,g=1),o=le(o);++f<g;){var P=c[f];P&&r(o,P,f,w)}return o})}function t_(r,o){return function(c,f){if(c==null)return c;if(!xn(c))return r(c,f);for(var g=c.length,w=o?g:-1,T=le(c);(o?w--:++w<g)&&f(T[w],w,T)!==!1;);return c}}function e_(r){return function(o,c,f){for(var g=-1,w=le(o),T=f(o),P=T.length;P--;){var B=T[r?P:++g];if(c(w[B],B,w)===!1)break}return o}}function ME(r,o,c){var f=o&R,g=ha(r);function w(){var T=this&&this!==Qe&&this instanceof w?g:r;return T.apply(f?c:this,arguments)}return w}function n_(r){return function(o){o=qt(o);var c=qs(o)?vi(o):e,f=c?c[0]:o.charAt(0),g=c?Hr(c,1).join(""):o.slice(1);return f[r]()+g}}function so(r){return function(o){return $c(tv(Q_(o).replace(C1,"")),r,"")}}function ha(r){return function(){var o=arguments;switch(o.length){case 0:return new r;case 1:return new r(o[0]);case 2:return new r(o[0],o[1]);case 3:return new r(o[0],o[1],o[2]);case 4:return new r(o[0],o[1],o[2],o[3]);case 5:return new r(o[0],o[1],o[2],o[3],o[4]);case 6:return new r(o[0],o[1],o[2],o[3],o[4],o[5]);case 7:return new r(o[0],o[1],o[2],o[3],o[4],o[5],o[6])}var c=io(r.prototype),f=r.apply(c,o);return we(f)?f:c}}function DE(r,o,c){var f=ha(r);function g(){for(var w=arguments.length,T=$(w),P=w,B=oo(g);P--;)T[P]=arguments[P];var H=w<3&&T[0]!==B&&T[w-1]!==B?[]:$r(T,B);if(w-=H.length,w<c)return a_(r,o,jl,g.placeholder,e,T,H,e,e,c-w);var V=this&&this!==Qe&&this instanceof g?f:r;return Nn(V,this,T)}return g}function i_(r){return function(o,c,f){var g=le(o);if(!xn(o)){var w=mt(c,3);o=Ge(o),c=function(P){return w(g[P],P,g)}}var T=r(o,c,f);return T>-1?g[w?o[T]:T]:e}}function r_(r){return ur(function(o){var c=o.length,f=c,g=Qn.prototype.thru;for(r&&o.reverse();f--;){var w=o[f];if(typeof w!="function")throw new Jn(l);if(g&&!T&&ql(w)=="wrapper")var T=new Qn([],!0)}for(f=T?f:c;++f<c;){w=o[f];var P=ql(w),B=P=="wrapper"?vh(w):e;B&&wh(B[0])&&B[1]==(I|A|E|U)&&!B[4].length&&B[9]==1?T=T[ql(B[0])].apply(T,B[3]):T=w.length==1&&wh(w)?T[P]():T.thru(w)}return function(){var H=arguments,V=H[0];if(T&&H.length==1&&Ot(V))return T.plant(V).value();for(var j=0,nt=c?o[j].apply(this,H):V;++j<c;)nt=o[j].call(this,nt);return nt}})}function jl(r,o,c,f,g,w,T,P,B,H){var V=o&I,j=o&R,nt=o&C,ct=o&(A|O),bt=o&tt,Bt=nt?e:ha(r);function wt(){for(var Nt=arguments.length,Ut=$(Nt),Vn=Nt;Vn--;)Ut[Vn]=arguments[Vn];if(ct)var fn=oo(wt),Un=Y1(Ut,fn);if(f&&(Ut=Jg(Ut,f,g,ct)),w&&(Ut=Qg(Ut,w,T,ct)),Nt-=Un,ct&&Nt<H){var Ie=$r(Ut,fn);return a_(r,o,jl,wt.placeholder,c,Ut,Ie,P,B,H-Nt)}var bi=j?c:this,fr=nt?bi[r]:r;return Nt=Ut.length,P?Ut=nS(Ut,P):bt&&Nt>1&&Ut.reverse(),V&&B<Nt&&(Ut.length=B),this&&this!==Qe&&this instanceof wt&&(fr=Bt||ha(fr)),fr.apply(bi,Ut)}return wt}function s_(r,o){return function(c,f){return cE(c,r,o(f),{})}}function Yl(r,o){return function(c,f){var g;if(c===e&&f===e)return o;if(c!==e&&(g=c),f!==e){if(g===e)return f;typeof c=="string"||typeof f=="string"?(c=zn(c),f=zn(f)):(c=Ug(c),f=Ug(f)),g=r(c,f)}return g}}function fh(r){return ur(function(o){return o=_e(o,Wn(mt())),Dt(function(c){var f=this;return r(o,function(g){return Nn(g,f,c)})})})}function Xl(r,o){o=o===e?" ":zn(o);var c=o.length;if(c<2)return c?oh(o,r):o;var f=oh(o,Ml(r/Js(o)));return qs(o)?Hr(vi(f),0,r).join(""):f.slice(0,r)}function $E(r,o,c,f){var g=o&R,w=ha(r);function T(){for(var P=-1,B=arguments.length,H=-1,V=f.length,j=$(V+B),nt=this&&this!==Qe&&this instanceof T?w:r;++H<V;)j[H]=f[H];for(;B--;)j[H++]=arguments[++P];return Nn(nt,g?c:this,j)}return T}function o_(r){return function(o,c,f){return f&&typeof f!="number"&&dn(o,c,f)&&(c=f=e),o=dr(o),c===e?(c=o,o=0):c=dr(c),f=f===e?o<c?1:-1:dr(f),xE(o,c,f,r)}}function Zl(r){return function(o,c){return typeof o=="string"&&typeof c=="string"||(o=ii(o),c=ii(c)),r(o,c)}}function a_(r,o,c,f,g,w,T,P,B,H){var V=o&A,j=V?T:e,nt=V?e:T,ct=V?w:e,bt=V?e:w;o|=V?E:M,o&=~(V?M:E),o&L||(o&=~(R|C));var Bt=[r,o,g,ct,j,bt,nt,P,B,H],wt=c.apply(e,Bt);return wh(r)&&y_(wt,Bt),wt.placeholder=f,b_(wt,r,o)}function ph(r){var o=ze[r];return function(c,f){if(c=ii(c),f=f==null?0:on(It(f),292),f&&bg(c)){var g=(qt(c)+"e").split("e"),w=o(g[0]+"e"+(+g[1]+f));return g=(qt(w)+"e").split("e"),+(g[0]+"e"+(+g[1]-f))}return o(c)}}var FE=eo&&1/Cl(new eo([,-0]))[1]==z?function(r){return new eo(r)}:Dh;function l_(r){return function(o){var c=an(o);return c==be?Uc(o):c==ee?ex(o):j1(o,r(o))}}function lr(r,o,c,f,g,w,T,P){var B=o&C;if(!B&&typeof r!="function")throw new Jn(l);var H=f?f.length:0;if(H||(o&=~(E|M),f=g=e),T=T===e?T:He(It(T),0),P=P===e?P:It(P),H-=g?g.length:0,o&M){var V=f,j=g;f=g=e}var nt=B?e:vh(r),ct=[r,o,c,f,g,V,j,w,T,P];if(nt&&QE(ct,nt),r=ct[0],o=ct[1],c=ct[2],f=ct[3],g=ct[4],P=ct[9]=ct[9]===e?B?0:r.length:He(ct[9]-H,0),!P&&o&(A|O)&&(o&=~(A|O)),!o||o==R)var bt=ME(r,o,c);else o==A||o==O?bt=DE(r,o,P):(o==E||o==(R|E))&&!g.length?bt=$E(r,o,c,f):bt=jl.apply(e,ct);var Bt=nt?Hg:y_;return b_(Bt(bt,ct),r,o)}function u_(r,o,c,f){return r===e||yi(r,to[c])&&!ne.call(f,c)?o:r}function c_(r,o,c,f,g,w){return we(r)&&we(o)&&(w.set(o,r),Vl(r,o,e,c_,w),w.delete(o)),r}function NE(r){return pa(r)?e:r}function h_(r,o,c,f,g,w){var T=c&m,P=r.length,B=o.length;if(P!=B&&!(T&&B>P))return!1;var H=w.get(r),V=w.get(o);if(H&&V)return H==o&&V==r;var j=-1,nt=!0,ct=c&x?new ps:e;for(w.set(r,o),w.set(o,r);++j<P;){var bt=r[j],Bt=o[j];if(f)var wt=T?f(Bt,bt,j,o,r,w):f(bt,Bt,j,r,o,w);if(wt!==e){if(wt)continue;nt=!1;break}if(ct){if(!Fc(o,function(Nt,Ut){if(!ta(ct,Ut)&&(bt===Nt||g(bt,Nt,c,f,w)))return ct.push(Ut)})){nt=!1;break}}else if(!(bt===Bt||g(bt,Bt,c,f,w))){nt=!1;break}}return w.delete(r),w.delete(o),nt}function WE(r,o,c,f,g,w,T){switch(c){case Yt:if(r.byteLength!=o.byteLength||r.byteOffset!=o.byteOffset)return!1;r=r.buffer,o=o.buffer;case bn:return!(r.byteLength!=o.byteLength||!w(new kl(r),new kl(o)));case Ze:case rt:case qe:return yi(+r,+o);case Ht:return r.name==o.name&&r.message==o.message;case de:case Je:return r==o+"";case be:var P=Uc;case ee:var B=f&m;if(P||(P=Cl),r.size!=o.size&&!B)return!1;var H=T.get(r);if(H)return H==o;f|=x,T.set(r,o);var V=h_(P(r),P(o),f,g,w,T);return T.delete(r),V;case $n:if(sa)return sa.call(r)==sa.call(o)}return!1}function zE(r,o,c,f,g,w){var T=c&m,P=gh(r),B=P.length,H=gh(o),V=H.length;if(B!=V&&!T)return!1;for(var j=B;j--;){var nt=P[j];if(!(T?nt in o:ne.call(o,nt)))return!1}var ct=w.get(r),bt=w.get(o);if(ct&&bt)return ct==o&&bt==r;var Bt=!0;w.set(r,o),w.set(o,r);for(var wt=T;++j<B;){nt=P[j];var Nt=r[nt],Ut=o[nt];if(f)var Vn=T?f(Ut,Nt,nt,o,r,w):f(Nt,Ut,nt,r,o,w);if(!(Vn===e?Nt===Ut||g(Nt,Ut,c,f,w):Vn)){Bt=!1;break}wt||(wt=nt=="constructor")}if(Bt&&!wt){var fn=r.constructor,Un=o.constructor;fn!=Un&&"constructor"in r&&"constructor"in o&&!(typeof fn=="function"&&fn instanceof fn&&typeof Un=="function"&&Un instanceof Un)&&(Bt=!1)}return w.delete(r),w.delete(o),Bt}function ur(r){return Eh(v_(r,e,T_),r+"")}function gh(r){return kg(r,Ge,yh)}function _h(r){return kg(r,En,d_)}var vh=$l?function(r){return $l.get(r)}:Dh;function ql(r){for(var o=r.name+"",c=no[o],f=ne.call(no,o)?c.length:0;f--;){var g=c[f],w=g.func;if(w==null||w==r)return g.name}return o}function oo(r){var o=ne.call(y,"placeholder")?y:r;return o.placeholder}function mt(){var r=y.iteratee||Ah;return r=r===Ah?Ag:r,arguments.length?r(arguments[0],arguments[1]):r}function Jl(r,o){var c=r.__data__;return XE(o)?c[typeof o=="string"?"string":"hash"]:c.map}function mh(r){for(var o=Ge(r),c=o.length;c--;){var f=o[c],g=r[f];o[c]=[f,g,g_(g)]}return o}function vs(r,o){var c=J1(r,o);return Bg(c)?c:e}function HE(r){var o=ne.call(r,ds),c=r[ds];try{r[ds]=e;var f=!0}catch{}var g=Pl.call(r);return f&&(o?r[ds]=c:delete r[ds]),g}var yh=Kc?function(r){return r==null?[]:(r=le(r),Mr(Kc(r),function(o){return mg.call(r,o)}))}:$h,d_=Kc?function(r){for(var o=[];r;)Dr(o,yh(r)),r=Il(r);return o}:$h,an=hn;(jc&&an(new jc(new ArrayBuffer(1)))!=Yt||na&&an(new na)!=be||Yc&&an(Yc.resolve())!=We||eo&&an(new eo)!=ee||ia&&an(new ia)!=Vt)&&(an=function(r){var o=hn(r),c=o==Rt?r.constructor:e,f=c?ms(c):"";if(f)switch(f){case Sx:return Yt;case Cx:return be;case Tx:return We;case Rx:return ee;case Ox:return Vt}return o});function VE(r,o,c){for(var f=-1,g=c.length;++f<g;){var w=c[f],T=w.size;switch(w.type){case"drop":r+=T;break;case"dropRight":o-=T;break;case"take":o=on(o,r+T);break;case"takeRight":r=He(r,o-T);break}}return{start:r,end:o}}function UE(r){var o=r.match(Zw);return o?o[1].split(qw):[]}function f_(r,o,c){o=zr(o,r);for(var f=-1,g=o.length,w=!1;++f<g;){var T=Gi(o[f]);if(!(w=r!=null&&c(r,T)))break;r=r[T]}return w||++f!=g?w:(g=r==null?0:r.length,!!g&&su(g)&&cr(T,g)&&(Ot(r)||ys(r)))}function GE(r){var o=r.length,c=new r.constructor(o);return o&&typeof r[0]=="string"&&ne.call(r,"index")&&(c.index=r.index,c.input=r.input),c}function p_(r){return typeof r.constructor=="function"&&!da(r)?io(Il(r)):{}}function KE(r,o,c){var f=r.constructor;switch(o){case bn:return dh(r);case Ze:case rt:return new f(+r);case Yt:return PE(r,c);case Fn:case Hi:case _i:case qo:case Ar:case Jo:case cs:case Qo:case Tc:return Zg(r,c);case be:return new f;case qe:case Je:return new f(r);case de:return LE(r);case ee:return new f;case $n:return kE(r)}}function jE(r,o){var c=o.length;if(!c)return r;var f=c-1;return o[f]=(c>1?"& ":"")+o[f],o=o.join(c>2?", ":" "),r.replace(Xw,`{
/* [wrapped with `+o+`] */
`)}function YE(r){return Ot(r)||ys(r)||!!(yg&&r&&r[yg])}function cr(r,o){var c=typeof r;return o=o??et,!!o&&(c=="number"||c!="symbol"&&o1.test(r))&&r>-1&&r%1==0&&r<o}function dn(r,o,c){if(!we(c))return!1;var f=typeof o;return(f=="number"?xn(c)&&cr(o,c.length):f=="string"&&o in c)?yi(c[o],r):!1}function bh(r,o){if(Ot(r))return!1;var c=typeof r;return c=="number"||c=="symbol"||c=="boolean"||r==null||Hn(r)?!0:Gw.test(r)||!Uw.test(r)||o!=null&&r in le(o)}function XE(r){var o=typeof r;return o=="string"||o=="number"||o=="symbol"||o=="boolean"?r!=="__proto__":r===null}function wh(r){var o=ql(r),c=y[o];if(typeof c!="function"||!(o in zt.prototype))return!1;if(r===c)return!0;var f=vh(c);return!!f&&r===f[0]}function ZE(r){return!!gg&&gg in r}var qE=Rl?hr:Fh;function da(r){var o=r&&r.constructor,c=typeof o=="function"&&o.prototype||to;return r===c}function g_(r){return r===r&&!we(r)}function __(r,o){return function(c){return c==null?!1:c[r]===o&&(o!==e||r in le(c))}}function JE(r){var o=iu(r,function(f){return c.size===d&&c.clear(),f}),c=o.cache;return o}function QE(r,o){var c=r[1],f=o[1],g=c|f,w=g<(R|C|I),T=f==I&&c==A||f==I&&c==U&&r[7].length<=o[8]||f==(I|U)&&o[7].length<=o[8]&&c==A;if(!(w||T))return r;f&R&&(r[2]=o[2],g|=c&R?0:L);var P=o[3];if(P){var B=r[3];r[3]=B?Jg(B,P,o[4]):P,r[4]=B?$r(r[3],p):o[4]}return P=o[5],P&&(B=r[5],r[5]=B?Qg(B,P,o[6]):P,r[6]=B?$r(r[5],p):o[6]),P=o[7],P&&(r[7]=P),f&I&&(r[8]=r[8]==null?o[8]:on(r[8],o[8])),r[9]==null&&(r[9]=o[9]),r[0]=o[0],r[1]=g,r}function tS(r){var o=[];if(r!=null)for(var c in le(r))o.push(c);return o}function eS(r){return Pl.call(r)}function v_(r,o,c){return o=He(o===e?r.length-1:o,0),function(){for(var f=arguments,g=-1,w=He(f.length-o,0),T=$(w);++g<w;)T[g]=f[o+g];g=-1;for(var P=$(o+1);++g<o;)P[g]=f[g];return P[o]=c(T),Nn(r,this,P)}}function m_(r,o){return o.length<2?r:_s(r,ei(o,0,-1))}function nS(r,o){for(var c=r.length,f=on(o.length,c),g=wn(r);f--;){var w=o[f];r[f]=cr(w,c)?g[w]:e}return r}function xh(r,o){if(!(o==="constructor"&&typeof r[o]=="function")&&o!="__proto__")return r[o]}var y_=w_(Hg),fa=vx||function(r,o){return Qe.setTimeout(r,o)},Eh=w_(CE);function b_(r,o,c){var f=o+"";return Eh(r,jE(f,iS(UE(f),c)))}function w_(r){var o=0,c=0;return function(){var f=wx(),g=it-(f-c);if(c=f,g>0){if(++o>=Y)return arguments[0]}else o=0;return r.apply(e,arguments)}}function Ql(r,o){var c=-1,f=r.length,g=f-1;for(o=o===e?f:o;++c<o;){var w=sh(c,g),T=r[w];r[w]=r[c],r[c]=T}return r.length=o,r}var x_=JE(function(r){var o=[];return r.charCodeAt(0)===46&&o.push(""),r.replace(Kw,function(c,f,g,w){o.push(g?w.replace(t1,"$1"):f||c)}),o});function Gi(r){if(typeof r=="string"||Hn(r))return r;var o=r+"";return o=="0"&&1/r==-z?"-0":o}function ms(r){if(r!=null){try{return Ol.call(r)}catch{}try{return r+""}catch{}}return""}function iS(r,o){return qn(Ye,function(c){var f="_."+c[0];o&c[1]&&!El(r,f)&&r.push(f)}),r.sort()}function E_(r){if(r instanceof zt)return r.clone();var o=new Qn(r.__wrapped__,r.__chain__);return o.__actions__=wn(r.__actions__),o.__index__=r.__index__,o.__values__=r.__values__,o}function rS(r,o,c){(c?dn(r,o,c):o===e)?o=1:o=He(It(o),0);var f=r==null?0:r.length;if(!f||o<1)return[];for(var g=0,w=0,T=$(Ml(f/o));g<f;)T[w++]=ei(r,g,g+=o);return T}function sS(r){for(var o=-1,c=r==null?0:r.length,f=0,g=[];++o<c;){var w=r[o];w&&(g[f++]=w)}return g}function oS(){var r=arguments.length;if(!r)return[];for(var o=$(r-1),c=arguments[0],f=r;f--;)o[f-1]=arguments[f];return Dr(Ot(c)?wn(c):[c],tn(o,1))}var aS=Dt(function(r,o){return ke(r)?aa(r,tn(o,1,ke,!0)):[]}),lS=Dt(function(r,o){var c=ni(o);return ke(c)&&(c=e),ke(r)?aa(r,tn(o,1,ke,!0),mt(c,2)):[]}),uS=Dt(function(r,o){var c=ni(o);return ke(c)&&(c=e),ke(r)?aa(r,tn(o,1,ke,!0),e,c):[]});function cS(r,o,c){var f=r==null?0:r.length;return f?(o=c||o===e?1:It(o),ei(r,o<0?0:o,f)):[]}function hS(r,o,c){var f=r==null?0:r.length;return f?(o=c||o===e?1:It(o),o=f-o,ei(r,0,o<0?0:o)):[]}function dS(r,o){return r&&r.length?Gl(r,mt(o,3),!0,!0):[]}function fS(r,o){return r&&r.length?Gl(r,mt(o,3),!0):[]}function pS(r,o,c,f){var g=r==null?0:r.length;return g?(c&&typeof c!="number"&&dn(r,o,c)&&(c=0,f=g),oE(r,o,c,f)):[]}function S_(r,o,c){var f=r==null?0:r.length;if(!f)return-1;var g=c==null?0:It(c);return g<0&&(g=He(f+g,0)),Sl(r,mt(o,3),g)}function C_(r,o,c){var f=r==null?0:r.length;if(!f)return-1;var g=f-1;return c!==e&&(g=It(c),g=c<0?He(f+g,0):on(g,f-1)),Sl(r,mt(o,3),g,!0)}function T_(r){var o=r==null?0:r.length;return o?tn(r,1):[]}function gS(r){var o=r==null?0:r.length;return o?tn(r,z):[]}function _S(r,o){var c=r==null?0:r.length;return c?(o=o===e?1:It(o),tn(r,o)):[]}function vS(r){for(var o=-1,c=r==null?0:r.length,f={};++o<c;){var g=r[o];f[g[0]]=g[1]}return f}function R_(r){return r&&r.length?r[0]:e}function mS(r,o,c){var f=r==null?0:r.length;if(!f)return-1;var g=c==null?0:It(c);return g<0&&(g=He(f+g,0)),Zs(r,o,g)}function yS(r){var o=r==null?0:r.length;return o?ei(r,0,-1):[]}var bS=Dt(function(r){var o=_e(r,ch);return o.length&&o[0]===r[0]?th(o):[]}),wS=Dt(function(r){var o=ni(r),c=_e(r,ch);return o===ni(c)?o=e:c.pop(),c.length&&c[0]===r[0]?th(c,mt(o,2)):[]}),xS=Dt(function(r){var o=ni(r),c=_e(r,ch);return o=typeof o=="function"?o:e,o&&c.pop(),c.length&&c[0]===r[0]?th(c,e,o):[]});function ES(r,o){return r==null?"":yx.call(r,o)}function ni(r){var o=r==null?0:r.length;return o?r[o-1]:e}function SS(r,o,c){var f=r==null?0:r.length;if(!f)return-1;var g=f;return c!==e&&(g=It(c),g=g<0?He(f+g,0):on(g,f-1)),o===o?ix(r,o,g):Sl(r,ag,g,!0)}function CS(r,o){return r&&r.length?Fg(r,It(o)):e}var TS=Dt(O_);function O_(r,o){return r&&r.length&&o&&o.length?rh(r,o):r}function RS(r,o,c){return r&&r.length&&o&&o.length?rh(r,o,mt(c,2)):r}function OS(r,o,c){return r&&r.length&&o&&o.length?rh(r,o,e,c):r}var PS=ur(function(r,o){var c=r==null?0:r.length,f=Zc(r,o);return zg(r,_e(o,function(g){return cr(g,c)?+g:g}).sort(qg)),f});function LS(r,o){var c=[];if(!(r&&r.length))return c;var f=-1,g=[],w=r.length;for(o=mt(o,3);++f<w;){var T=r[f];o(T,f,r)&&(c.push(T),g.push(f))}return zg(r,g),c}function Sh(r){return r==null?r:Ex.call(r)}function kS(r,o,c){var f=r==null?0:r.length;return f?(c&&typeof c!="number"&&dn(r,o,c)?(o=0,c=f):(o=o==null?0:It(o),c=c===e?f:It(c)),ei(r,o,c)):[]}function IS(r,o){return Ul(r,o)}function BS(r,o,c){return ah(r,o,mt(c,2))}function AS(r,o){var c=r==null?0:r.length;if(c){var f=Ul(r,o);if(f<c&&yi(r[f],o))return f}return-1}function MS(r,o){return Ul(r,o,!0)}function DS(r,o,c){return ah(r,o,mt(c,2),!0)}function $S(r,o){var c=r==null?0:r.length;if(c){var f=Ul(r,o,!0)-1;if(yi(r[f],o))return f}return-1}function FS(r){return r&&r.length?Vg(r):[]}function NS(r,o){return r&&r.length?Vg(r,mt(o,2)):[]}function WS(r){var o=r==null?0:r.length;return o?ei(r,1,o):[]}function zS(r,o,c){return r&&r.length?(o=c||o===e?1:It(o),ei(r,0,o<0?0:o)):[]}function HS(r,o,c){var f=r==null?0:r.length;return f?(o=c||o===e?1:It(o),o=f-o,ei(r,o<0?0:o,f)):[]}function VS(r,o){return r&&r.length?Gl(r,mt(o,3),!1,!0):[]}function US(r,o){return r&&r.length?Gl(r,mt(o,3)):[]}var GS=Dt(function(r){return Wr(tn(r,1,ke,!0))}),KS=Dt(function(r){var o=ni(r);return ke(o)&&(o=e),Wr(tn(r,1,ke,!0),mt(o,2))}),jS=Dt(function(r){var o=ni(r);return o=typeof o=="function"?o:e,Wr(tn(r,1,ke,!0),e,o)});function YS(r){return r&&r.length?Wr(r):[]}function XS(r,o){return r&&r.length?Wr(r,mt(o,2)):[]}function ZS(r,o){return o=typeof o=="function"?o:e,r&&r.length?Wr(r,e,o):[]}function Ch(r){if(!(r&&r.length))return[];var o=0;return r=Mr(r,function(c){if(ke(c))return o=He(c.length,o),!0}),Hc(o,function(c){return _e(r,Nc(c))})}function P_(r,o){if(!(r&&r.length))return[];var c=Ch(r);return o==null?c:_e(c,function(f){return Nn(o,e,f)})}var qS=Dt(function(r,o){return ke(r)?aa(r,o):[]}),JS=Dt(function(r){return uh(Mr(r,ke))}),QS=Dt(function(r){var o=ni(r);return ke(o)&&(o=e),uh(Mr(r,ke),mt(o,2))}),t2=Dt(function(r){var o=ni(r);return o=typeof o=="function"?o:e,uh(Mr(r,ke),e,o)}),e2=Dt(Ch);function n2(r,o){return jg(r||[],o||[],oa)}function i2(r,o){return jg(r||[],o||[],ca)}var r2=Dt(function(r){var o=r.length,c=o>1?r[o-1]:e;return c=typeof c=="function"?(r.pop(),c):e,P_(r,c)});function L_(r){var o=y(r);return o.__chain__=!0,o}function s2(r,o){return o(r),r}function tu(r,o){return o(r)}var o2=ur(function(r){var o=r.length,c=o?r[0]:0,f=this.__wrapped__,g=function(w){return Zc(w,r)};return o>1||this.__actions__.length||!(f instanceof zt)||!cr(c)?this.thru(g):(f=f.slice(c,+c+(o?1:0)),f.__actions__.push({func:tu,args:[g],thisArg:e}),new Qn(f,this.__chain__).thru(function(w){return o&&!w.length&&w.push(e),w}))});function a2(){return L_(this)}function l2(){return new Qn(this.value(),this.__chain__)}function u2(){this.__values__===e&&(this.__values__=U_(this.value()));var r=this.__index__>=this.__values__.length,o=r?e:this.__values__[this.__index__++];return{done:r,value:o}}function c2(){return this}function h2(r){for(var o,c=this;c instanceof Nl;){var f=E_(c);f.__index__=0,f.__values__=e,o?g.__wrapped__=f:o=f;var g=f;c=c.__wrapped__}return g.__wrapped__=r,o}function d2(){var r=this.__wrapped__;if(r instanceof zt){var o=r;return this.__actions__.length&&(o=new zt(this)),o=o.reverse(),o.__actions__.push({func:tu,args:[Sh],thisArg:e}),new Qn(o,this.__chain__)}return this.thru(Sh)}function f2(){return Kg(this.__wrapped__,this.__actions__)}var p2=Kl(function(r,o,c){ne.call(r,c)?++r[c]:ar(r,c,1)});function g2(r,o,c){var f=Ot(r)?sg:sE;return c&&dn(r,o,c)&&(o=e),f(r,mt(o,3))}function _2(r,o){var c=Ot(r)?Mr:Pg;return c(r,mt(o,3))}var v2=i_(S_),m2=i_(C_);function y2(r,o){return tn(eu(r,o),1)}function b2(r,o){return tn(eu(r,o),z)}function w2(r,o,c){return c=c===e?1:It(c),tn(eu(r,o),c)}function k_(r,o){var c=Ot(r)?qn:Nr;return c(r,mt(o,3))}function I_(r,o){var c=Ot(r)?W1:Og;return c(r,mt(o,3))}var x2=Kl(function(r,o,c){ne.call(r,c)?r[c].push(o):ar(r,c,[o])});function E2(r,o,c,f){r=xn(r)?r:lo(r),c=c&&!f?It(c):0;var g=r.length;return c<0&&(c=He(g+c,0)),ou(r)?c<=g&&r.indexOf(o,c)>-1:!!g&&Zs(r,o,c)>-1}var S2=Dt(function(r,o,c){var f=-1,g=typeof o=="function",w=xn(r)?$(r.length):[];return Nr(r,function(T){w[++f]=g?Nn(o,T,c):la(T,o,c)}),w}),C2=Kl(function(r,o,c){ar(r,c,o)});function eu(r,o){var c=Ot(r)?_e:Mg;return c(r,mt(o,3))}function T2(r,o,c,f){return r==null?[]:(Ot(o)||(o=o==null?[]:[o]),c=f?e:c,Ot(c)||(c=c==null?[]:[c]),Ng(r,o,c))}var R2=Kl(function(r,o,c){r[c?0:1].push(o)},function(){return[[],[]]});function O2(r,o,c){var f=Ot(r)?$c:ug,g=arguments.length<3;return f(r,mt(o,4),c,g,Nr)}function P2(r,o,c){var f=Ot(r)?z1:ug,g=arguments.length<3;return f(r,mt(o,4),c,g,Og)}function L2(r,o){var c=Ot(r)?Mr:Pg;return c(r,ru(mt(o,3)))}function k2(r){var o=Ot(r)?Sg:EE;return o(r)}function I2(r,o,c){(c?dn(r,o,c):o===e)?o=1:o=It(o);var f=Ot(r)?tE:SE;return f(r,o)}function B2(r){var o=Ot(r)?eE:TE;return o(r)}function A2(r){if(r==null)return 0;if(xn(r))return ou(r)?Js(r):r.length;var o=an(r);return o==be||o==ee?r.size:nh(r).length}function M2(r,o,c){var f=Ot(r)?Fc:RE;return c&&dn(r,o,c)&&(o=e),f(r,mt(o,3))}var D2=Dt(function(r,o){if(r==null)return[];var c=o.length;return c>1&&dn(r,o[0],o[1])?o=[]:c>2&&dn(o[0],o[1],o[2])&&(o=[o[0]]),Ng(r,tn(o,1),[])}),nu=_x||function(){return Qe.Date.now()};function $2(r,o){if(typeof o!="function")throw new Jn(l);return r=It(r),function(){if(--r<1)return o.apply(this,arguments)}}function B_(r,o,c){return o=c?e:o,o=r&&o==null?r.length:o,lr(r,I,e,e,e,e,o)}function A_(r,o){var c;if(typeof o!="function")throw new Jn(l);return r=It(r),function(){return--r>0&&(c=o.apply(this,arguments)),r<=1&&(o=e),c}}var Th=Dt(function(r,o,c){var f=R;if(c.length){var g=$r(c,oo(Th));f|=E}return lr(r,f,o,c,g)}),M_=Dt(function(r,o,c){var f=R|C;if(c.length){var g=$r(c,oo(M_));f|=E}return lr(o,f,r,c,g)});function D_(r,o,c){o=c?e:o;var f=lr(r,A,e,e,e,e,e,o);return f.placeholder=D_.placeholder,f}function $_(r,o,c){o=c?e:o;var f=lr(r,O,e,e,e,e,e,o);return f.placeholder=$_.placeholder,f}function F_(r,o,c){var f,g,w,T,P,B,H=0,V=!1,j=!1,nt=!0;if(typeof r!="function")throw new Jn(l);o=ii(o)||0,we(c)&&(V=!!c.leading,j="maxWait"in c,w=j?He(ii(c.maxWait)||0,o):w,nt="trailing"in c?!!c.trailing:nt);function ct(Ie){var bi=f,fr=g;return f=g=e,H=Ie,T=r.apply(fr,bi),T}function bt(Ie){return H=Ie,P=fa(Nt,o),V?ct(Ie):T}function Bt(Ie){var bi=Ie-B,fr=Ie-H,iv=o-bi;return j?on(iv,w-fr):iv}function wt(Ie){var bi=Ie-B,fr=Ie-H;return B===e||bi>=o||bi<0||j&&fr>=w}function Nt(){var Ie=nu();if(wt(Ie))return Ut(Ie);P=fa(Nt,Bt(Ie))}function Ut(Ie){return P=e,nt&&f?ct(Ie):(f=g=e,T)}function Vn(){P!==e&&Yg(P),H=0,f=B=g=P=e}function fn(){return P===e?T:Ut(nu())}function Un(){var Ie=nu(),bi=wt(Ie);if(f=arguments,g=this,B=Ie,bi){if(P===e)return bt(B);if(j)return Yg(P),P=fa(Nt,o),ct(B)}return P===e&&(P=fa(Nt,o)),T}return Un.cancel=Vn,Un.flush=fn,Un}var F2=Dt(function(r,o){return Rg(r,1,o)}),N2=Dt(function(r,o,c){return Rg(r,ii(o)||0,c)});function W2(r){return lr(r,tt)}function iu(r,o){if(typeof r!="function"||o!=null&&typeof o!="function")throw new Jn(l);var c=function(){var f=arguments,g=o?o.apply(this,f):f[0],w=c.cache;if(w.has(g))return w.get(g);var T=r.apply(this,f);return c.cache=w.set(g,T)||w,T};return c.cache=new(iu.Cache||or),c}iu.Cache=or;function ru(r){if(typeof r!="function")throw new Jn(l);return function(){var o=arguments;switch(o.length){case 0:return!r.call(this);case 1:return!r.call(this,o[0]);case 2:return!r.call(this,o[0],o[1]);case 3:return!r.call(this,o[0],o[1],o[2])}return!r.apply(this,o)}}function z2(r){return A_(2,r)}var H2=OE(function(r,o){o=o.length==1&&Ot(o[0])?_e(o[0],Wn(mt())):_e(tn(o,1),Wn(mt()));var c=o.length;return Dt(function(f){for(var g=-1,w=on(f.length,c);++g<w;)f[g]=o[g].call(this,f[g]);return Nn(r,this,f)})}),Rh=Dt(function(r,o){var c=$r(o,oo(Rh));return lr(r,E,e,o,c)}),N_=Dt(function(r,o){var c=$r(o,oo(N_));return lr(r,M,e,o,c)}),V2=ur(function(r,o){return lr(r,U,e,e,e,o)});function U2(r,o){if(typeof r!="function")throw new Jn(l);return o=o===e?o:It(o),Dt(r,o)}function G2(r,o){if(typeof r!="function")throw new Jn(l);return o=o==null?0:He(It(o),0),Dt(function(c){var f=c[o],g=Hr(c,0,o);return f&&Dr(g,f),Nn(r,this,g)})}function K2(r,o,c){var f=!0,g=!0;if(typeof r!="function")throw new Jn(l);return we(c)&&(f="leading"in c?!!c.leading:f,g="trailing"in c?!!c.trailing:g),F_(r,o,{leading:f,maxWait:o,trailing:g})}function j2(r){return B_(r,1)}function Y2(r,o){return Rh(hh(o),r)}function X2(){if(!arguments.length)return[];var r=arguments[0];return Ot(r)?r:[r]}function Z2(r){return ti(r,_)}function q2(r,o){return o=typeof o=="function"?o:e,ti(r,_,o)}function J2(r){return ti(r,v|_)}function Q2(r,o){return o=typeof o=="function"?o:e,ti(r,v|_,o)}function tC(r,o){return o==null||Tg(r,o,Ge(o))}function yi(r,o){return r===o||r!==r&&o!==o}var eC=Zl(Qc),nC=Zl(function(r,o){return r>=o}),ys=Ig(function(){return arguments}())?Ig:function(r){return Se(r)&&ne.call(r,"callee")&&!mg.call(r,"callee")},Ot=$.isArray,iC=Qp?Wn(Qp):hE;function xn(r){return r!=null&&su(r.length)&&!hr(r)}function ke(r){return Se(r)&&xn(r)}function rC(r){return r===!0||r===!1||Se(r)&&hn(r)==Ze}var Vr=mx||Fh,sC=tg?Wn(tg):dE;function oC(r){return Se(r)&&r.nodeType===1&&!pa(r)}function aC(r){if(r==null)return!0;if(xn(r)&&(Ot(r)||typeof r=="string"||typeof r.splice=="function"||Vr(r)||ao(r)||ys(r)))return!r.length;var o=an(r);if(o==be||o==ee)return!r.size;if(da(r))return!nh(r).length;for(var c in r)if(ne.call(r,c))return!1;return!0}function lC(r,o){return ua(r,o)}function uC(r,o,c){c=typeof c=="function"?c:e;var f=c?c(r,o):e;return f===e?ua(r,o,e,c):!!f}function Oh(r){if(!Se(r))return!1;var o=hn(r);return o==Ht||o==Mt||typeof r.message=="string"&&typeof r.name=="string"&&!pa(r)}function cC(r){return typeof r=="number"&&bg(r)}function hr(r){if(!we(r))return!1;var o=hn(r);return o==Ae||o==sn||o==zi||o==Dn}function W_(r){return typeof r=="number"&&r==It(r)}function su(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=et}function we(r){var o=typeof r;return r!=null&&(o=="object"||o=="function")}function Se(r){return r!=null&&typeof r=="object"}var z_=eg?Wn(eg):pE;function hC(r,o){return r===o||eh(r,o,mh(o))}function dC(r,o,c){return c=typeof c=="function"?c:e,eh(r,o,mh(o),c)}function fC(r){return H_(r)&&r!=+r}function pC(r){if(qE(r))throw new St(a);return Bg(r)}function gC(r){return r===null}function _C(r){return r==null}function H_(r){return typeof r=="number"||Se(r)&&hn(r)==qe}function pa(r){if(!Se(r)||hn(r)!=Rt)return!1;var o=Il(r);if(o===null)return!0;var c=ne.call(o,"constructor")&&o.constructor;return typeof c=="function"&&c instanceof c&&Ol.call(c)==dx}var Ph=ng?Wn(ng):gE;function vC(r){return W_(r)&&r>=-et&&r<=et}var V_=ig?Wn(ig):_E;function ou(r){return typeof r=="string"||!Ot(r)&&Se(r)&&hn(r)==Je}function Hn(r){return typeof r=="symbol"||Se(r)&&hn(r)==$n}var ao=rg?Wn(rg):vE;function mC(r){return r===e}function yC(r){return Se(r)&&an(r)==Vt}function bC(r){return Se(r)&&hn(r)==yn}var wC=Zl(ih),xC=Zl(function(r,o){return r<=o});function U_(r){if(!r)return[];if(xn(r))return ou(r)?vi(r):wn(r);if(ea&&r[ea])return tx(r[ea]());var o=an(r),c=o==be?Uc:o==ee?Cl:lo;return c(r)}function dr(r){if(!r)return r===0?r:0;if(r=ii(r),r===z||r===-z){var o=r<0?-1:1;return o*pt}return r===r?r:0}function It(r){var o=dr(r),c=o%1;return o===o?c?o-c:o:0}function G_(r){return r?gs(It(r),0,$t):0}function ii(r){if(typeof r=="number")return r;if(Hn(r))return Wt;if(we(r)){var o=typeof r.valueOf=="function"?r.valueOf():r;r=we(o)?o+"":o}if(typeof r!="string")return r===0?r:+r;r=cg(r);var c=i1.test(r);return c||s1.test(r)?$1(r.slice(2),c?2:8):n1.test(r)?Wt:+r}function K_(r){return Ui(r,En(r))}function EC(r){return r?gs(It(r),-et,et):r===0?r:0}function qt(r){return r==null?"":zn(r)}var SC=ro(function(r,o){if(da(o)||xn(o)){Ui(o,Ge(o),r);return}for(var c in o)ne.call(o,c)&&oa(r,c,o[c])}),j_=ro(function(r,o){Ui(o,En(o),r)}),au=ro(function(r,o,c,f){Ui(o,En(o),r,f)}),CC=ro(function(r,o,c,f){Ui(o,Ge(o),r,f)}),TC=ur(Zc);function RC(r,o){var c=io(r);return o==null?c:Cg(c,o)}var OC=Dt(function(r,o){r=le(r);var c=-1,f=o.length,g=f>2?o[2]:e;for(g&&dn(o[0],o[1],g)&&(f=1);++c<f;)for(var w=o[c],T=En(w),P=-1,B=T.length;++P<B;){var H=T[P],V=r[H];(V===e||yi(V,to[H])&&!ne.call(r,H))&&(r[H]=w[H])}return r}),PC=Dt(function(r){return r.push(e,c_),Nn(Y_,e,r)});function LC(r,o){return og(r,mt(o,3),Vi)}function kC(r,o){return og(r,mt(o,3),Jc)}function IC(r,o){return r==null?r:qc(r,mt(o,3),En)}function BC(r,o){return r==null?r:Lg(r,mt(o,3),En)}function AC(r,o){return r&&Vi(r,mt(o,3))}function MC(r,o){return r&&Jc(r,mt(o,3))}function DC(r){return r==null?[]:Hl(r,Ge(r))}function $C(r){return r==null?[]:Hl(r,En(r))}function Lh(r,o,c){var f=r==null?e:_s(r,o);return f===e?c:f}function FC(r,o){return r!=null&&f_(r,o,aE)}function kh(r,o){return r!=null&&f_(r,o,lE)}var NC=s_(function(r,o,c){o!=null&&typeof o.toString!="function"&&(o=Pl.call(o)),r[o]=c},Bh(Sn)),WC=s_(function(r,o,c){o!=null&&typeof o.toString!="function"&&(o=Pl.call(o)),ne.call(r,o)?r[o].push(c):r[o]=[c]},mt),zC=Dt(la);function Ge(r){return xn(r)?Eg(r):nh(r)}function En(r){return xn(r)?Eg(r,!0):mE(r)}function HC(r,o){var c={};return o=mt(o,3),Vi(r,function(f,g,w){ar(c,o(f,g,w),f)}),c}function VC(r,o){var c={};return o=mt(o,3),Vi(r,function(f,g,w){ar(c,g,o(f,g,w))}),c}var UC=ro(function(r,o,c){Vl(r,o,c)}),Y_=ro(function(r,o,c,f){Vl(r,o,c,f)}),GC=ur(function(r,o){var c={};if(r==null)return c;var f=!1;o=_e(o,function(w){return w=zr(w,r),f||(f=w.length>1),w}),Ui(r,_h(r),c),f&&(c=ti(c,v|b|_,NE));for(var g=o.length;g--;)lh(c,o[g]);return c});function KC(r,o){return X_(r,ru(mt(o)))}var jC=ur(function(r,o){return r==null?{}:bE(r,o)});function X_(r,o){if(r==null)return{};var c=_e(_h(r),function(f){return[f]});return o=mt(o),Wg(r,c,function(f,g){return o(f,g[0])})}function YC(r,o,c){o=zr(o,r);var f=-1,g=o.length;for(g||(g=1,r=e);++f<g;){var w=r==null?e:r[Gi(o[f])];w===e&&(f=g,w=c),r=hr(w)?w.call(r):w}return r}function XC(r,o,c){return r==null?r:ca(r,o,c)}function ZC(r,o,c,f){return f=typeof f=="function"?f:e,r==null?r:ca(r,o,c,f)}var Z_=l_(Ge),q_=l_(En);function qC(r,o,c){var f=Ot(r),g=f||Vr(r)||ao(r);if(o=mt(o,4),c==null){var w=r&&r.constructor;g?c=f?new w:[]:we(r)?c=hr(w)?io(Il(r)):{}:c={}}return(g?qn:Vi)(r,function(T,P,B){return o(c,T,P,B)}),c}function JC(r,o){return r==null?!0:lh(r,o)}function QC(r,o,c){return r==null?r:Gg(r,o,hh(c))}function tT(r,o,c,f){return f=typeof f=="function"?f:e,r==null?r:Gg(r,o,hh(c),f)}function lo(r){return r==null?[]:Vc(r,Ge(r))}function eT(r){return r==null?[]:Vc(r,En(r))}function nT(r,o,c){return c===e&&(c=o,o=e),c!==e&&(c=ii(c),c=c===c?c:0),o!==e&&(o=ii(o),o=o===o?o:0),gs(ii(r),o,c)}function iT(r,o,c){return o=dr(o),c===e?(c=o,o=0):c=dr(c),r=ii(r),uE(r,o,c)}function rT(r,o,c){if(c&&typeof c!="boolean"&&dn(r,o,c)&&(o=c=e),c===e&&(typeof o=="boolean"?(c=o,o=e):typeof r=="boolean"&&(c=r,r=e)),r===e&&o===e?(r=0,o=1):(r=dr(r),o===e?(o=r,r=0):o=dr(o)),r>o){var f=r;r=o,o=f}if(c||r%1||o%1){var g=wg();return on(r+g*(o-r+D1("1e-"+((g+"").length-1))),o)}return sh(r,o)}var sT=so(function(r,o,c){return o=o.toLowerCase(),r+(c?J_(o):o)});function J_(r){return Ih(qt(r).toLowerCase())}function Q_(r){return r=qt(r),r&&r.replace(a1,X1).replace(T1,"")}function oT(r,o,c){r=qt(r),o=zn(o);var f=r.length;c=c===e?f:gs(It(c),0,f);var g=c;return c-=o.length,c>=0&&r.slice(c,g)==o}function aT(r){return r=qt(r),r&&zw.test(r)?r.replace(Lp,Z1):r}function lT(r){return r=qt(r),r&&jw.test(r)?r.replace(Rc,"\\$&"):r}var uT=so(function(r,o,c){return r+(c?"-":"")+o.toLowerCase()}),cT=so(function(r,o,c){return r+(c?" ":"")+o.toLowerCase()}),hT=n_("toLowerCase");function dT(r,o,c){r=qt(r),o=It(o);var f=o?Js(r):0;if(!o||f>=o)return r;var g=(o-f)/2;return Xl(Dl(g),c)+r+Xl(Ml(g),c)}function fT(r,o,c){r=qt(r),o=It(o);var f=o?Js(r):0;return o&&f<o?r+Xl(o-f,c):r}function pT(r,o,c){r=qt(r),o=It(o);var f=o?Js(r):0;return o&&f<o?Xl(o-f,c)+r:r}function gT(r,o,c){return c||o==null?o=0:o&&(o=+o),xx(qt(r).replace(Oc,""),o||0)}function _T(r,o,c){return(c?dn(r,o,c):o===e)?o=1:o=It(o),oh(qt(r),o)}function vT(){var r=arguments,o=qt(r[0]);return r.length<3?o:o.replace(r[1],r[2])}var mT=so(function(r,o,c){return r+(c?"_":"")+o.toLowerCase()});function yT(r,o,c){return c&&typeof c!="number"&&dn(r,o,c)&&(o=c=e),c=c===e?$t:c>>>0,c?(r=qt(r),r&&(typeof o=="string"||o!=null&&!Ph(o))&&(o=zn(o),!o&&qs(r))?Hr(vi(r),0,c):r.split(o,c)):[]}var bT=so(function(r,o,c){return r+(c?" ":"")+Ih(o)});function wT(r,o,c){return r=qt(r),c=c==null?0:gs(It(c),0,r.length),o=zn(o),r.slice(c,c+o.length)==o}function xT(r,o,c){var f=y.templateSettings;c&&dn(r,o,c)&&(o=e),r=qt(r),o=au({},o,f,u_);var g=au({},o.imports,f.imports,u_),w=Ge(g),T=Vc(g,w),P,B,H=0,V=o.interpolate||bl,j="__p += '",nt=Gc((o.escape||bl).source+"|"+V.source+"|"+(V===kp?e1:bl).source+"|"+(o.evaluate||bl).source+"|$","g"),ct="//# sourceURL="+(ne.call(o,"sourceURL")?(o.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++k1+"]")+`
`;r.replace(nt,function(wt,Nt,Ut,Vn,fn,Un){return Ut||(Ut=Vn),j+=r.slice(H,Un).replace(l1,q1),Nt&&(P=!0,j+=`' +
__e(`+Nt+`) +
'`),fn&&(B=!0,j+=`';
`+fn+`;
__p += '`),Ut&&(j+=`' +
((__t = (`+Ut+`)) == null ? '' : __t) +
'`),H=Un+wt.length,wt}),j+=`';
`;var bt=ne.call(o,"variable")&&o.variable;if(!bt)j=`with (obj) {
`+j+`
}
`;else if(Qw.test(bt))throw new St(u);j=(B?j.replace($w,""):j).replace(Fw,"$1").replace(Nw,"$1;"),j="function("+(bt||"obj")+`) {
`+(bt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(P?", __e = _.escape":"")+(B?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+j+`return __p
}`;var Bt=ev(function(){return Xt(w,ct+"return "+j).apply(e,T)});if(Bt.source=j,Oh(Bt))throw Bt;return Bt}function ET(r){return qt(r).toLowerCase()}function ST(r){return qt(r).toUpperCase()}function CT(r,o,c){if(r=qt(r),r&&(c||o===e))return cg(r);if(!r||!(o=zn(o)))return r;var f=vi(r),g=vi(o),w=hg(f,g),T=dg(f,g)+1;return Hr(f,w,T).join("")}function TT(r,o,c){if(r=qt(r),r&&(c||o===e))return r.slice(0,pg(r)+1);if(!r||!(o=zn(o)))return r;var f=vi(r),g=dg(f,vi(o))+1;return Hr(f,0,g).join("")}function RT(r,o,c){if(r=qt(r),r&&(c||o===e))return r.replace(Oc,"");if(!r||!(o=zn(o)))return r;var f=vi(r),g=hg(f,vi(o));return Hr(f,g).join("")}function OT(r,o){var c=Z,f=J;if(we(o)){var g="separator"in o?o.separator:g;c="length"in o?It(o.length):c,f="omission"in o?zn(o.omission):f}r=qt(r);var w=r.length;if(qs(r)){var T=vi(r);w=T.length}if(c>=w)return r;var P=c-Js(f);if(P<1)return f;var B=T?Hr(T,0,P).join(""):r.slice(0,P);if(g===e)return B+f;if(T&&(P+=B.length-P),Ph(g)){if(r.slice(P).search(g)){var H,V=B;for(g.global||(g=Gc(g.source,qt(Ip.exec(g))+"g")),g.lastIndex=0;H=g.exec(V);)var j=H.index;B=B.slice(0,j===e?P:j)}}else if(r.indexOf(zn(g),P)!=P){var nt=B.lastIndexOf(g);nt>-1&&(B=B.slice(0,nt))}return B+f}function PT(r){return r=qt(r),r&&Ww.test(r)?r.replace(Pp,rx):r}var LT=so(function(r,o,c){return r+(c?" ":"")+o.toUpperCase()}),Ih=n_("toUpperCase");function tv(r,o,c){return r=qt(r),o=c?e:o,o===e?Q1(r)?ax(r):U1(r):r.match(o)||[]}var ev=Dt(function(r,o){try{return Nn(r,e,o)}catch(c){return Oh(c)?c:new St(c)}}),kT=ur(function(r,o){return qn(o,function(c){c=Gi(c),ar(r,c,Th(r[c],r))}),r});function IT(r){var o=r==null?0:r.length,c=mt();return r=o?_e(r,function(f){if(typeof f[1]!="function")throw new Jn(l);return[c(f[0]),f[1]]}):[],Dt(function(f){for(var g=-1;++g<o;){var w=r[g];if(Nn(w[0],this,f))return Nn(w[1],this,f)}})}function BT(r){return rE(ti(r,v))}function Bh(r){return function(){return r}}function AT(r,o){return r==null||r!==r?o:r}var MT=r_(),DT=r_(!0);function Sn(r){return r}function Ah(r){return Ag(typeof r=="function"?r:ti(r,v))}function $T(r){return Dg(ti(r,v))}function FT(r,o){return $g(r,ti(o,v))}var NT=Dt(function(r,o){return function(c){return la(c,r,o)}}),WT=Dt(function(r,o){return function(c){return la(r,c,o)}});function Mh(r,o,c){var f=Ge(o),g=Hl(o,f);c==null&&!(we(o)&&(g.length||!f.length))&&(c=o,o=r,r=this,g=Hl(o,Ge(o)));var w=!(we(c)&&"chain"in c)||!!c.chain,T=hr(r);return qn(g,function(P){var B=o[P];r[P]=B,T&&(r.prototype[P]=function(){var H=this.__chain__;if(w||H){var V=r(this.__wrapped__),j=V.__actions__=wn(this.__actions__);return j.push({func:B,args:arguments,thisArg:r}),V.__chain__=H,V}return B.apply(r,Dr([this.value()],arguments))})}),r}function zT(){return Qe._===this&&(Qe._=fx),this}function Dh(){}function HT(r){return r=It(r),Dt(function(o){return Fg(o,r)})}var VT=fh(_e),UT=fh(sg),GT=fh(Fc);function nv(r){return bh(r)?Nc(Gi(r)):wE(r)}function KT(r){return function(o){return r==null?e:_s(r,o)}}var jT=o_(),YT=o_(!0);function $h(){return[]}function Fh(){return!1}function XT(){return{}}function ZT(){return""}function qT(){return!0}function JT(r,o){if(r=It(r),r<1||r>et)return[];var c=$t,f=on(r,$t);o=mt(o),r-=$t;for(var g=Hc(f,o);++c<r;)o(c);return g}function QT(r){return Ot(r)?_e(r,Gi):Hn(r)?[r]:wn(x_(qt(r)))}function tR(r){var o=++hx;return qt(r)+o}var eR=Yl(function(r,o){return r+o},0),nR=ph("ceil"),iR=Yl(function(r,o){return r/o},1),rR=ph("floor");function sR(r){return r&&r.length?zl(r,Sn,Qc):e}function oR(r,o){return r&&r.length?zl(r,mt(o,2),Qc):e}function aR(r){return lg(r,Sn)}function lR(r,o){return lg(r,mt(o,2))}function uR(r){return r&&r.length?zl(r,Sn,ih):e}function cR(r,o){return r&&r.length?zl(r,mt(o,2),ih):e}var hR=Yl(function(r,o){return r*o},1),dR=ph("round"),fR=Yl(function(r,o){return r-o},0);function pR(r){return r&&r.length?zc(r,Sn):0}function gR(r,o){return r&&r.length?zc(r,mt(o,2)):0}return y.after=$2,y.ary=B_,y.assign=SC,y.assignIn=j_,y.assignInWith=au,y.assignWith=CC,y.at=TC,y.before=A_,y.bind=Th,y.bindAll=kT,y.bindKey=M_,y.castArray=X2,y.chain=L_,y.chunk=rS,y.compact=sS,y.concat=oS,y.cond=IT,y.conforms=BT,y.constant=Bh,y.countBy=p2,y.create=RC,y.curry=D_,y.curryRight=$_,y.debounce=F_,y.defaults=OC,y.defaultsDeep=PC,y.defer=F2,y.delay=N2,y.difference=aS,y.differenceBy=lS,y.differenceWith=uS,y.drop=cS,y.dropRight=hS,y.dropRightWhile=dS,y.dropWhile=fS,y.fill=pS,y.filter=_2,y.flatMap=y2,y.flatMapDeep=b2,y.flatMapDepth=w2,y.flatten=T_,y.flattenDeep=gS,y.flattenDepth=_S,y.flip=W2,y.flow=MT,y.flowRight=DT,y.fromPairs=vS,y.functions=DC,y.functionsIn=$C,y.groupBy=x2,y.initial=yS,y.intersection=bS,y.intersectionBy=wS,y.intersectionWith=xS,y.invert=NC,y.invertBy=WC,y.invokeMap=S2,y.iteratee=Ah,y.keyBy=C2,y.keys=Ge,y.keysIn=En,y.map=eu,y.mapKeys=HC,y.mapValues=VC,y.matches=$T,y.matchesProperty=FT,y.memoize=iu,y.merge=UC,y.mergeWith=Y_,y.method=NT,y.methodOf=WT,y.mixin=Mh,y.negate=ru,y.nthArg=HT,y.omit=GC,y.omitBy=KC,y.once=z2,y.orderBy=T2,y.over=VT,y.overArgs=H2,y.overEvery=UT,y.overSome=GT,y.partial=Rh,y.partialRight=N_,y.partition=R2,y.pick=jC,y.pickBy=X_,y.property=nv,y.propertyOf=KT,y.pull=TS,y.pullAll=O_,y.pullAllBy=RS,y.pullAllWith=OS,y.pullAt=PS,y.range=jT,y.rangeRight=YT,y.rearg=V2,y.reject=L2,y.remove=LS,y.rest=U2,y.reverse=Sh,y.sampleSize=I2,y.set=XC,y.setWith=ZC,y.shuffle=B2,y.slice=kS,y.sortBy=D2,y.sortedUniq=FS,y.sortedUniqBy=NS,y.split=yT,y.spread=G2,y.tail=WS,y.take=zS,y.takeRight=HS,y.takeRightWhile=VS,y.takeWhile=US,y.tap=s2,y.throttle=K2,y.thru=tu,y.toArray=U_,y.toPairs=Z_,y.toPairsIn=q_,y.toPath=QT,y.toPlainObject=K_,y.transform=qC,y.unary=j2,y.union=GS,y.unionBy=KS,y.unionWith=jS,y.uniq=YS,y.uniqBy=XS,y.uniqWith=ZS,y.unset=JC,y.unzip=Ch,y.unzipWith=P_,y.update=QC,y.updateWith=tT,y.values=lo,y.valuesIn=eT,y.without=qS,y.words=tv,y.wrap=Y2,y.xor=JS,y.xorBy=QS,y.xorWith=t2,y.zip=e2,y.zipObject=n2,y.zipObjectDeep=i2,y.zipWith=r2,y.entries=Z_,y.entriesIn=q_,y.extend=j_,y.extendWith=au,Mh(y,y),y.add=eR,y.attempt=ev,y.camelCase=sT,y.capitalize=J_,y.ceil=nR,y.clamp=nT,y.clone=Z2,y.cloneDeep=J2,y.cloneDeepWith=Q2,y.cloneWith=q2,y.conformsTo=tC,y.deburr=Q_,y.defaultTo=AT,y.divide=iR,y.endsWith=oT,y.eq=yi,y.escape=aT,y.escapeRegExp=lT,y.every=g2,y.find=v2,y.findIndex=S_,y.findKey=LC,y.findLast=m2,y.findLastIndex=C_,y.findLastKey=kC,y.floor=rR,y.forEach=k_,y.forEachRight=I_,y.forIn=IC,y.forInRight=BC,y.forOwn=AC,y.forOwnRight=MC,y.get=Lh,y.gt=eC,y.gte=nC,y.has=FC,y.hasIn=kh,y.head=R_,y.identity=Sn,y.includes=E2,y.indexOf=mS,y.inRange=iT,y.invoke=zC,y.isArguments=ys,y.isArray=Ot,y.isArrayBuffer=iC,y.isArrayLike=xn,y.isArrayLikeObject=ke,y.isBoolean=rC,y.isBuffer=Vr,y.isDate=sC,y.isElement=oC,y.isEmpty=aC,y.isEqual=lC,y.isEqualWith=uC,y.isError=Oh,y.isFinite=cC,y.isFunction=hr,y.isInteger=W_,y.isLength=su,y.isMap=z_,y.isMatch=hC,y.isMatchWith=dC,y.isNaN=fC,y.isNative=pC,y.isNil=_C,y.isNull=gC,y.isNumber=H_,y.isObject=we,y.isObjectLike=Se,y.isPlainObject=pa,y.isRegExp=Ph,y.isSafeInteger=vC,y.isSet=V_,y.isString=ou,y.isSymbol=Hn,y.isTypedArray=ao,y.isUndefined=mC,y.isWeakMap=yC,y.isWeakSet=bC,y.join=ES,y.kebabCase=uT,y.last=ni,y.lastIndexOf=SS,y.lowerCase=cT,y.lowerFirst=hT,y.lt=wC,y.lte=xC,y.max=sR,y.maxBy=oR,y.mean=aR,y.meanBy=lR,y.min=uR,y.minBy=cR,y.stubArray=$h,y.stubFalse=Fh,y.stubObject=XT,y.stubString=ZT,y.stubTrue=qT,y.multiply=hR,y.nth=CS,y.noConflict=zT,y.noop=Dh,y.now=nu,y.pad=dT,y.padEnd=fT,y.padStart=pT,y.parseInt=gT,y.random=rT,y.reduce=O2,y.reduceRight=P2,y.repeat=_T,y.replace=vT,y.result=YC,y.round=dR,y.runInContext=k,y.sample=k2,y.size=A2,y.snakeCase=mT,y.some=M2,y.sortedIndex=IS,y.sortedIndexBy=BS,y.sortedIndexOf=AS,y.sortedLastIndex=MS,y.sortedLastIndexBy=DS,y.sortedLastIndexOf=$S,y.startCase=bT,y.startsWith=wT,y.subtract=fR,y.sum=pR,y.sumBy=gR,y.template=xT,y.times=JT,y.toFinite=dr,y.toInteger=It,y.toLength=G_,y.toLower=ET,y.toNumber=ii,y.toSafeInteger=EC,y.toString=qt,y.toUpper=ST,y.trim=CT,y.trimEnd=TT,y.trimStart=RT,y.truncate=OT,y.unescape=PT,y.uniqueId=tR,y.upperCase=LT,y.upperFirst=Ih,y.each=k_,y.eachRight=I_,y.first=R_,Mh(y,function(){var r={};return Vi(y,function(o,c){ne.call(y.prototype,c)||(r[c]=o)}),r}(),{chain:!1}),y.VERSION=i,qn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(r){y[r].placeholder=y}),qn(["drop","take"],function(r,o){zt.prototype[r]=function(c){c=c===e?1:He(It(c),0);var f=this.__filtered__&&!o?new zt(this):this.clone();return f.__filtered__?f.__takeCount__=on(c,f.__takeCount__):f.__views__.push({size:on(c,$t),type:r+(f.__dir__<0?"Right":"")}),f},zt.prototype[r+"Right"]=function(c){return this.reverse()[r](c).reverse()}}),qn(["filter","map","takeWhile"],function(r,o){var c=o+1,f=c==Pt||c==W;zt.prototype[r]=function(g){var w=this.clone();return w.__iteratees__.push({iteratee:mt(g,3),type:c}),w.__filtered__=w.__filtered__||f,w}}),qn(["head","last"],function(r,o){var c="take"+(o?"Right":"");zt.prototype[r]=function(){return this[c](1).value()[0]}}),qn(["initial","tail"],function(r,o){var c="drop"+(o?"":"Right");zt.prototype[r]=function(){return this.__filtered__?new zt(this):this[c](1)}}),zt.prototype.compact=function(){return this.filter(Sn)},zt.prototype.find=function(r){return this.filter(r).head()},zt.prototype.findLast=function(r){return this.reverse().find(r)},zt.prototype.invokeMap=Dt(function(r,o){return typeof r=="function"?new zt(this):this.map(function(c){return la(c,r,o)})}),zt.prototype.reject=function(r){return this.filter(ru(mt(r)))},zt.prototype.slice=function(r,o){r=It(r);var c=this;return c.__filtered__&&(r>0||o<0)?new zt(c):(r<0?c=c.takeRight(-r):r&&(c=c.drop(r)),o!==e&&(o=It(o),c=o<0?c.dropRight(-o):c.take(o-r)),c)},zt.prototype.takeRightWhile=function(r){return this.reverse().takeWhile(r).reverse()},zt.prototype.toArray=function(){return this.take($t)},Vi(zt.prototype,function(r,o){var c=/^(?:filter|find|map|reject)|While$/.test(o),f=/^(?:head|last)$/.test(o),g=y[f?"take"+(o=="last"?"Right":""):o],w=f||/^find/.test(o);g&&(y.prototype[o]=function(){var T=this.__wrapped__,P=f?[1]:arguments,B=T instanceof zt,H=P[0],V=B||Ot(T),j=function(Nt){var Ut=g.apply(y,Dr([Nt],P));return f&&nt?Ut[0]:Ut};V&&c&&typeof H=="function"&&H.length!=1&&(B=V=!1);var nt=this.__chain__,ct=!!this.__actions__.length,bt=w&&!nt,Bt=B&&!ct;if(!w&&V){T=Bt?T:new zt(this);var wt=r.apply(T,P);return wt.__actions__.push({func:tu,args:[j],thisArg:e}),new Qn(wt,nt)}return bt&&Bt?r.apply(this,P):(wt=this.thru(j),bt?f?wt.value()[0]:wt.value():wt)})}),qn(["pop","push","shift","sort","splice","unshift"],function(r){var o=Tl[r],c=/^(?:push|sort|unshift)$/.test(r)?"tap":"thru",f=/^(?:pop|shift)$/.test(r);y.prototype[r]=function(){var g=arguments;if(f&&!this.__chain__){var w=this.value();return o.apply(Ot(w)?w:[],g)}return this[c](function(T){return o.apply(Ot(T)?T:[],g)})}}),Vi(zt.prototype,function(r,o){var c=y[o];if(c){var f=c.name+"";ne.call(no,f)||(no[f]=[]),no[f].push({name:o,func:c})}}),no[jl(e,C).name]=[{name:"wrapper",func:e}],zt.prototype.clone=Px,zt.prototype.reverse=Lx,zt.prototype.value=kx,y.prototype.at=o2,y.prototype.chain=a2,y.prototype.commit=l2,y.prototype.next=u2,y.prototype.plant=h2,y.prototype.reverse=d2,y.prototype.toJSON=y.prototype.valueOf=y.prototype.value=f2,y.prototype.first=y.prototype.head,ea&&(y.prototype[ea]=c2),y},Qs=lx();hs?((hs.exports=Qs)._=Qs,Ac._=Qs):Qe._=Qs}).call(va)})(rc,rc.exports);var dN=rc.exports,Lw={exports:{}},fN=Lw.exports={};fN.forEach=function(n,t){for(var e=0;e<n.length;e++){var i=t(n[e]);if(i)return i}};var kw=Lw.exports,pN=function(n){var t=n.stateHandler.getState;function e(l){var u=t(l);return u&&!!u.isDetectable}function i(l){t(l).isDetectable=!0}function s(l){return!!t(l).busy}function a(l,u){t(l).busy=!!u}return{isDetectable:e,markAsDetectable:i,isBusy:s,markBusy:a}},gN=function(n){var t={};function e(l){var u=n.get(l);return u===void 0?[]:t[u]||[]}function i(l,u){var h=n.get(l);t[h]||(t[h]=[]),t[h].push(u)}function s(l,u){for(var h=e(l),d=0,p=h.length;d<p;++d)if(h[d]===u){h.splice(d,1);break}}function a(l){var u=e(l);u&&(u.length=0)}return{get:e,add:i,removeListener:s,removeAllListeners:a}},_N=function(){var n=1;function t(){return n++}return{generate:t}},vN=function(n){var t=n.idGenerator,e=n.stateHandler.getState;function i(a){var l=e(a);return l&&l.id!==void 0?l.id:null}function s(a){var l=e(a);if(!l)throw new Error("setId required the element to have a resize detection state.");var u=t.generate();return l.id=u,u}return{get:i,set:s}},mN=function(n){function t(){}var e={log:t,warn:t,error:t};if(!n&&window.console){var i=function(s,a){s[a]=function(){var u=console[a];if(u.apply)u.apply(console,arguments);else for(var h=0;h<arguments.length;h++)u(arguments[h])}};i(e,"log"),i(e,"warn"),i(e,"error")}return e},Iw={exports:{}},Bw=Iw.exports={};Bw.isIE=function(n){function t(){var i=navigator.userAgent.toLowerCase();return i.indexOf("msie")!==-1||i.indexOf("trident")!==-1||i.indexOf(" edge/")!==-1}if(!t())return!1;if(!n)return!0;var e=function(){var i,s=3,a=document.createElement("div"),l=a.getElementsByTagName("i");do a.innerHTML="<!--[if gt IE "+ ++s+"]><i></i><![endif]-->";while(l[0]);return s>4?s:i}();return n===e};Bw.isLegacyOpera=function(){return!!window.opera};var Aw=Iw.exports,Mw={exports:{}},yN=Mw.exports={};yN.getOption=bN;function bN(n,t,e){var i=n[t];return i==null&&e!==void 0?e:i}var wN=Mw.exports,hy=wN,xN=function(t){t=t||{};var e=t.reporter,i=hy.getOption(t,"async",!0),s=hy.getOption(t,"auto",!0);s&&!i&&(e&&e.warn("Invalid options combination. auto=true and async=false is invalid. Setting async=true."),i=!0);var a=dy(),l,u=!1;function h(m,x){!u&&s&&i&&a.size()===0&&v(),a.add(m,x)}function d(){for(u=!0;a.size();){var m=a;a=dy(),m.process()}u=!1}function p(m){u||(m===void 0&&(m=i),l&&(b(l),l=null),m?v():d())}function v(){l=_(d)}function b(m){var x=clearTimeout;return x(m)}function _(m){var x=function(R){return setTimeout(R,0)};return x(m)}return{add:h,force:p}};function dy(){var n={},t=0,e=0,i=0;function s(u,h){h||(h=u,u=0),u>e?e=u:u<i&&(i=u),n[u]||(n[u]=[]),n[u].push(h),t++}function a(){for(var u=i;u<=e;u++)for(var h=n[u],d=0;d<h.length;d++){var p=h[d];p()}}function l(){return t}return{add:s,process:a,size:l}}var Op="_erd";function EN(n){return n[Op]={},Dw(n)}function Dw(n){return n[Op]}function SN(n){delete n[Op]}var CN={initState:EN,getState:Dw,cleanState:SN},$a=Aw,TN=function(n){n=n||{};var t=n.reporter,e=n.batchProcessor,i=n.stateHandler.getState;if(!t)throw new Error("Missing required dependency: reporter.");function s(d,p){function v(){p(d)}if($a.isIE(8))i(d).object={proxy:v},d.attachEvent("onresize",v);else{var b=u(d);if(!b)throw new Error("Element is not detectable by this strategy.");b.contentDocument.defaultView.addEventListener("resize",v)}}function a(d){var p=n.important?" !important; ":"; ";return(d.join(p)+p).trim()}function l(d,p,v){v||(v=p,p=d,d=null),d=d||{},d.debug;function b(_,m){var x=a(["display: block","position: absolute","top: 0","left: 0","width: 100%","height: 100%","border: none","padding: 0","margin: 0","opacity: 0","z-index: -1000","pointer-events: none"]),R=!1,C=window.getComputedStyle(_),L=_.offsetWidth,A=_.offsetHeight;i(_).startSize={width:L,height:A};function O(){function E(){if(C.position==="static"){_.style.setProperty("position","relative",d.important?"important":"");var U=function(tt,Z,J,Y){function it(F){return F.replace(/[^-\d\.]/g,"")}var Pt=J[Y];Pt!=="auto"&&it(Pt)!=="0"&&(tt.warn("An element that is positioned static has style."+Y+"="+Pt+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+Y+" will be set to 0. Element: ",Z),Z.style.setProperty(Y,"0",d.important?"important":""))};U(t,_,C,"top"),U(t,_,C,"right"),U(t,_,C,"bottom"),U(t,_,C,"left")}}function M(){R||E();function U(Z,J){if(!Z.contentDocument){var Y=i(Z);Y.checkForObjectDocumentTimeoutId&&window.clearTimeout(Y.checkForObjectDocumentTimeoutId),Y.checkForObjectDocumentTimeoutId=setTimeout(function(){Y.checkForObjectDocumentTimeoutId=0,U(Z,J)},100);return}J(Z.contentDocument)}var tt=this;U(tt,function(J){m(_)})}C.position!==""&&(E(),R=!0);var I=document.createElement("object");I.style.cssText=x,I.tabIndex=-1,I.type="text/html",I.setAttribute("aria-hidden","true"),I.onload=M,$a.isIE()||(I.data="about:blank"),i(_)&&(_.appendChild(I),i(_).object=I,$a.isIE()&&(I.data="about:blank"))}e?e.add(O):O()}$a.isIE(8)?v(p):b(p,v)}function u(d){return i(d).object}function h(d){if(i(d)){var p=u(d);p&&($a.isIE(8)?d.detachEvent("onresize",p.proxy):d.removeChild(p),i(d).checkForObjectDocumentTimeoutId&&window.clearTimeout(i(d).checkForObjectDocumentTimeoutId),delete i(d).object)}}return{makeDetectable:l,addListener:s,uninstall:h}},RN=kw.forEach,ON=function(n){n=n||{};var t=n.reporter,e=n.batchProcessor,i=n.stateHandler.getState;n.stateHandler.hasState;var s=n.idHandler;if(!e)throw new Error("Missing required dependency: batchProcessor");if(!t)throw new Error("Missing required dependency: reporter.");var a=p(),l="erd_scroll_detection_scrollbar_style",u="erd_scroll_detection_container";function h(O){v(O,l,u)}h(window.document);function d(O){var E=n.important?" !important; ":"; ";return(O.join(E)+E).trim()}function p(){var O=500,E=500,M=document.createElement("div");M.style.cssText=d(["position: absolute","width: "+O*2+"px","height: "+E*2+"px","visibility: hidden","margin: 0","padding: 0"]);var I=document.createElement("div");I.style.cssText=d(["position: absolute","width: "+O+"px","height: "+E+"px","overflow: scroll","visibility: none","top: "+-O*3+"px","left: "+-E*3+"px","visibility: hidden","margin: 0","padding: 0"]),I.appendChild(M),document.body.insertBefore(I,document.body.firstChild);var U=O-I.clientWidth,tt=E-I.clientHeight;return document.body.removeChild(I),{width:U,height:tt}}function v(O,E,M){function I(J,Y){Y=Y||function(Pt){O.head.appendChild(Pt)};var it=O.createElement("style");return it.innerHTML=J,it.id=E,Y(it),it}if(!O.getElementById(E)){var U=M+"_animation",tt=M+"_animation_active",Z=`/* Created by the element-resize-detector library. */
`;Z+="."+M+" > div::-webkit-scrollbar { "+d(["display: none"])+` }

`,Z+="."+tt+" { "+d(["-webkit-animation-duration: 0.1s","animation-duration: 0.1s","-webkit-animation-name: "+U,"animation-name: "+U])+` }
`,Z+="@-webkit-keyframes "+U+` { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }
`,Z+="@keyframes "+U+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }",I(Z)}}function b(O){O.className+=" "+u+"_animation_active"}function _(O,E,M){if(O.addEventListener)O.addEventListener(E,M);else if(O.attachEvent)O.attachEvent("on"+E,M);else return t.error("[scroll] Don't know how to add event listeners.")}function m(O,E,M){if(O.removeEventListener)O.removeEventListener(E,M);else if(O.detachEvent)O.detachEvent("on"+E,M);else return t.error("[scroll] Don't know how to remove event listeners.")}function x(O){return i(O).container.childNodes[0].childNodes[0].childNodes[0]}function R(O){return i(O).container.childNodes[0].childNodes[0].childNodes[1]}function C(O,E){var M=i(O).listeners;if(!M.push)throw new Error("Cannot add listener to an element that is not detectable.");i(O).listeners.push(E)}function L(O,E,M){M||(M=E,E=O,O=null),O=O||{};function I(){if(O.debug){var rt=Array.prototype.slice.call(arguments);if(rt.unshift(s.get(E),"Scroll: "),t.log.apply)t.log.apply(null,rt);else for(var Mt=0;Mt<rt.length;Mt++)t.log(rt[Mt])}}function U(rt){function Mt(Ht){var Ae=Ht.getRootNode&&Ht.getRootNode().contains(Ht);return Ht===Ht.ownerDocument.body||Ht.ownerDocument.body.contains(Ht)||Ae}return!Mt(rt)||window.getComputedStyle(rt)===null}function tt(rt){var Mt=i(rt).container.childNodes[0],Ht=window.getComputedStyle(Mt);return!Ht.width||Ht.width.indexOf("px")===-1}function Z(){var rt=window.getComputedStyle(E),Mt={};return Mt.position=rt.position,Mt.width=E.offsetWidth,Mt.height=E.offsetHeight,Mt.top=rt.top,Mt.right=rt.right,Mt.bottom=rt.bottom,Mt.left=rt.left,Mt.widthCSS=rt.width,Mt.heightCSS=rt.height,Mt}function J(){var rt=Z();i(E).startSize={width:rt.width,height:rt.height},I("Element start size",i(E).startSize)}function Y(){i(E).listeners=[]}function it(){if(I("storeStyle invoked."),!i(E)){I("Aborting because element has been uninstalled");return}var rt=Z();i(E).style=rt}function Pt(rt,Mt,Ht){i(rt).lastWidth=Mt,i(rt).lastHeight=Ht}function F(rt){return x(rt).childNodes[0]}function W(){return 2*a.width+1}function z(){return 2*a.height+1}function et(rt){return rt+10+W()}function pt(rt){return rt+10+z()}function Wt(rt){return rt*2+W()}function $t(rt){return rt*2+z()}function he(rt,Mt,Ht){var Ae=x(rt),sn=R(rt),be=et(Mt),qe=pt(Ht),Me=Wt(Mt),Rt=$t(Ht);Ae.scrollLeft=be,Ae.scrollTop=qe,sn.scrollLeft=Me,sn.scrollTop=Rt}function oe(){var rt=i(E).container;if(!rt){rt=document.createElement("div"),rt.className=u,rt.style.cssText=d(["visibility: hidden","display: inline","width: 0px","height: 0px","z-index: -1","overflow: hidden","margin: 0","padding: 0"]),i(E).container=rt,b(rt),E.appendChild(rt);var Mt=function(){i(E).onRendered&&i(E).onRendered()};_(rt,"animationstart",Mt),i(E).onAnimationStart=Mt}return rt}function Ye(){function rt(){var Yt=i(E).style;if(Yt.position==="static"){E.style.setProperty("position","relative",O.important?"important":"");var Fn=function(Hi,_i,qo,Ar){function Jo(Qo){return Qo.replace(/[^-\d\.]/g,"")}var cs=qo[Ar];cs!=="auto"&&Jo(cs)!=="0"&&(Hi.warn("An element that is positioned static has style."+Ar+"="+cs+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+Ar+" will be set to 0. Element: ",_i),_i.style[Ar]=0)};Fn(t,E,Yt,"top"),Fn(t,E,Yt,"right"),Fn(t,E,Yt,"bottom"),Fn(t,E,Yt,"left")}}function Mt(Yt,Fn,Hi,_i){return Yt=Yt?Yt+"px":"0",Fn=Fn?Fn+"px":"0",Hi=Hi?Hi+"px":"0",_i=_i?_i+"px":"0",["left: "+Yt,"top: "+Fn,"right: "+_i,"bottom: "+Hi]}if(I("Injecting elements"),!i(E)){I("Aborting because element has been uninstalled");return}rt();var Ht=i(E).container;Ht||(Ht=oe());var Ae=a.width,sn=a.height,be=d(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden","width: 100%","height: 100%","left: 0px","top: 0px"]),qe=d(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden"].concat(Mt(-(1+Ae),-(1+sn),-sn,-Ae))),Me=d(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),Rt=d(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),We=d(["position: absolute","left: 0","top: 0"]),Dn=d(["position: absolute","width: 200%","height: 200%"]),de=document.createElement("div"),ee=document.createElement("div"),Je=document.createElement("div"),$n=document.createElement("div"),X=document.createElement("div"),Vt=document.createElement("div");de.dir="ltr",de.style.cssText=be,de.className=u,ee.className=u,ee.style.cssText=qe,Je.style.cssText=Me,$n.style.cssText=We,X.style.cssText=Rt,Vt.style.cssText=Dn,Je.appendChild($n),X.appendChild(Vt),ee.appendChild(Je),ee.appendChild(X),de.appendChild(ee),Ht.appendChild(de);function yn(){var Yt=i(E);Yt&&Yt.onExpand?Yt.onExpand():I("Aborting expand scroll handler: element has been uninstalled")}function bn(){var Yt=i(E);Yt&&Yt.onShrink?Yt.onShrink():I("Aborting shrink scroll handler: element has been uninstalled")}_(Je,"scroll",yn),_(X,"scroll",bn),i(E).onExpandScroll=yn,i(E).onShrinkScroll=bn}function Le(){function rt(Me,Rt,We){var Dn=F(Me),de=et(Rt),ee=pt(We);Dn.style.setProperty("width",de+"px",O.important?"important":""),Dn.style.setProperty("height",ee+"px",O.important?"important":"")}function Mt(Me){var Rt=E.offsetWidth,We=E.offsetHeight,Dn=Rt!==i(E).lastWidth||We!==i(E).lastHeight;I("Storing current size",Rt,We),Pt(E,Rt,We),e.add(0,function(){if(Dn){if(!i(E)){I("Aborting because element has been uninstalled");return}if(!Ht()){I("Aborting because element container has not been initialized");return}if(O.debug){var ee=E.offsetWidth,Je=E.offsetHeight;(ee!==Rt||Je!==We)&&t.warn(s.get(E),"Scroll: Size changed before updating detector elements.")}rt(E,Rt,We)}}),e.add(1,function(){if(!i(E)){I("Aborting because element has been uninstalled");return}if(!Ht()){I("Aborting because element container has not been initialized");return}he(E,Rt,We)}),Dn&&Me&&e.add(2,function(){if(!i(E)){I("Aborting because element has been uninstalled");return}if(!Ht()){I("Aborting because element container has not been initialized");return}Me()})}function Ht(){return!!i(E).container}function Ae(){function Me(){return i(E).lastNotifiedWidth===void 0}I("notifyListenersIfNeeded invoked");var Rt=i(E);if(Me()&&Rt.lastWidth===Rt.startSize.width&&Rt.lastHeight===Rt.startSize.height)return I("Not notifying: Size is the same as the start size, and there has been no notification yet.");if(Rt.lastWidth===Rt.lastNotifiedWidth&&Rt.lastHeight===Rt.lastNotifiedHeight)return I("Not notifying: Size already notified");I("Current size not notified, notifying..."),Rt.lastNotifiedWidth=Rt.lastWidth,Rt.lastNotifiedHeight=Rt.lastHeight,RN(i(E).listeners,function(We){We(E)})}function sn(){if(I("startanimation triggered."),tt(E)){I("Ignoring since element is still unrendered...");return}I("Element rendered.");var Me=x(E),Rt=R(E);(Me.scrollLeft===0||Me.scrollTop===0||Rt.scrollLeft===0||Rt.scrollTop===0)&&(I("Scrollbars out of sync. Updating detector elements..."),Mt(Ae))}function be(){if(I("Scroll detected."),tt(E)){I("Scroll event fired while unrendered. Ignoring...");return}Mt(Ae)}if(I("registerListenersAndPositionElements invoked."),!i(E)){I("Aborting because element has been uninstalled");return}i(E).onRendered=sn,i(E).onExpand=be,i(E).onShrink=be;var qe=i(E).style;rt(E,qe.width,qe.height)}function Xe(){if(I("finalizeDomMutation invoked."),!i(E)){I("Aborting because element has been uninstalled");return}var rt=i(E).style;Pt(E,rt.width,rt.height),he(E,rt.width,rt.height)}function zi(){M(E)}function Ze(){I("Installing..."),Y(),J(),e.add(0,it),e.add(1,Ye),e.add(2,Le),e.add(3,Xe),e.add(4,zi)}I("Making detectable..."),U(E)?(I("Element is detached"),oe(),I("Waiting until element is attached..."),i(E).onRendered=function(){I("Element is now attached"),Ze()}):Ze()}function A(O){var E=i(O);E&&(E.onExpandScroll&&m(x(O),"scroll",E.onExpandScroll),E.onShrinkScroll&&m(R(O),"scroll",E.onShrinkScroll),E.onAnimationStart&&m(E.container,"animationstart",E.onAnimationStart),E.container&&O.removeChild(E.container))}return{makeDetectable:L,addListener:C,uninstall:A,initDocument:h}},Wa=kw.forEach,PN=pN,LN=gN,kN=_N,IN=vN,BN=mN,fy=Aw,AN=xN,Zr=CN,MN=TN,DN=ON;function py(n){return Array.isArray(n)||n.length!==void 0}function gy(n){if(Array.isArray(n))return n;var t=[];return Wa(n,function(e){t.push(e)}),t}function _y(n){return n&&n.nodeType===1}var $N=function(n){n=n||{};var t;if(n.idHandler)t={get:function(L){return n.idHandler.get(L,!0)},set:n.idHandler.set};else{var e=kN(),i=IN({idGenerator:e,stateHandler:Zr});t=i}var s=n.reporter;if(!s){var a=s===!1;s=BN(a)}var l=qr(n,"batchProcessor",AN({reporter:s})),u={};u.callOnAdd=!!qr(n,"callOnAdd",!0),u.debug=!!qr(n,"debug",!1);var h=LN(t),d=PN({stateHandler:Zr}),p,v=qr(n,"strategy","object"),b=qr(n,"important",!1),_={reporter:s,batchProcessor:l,stateHandler:Zr,idHandler:t,important:b};if(v==="scroll"&&(fy.isLegacyOpera()?(s.warn("Scroll strategy is not supported on legacy Opera. Changing to object strategy."),v="object"):fy.isIE(9)&&(s.warn("Scroll strategy is not supported on IE9. Changing to object strategy."),v="object")),v==="scroll")p=DN(_);else if(v==="object")p=MN(_);else throw new Error("Invalid strategy name: "+v);var m={};function x(L,A,O){function E(J){var Y=h.get(J);Wa(Y,function(Pt){Pt(J)})}function M(J,Y,it){h.add(Y,it),J&&it(Y)}if(O||(O=A,A=L,L={}),!A)throw new Error("At least one element required.");if(!O)throw new Error("Listener required.");if(_y(A))A=[A];else if(py(A))A=gy(A);else return s.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");var I=0,U=qr(L,"callOnAdd",u.callOnAdd),tt=qr(L,"onReady",function(){}),Z=qr(L,"debug",u.debug);Wa(A,function(Y){Zr.getState(Y)||(Zr.initState(Y),t.set(Y));var it=t.get(Y);if(Z&&s.log("Attaching listener to element",it,Y),!d.isDetectable(Y)){if(Z&&s.log(it,"Not detectable."),d.isBusy(Y)){Z&&s.log(it,"System busy making it detectable"),M(U,Y,O),m[it]=m[it]||[],m[it].push(function(){I++,I===A.length&&tt()});return}return Z&&s.log(it,"Making detectable..."),d.markBusy(Y,!0),p.makeDetectable({debug:Z,important:b},Y,function(F){if(Z&&s.log(it,"onElementDetectable"),Zr.getState(F)){d.markAsDetectable(F),d.markBusy(F,!1),p.addListener(F,E),M(U,F,O);var W=Zr.getState(F);if(W&&W.startSize){var z=F.offsetWidth,et=F.offsetHeight;(W.startSize.width!==z||W.startSize.height!==et)&&E(F)}m[it]&&Wa(m[it],function(pt){pt()})}else Z&&s.log(it,"Element uninstalled before being detectable.");delete m[it],I++,I===A.length&&tt()})}Z&&s.log(it,"Already detecable, adding listener."),M(U,Y,O),I++}),I===A.length&&tt()}function R(L){if(!L)return s.error("At least one element is required.");if(_y(L))L=[L];else if(py(L))L=gy(L);else return s.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");Wa(L,function(A){h.removeAllListeners(A),p.uninstall(A),Zr.cleanState(A)})}function C(L){p.initDocument&&p.initDocument(L)}return{listenTo:x,removeListener:h.removeListener,removeAllListeners:h.removeAllListeners,uninstall:R,initDocument:C}};function qr(n,t,e){var i=n[t];return i==null&&e!==void 0?e:i}const FN=nA($N),NN={id:"content",class:"draw"},WN={class:"draw-sidebar"},zN={class:"draw-box"},HN=ot({__name:"index",setup(n){const t=q(null),e=FN(),{editCanvasResize:i}=Cc(),s=q(null),a=q("text"),l=q(!0),u=q(!0);vn(()=>{s.value=new hN("canvas"),h()}),Gt(()=>l.value,d=>{const p=document.getElementById("content");if(!p)return;const v=p.offsetWidth,b=p.offsetHeight;let _=v-322;const m=b-60;d&&(_=_-260),i({width:_,height:m})});const h=()=>{const d=dN.debounce((p,v)=>{i({width:p-322-260,height:v-60})},100);e.listenTo(document.getElementById("content"),function(p){const v=p.offsetWidth,b=p.offsetHeight;if(u.value)return u.value=!1;d(v,b)})};return vy(()=>{e.uninstall(document.getElementById("content"))}),(d,p)=>{const v=_A,b=gA,_=De("jy-icon"),m=vA,x=pA;return G(),ht("div",NN,[st("div",WN,[vt(w8,{modelValue:a.value,"onUpdate:modelValue":p[0]||(p[0]=R=>a.value=R)},null,8,["modelValue"])]),st("div",zN,[vt(x,null,{default:lt(()=>[vt(v,null,{default:lt(()=>[vt($8)]),_:1}),vt(x,null,{default:lt(()=>[vt(b,{width:l.value?"260px":"0"},{default:lt(()=>[a.value==="text"?(G(),xt(T8,{key:0})):a.value==="element"?(G(),xt(G8,{key:1})):a.value==="image"?(G(),xt(Y8,{key:2})):Tt("",!0)]),_:1},8,["width"]),vt(m,{style:{padding:"0"},class:"layout-main"},{default:lt(()=>[vt(_,{class:"icon",type:"icon-right",onClick:p[1]||(p[1]=R=>l.value=!l.value)}),st("canvas",{id:"canvas",ref_key:"canvasRef",ref:t},null,512)]),_:1}),vt(b,{width:"260px"},{default:lt(()=>[vt(oN)]),_:1})]),_:1})]),_:1})])])}}}),wW=as(HN,[["__scopeId","data-v-baacb83f"]]);export{wW as default};
